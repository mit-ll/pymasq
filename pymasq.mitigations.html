<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>pymasq.mitigations package &mdash; pymasq 1.0 documentation</title><link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> pymasq
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="readme.html">README</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">pymasq</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pymasq</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>pymasq.mitigations package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/pymasq.mitigations.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="pymasq-mitigations-package">
<h1>pymasq.mitigations package<a class="headerlink" href="#pymasq-mitigations-package" title="Permalink to this headline"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline"></a></h2>
</section>
<section id="module-pymasq.mitigations.add_noise">
<span id="pymasq-mitigations-add-noise-module"></span><h2>pymasq.mitigations.add_noise module<a class="headerlink" href="#module-pymasq.mitigations.add_noise" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt id="pymasq.mitigations.add_noise.add_noise">
<code class="sig-prename descclassname">pymasq.mitigations.add_noise.</code><code class="sig-name descname">add_noise</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">, </span>pandas.core.series.Series<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">method</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span> &#x2192; Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">, </span>pandas.core.series.Series<span class="p">]</span><a class="headerlink" href="#pymasq.mitigations.add_noise.add_noise" title="Permalink to this definition"></a></dt>
<dd><p>Perturb numerical data with noise.</p>
<p>Wrapper function for <cite>add_noise_additive</cite>, <cite>add_noise_correlated</cite>,
<cite>add_noise_restricted</cite>, and <cite>add_noise_outliers</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em><em>, </em><em>Series</em><em>, or </em><em>array_like</em>) – The data to be modified. A <cite>DataFrame</cite> is required`add_noise` if <cite>method</cite> is “correlated”.</p></li>
<li><p><strong>method</strong> (<em>{'additive'</em><em>, </em><em>'correlated'</em><em>, </em><em>'restricted'</em><em>, </em><em>'outliers'}</em><em>, </em><em>optional</em><em> (</em><em>Default: 'additive'</em><em>)</em>) – The perturbative noise method.</p></li>
<li><p><strong>cols</strong> (<em>str</em><em> or </em><em>list</em><em>, </em><em>Optional</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe. For
additive noise, a column is required to be provided.</p></li>
<li><p><strong>magnitude</strong> (<em>int</em><em> or </em><em>float</em><em>, </em><em>optional</em>) – The amount of noise (in percentages) to add (Default: 5)</p></li>
<li><p><strong>**kwargs</strong> – <p>Additional argument(s) to be passed to <cite>add_noise_additive</cite>.</p>
<p>if <cite>method</cite> is ‘additive’:</p>
<blockquote>
<div><ul>
<li><dl class="simple">
<dt>degrees<span class="classifier">int, optional (Default: 1)</span></dt><dd><p>The degrees of freedom for calculating standard deviation.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>centered<span class="classifier">bool (Default: False)</span></dt><dd><p>Set the mean (“center”) of the distribution.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<dl class="simple">
<dt>if <cite>method</cite> is <cite>correlated</cite>:</dt><dd><ul>
<li><dl class="simple">
<dt>encode_non_numeric<span class="classifier">bool (Default: False)</span></dt><dd><p>Encode non-numeric columns as numerical vectors to perform the covariance matrix calculations.
If False, only numeric columns will be accounted for.</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt>if <cite>method</cite> is <cite>restricted</cite>:</dt><dd><p>_None_</p>
</dd>
<dt>if <cite>method</cite> is <cite>outliers</cite>:</dt><dd><ul>
<li><p>q : float (Default: 0.99)</p></li>
<li><p>interpolation : str (Default: “linear”)</p></li>
<li><p>seed: int (Default: 123)</p></li>
</ul>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A DataFrame with noise added to it.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>InputError:</strong> – This error is raised when invalid arguments are passed.</p></li>
<li><p><strong>DataTypeError:</strong> – This error is raised when the parameters supplied for a given method do not match the
    appropriate type of the expected parameters of that method.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#pymasq.mitigations.add_noise_additive" title="pymasq.mitigations.add_noise_additive"><code class="xref py py-func docutils literal notranslate"><span class="pre">pymasq.mitigations.add_noise_additive()</span></code></a></dt><dd><p>Add Gaussian noise to data.</p>
</dd>
<dt><a class="reference internal" href="#pymasq.mitigations.add_noise_correlated" title="pymasq.mitigations.add_noise_correlated"><code class="xref py py-func docutils literal notranslate"><span class="pre">pymasq.mitigations.add_noise_correlated()</span></code></a></dt><dd><p>Add correlated noise to data.</p>
</dd>
<dt><a class="reference internal" href="#pymasq.mitigations.add_noise_restricted" title="pymasq.mitigations.add_noise_restricted"><code class="xref py py-func docutils literal notranslate"><span class="pre">pymasq.mitigations.add_noise_restricted()</span></code></a></dt><dd><p>Add noise relative to the sample size of the data.</p>
</dd>
<dt><a class="reference internal" href="#pymasq.mitigations.add_noise_outliers" title="pymasq.mitigations.add_noise_outliers"><code class="xref py py-func docutils literal notranslate"><span class="pre">pymasq.mitigations.add_noise_outliers()</span></code></a></dt><dd><p>Add noise to outliers of the data.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt id="pymasq.mitigations.add_noise.add_noise_additive">
<code class="sig-prename descclassname">pymasq.mitigations.add_noise.</code><code class="sig-name descname">add_noise_additive</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">, </span>pandas.core.series.Series<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">magnitude</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>int<span class="p">, </span>float<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">5</span></em>, <em class="sig-param"><span class="n">centered</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">degrees</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">1</span></em>, <em class="sig-param"><span class="n">cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>List<span class="p">, </span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">keep_dtypes</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#pymasq.mitigations.add_noise.add_noise_additive" title="Permalink to this definition"></a></dt>
<dd><p>Add Gaussian noise to data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em><em> or </em><em>Series</em>) – The data to be modified.</p></li>
<li><p><strong>magnitude</strong> (<em>int</em><em> (</em><em>Default: 5</em><em>)</em>) – Amount of perturbative noise (in percentages) to add.</p></li>
<li><p><strong>centered</strong> (<em>bool</em><em> (</em><em>Default: False</em><em>)</em>) – Set the mean (“center”) of the distribution. If False, the added noise will be
centered around 0.0, otherwise it will be centered around the mean, relative to the <cite>magnitude</cite>.</p></li>
<li><p><strong>degrees</strong> (<em>int</em><em> (</em><em>Default: 1</em><em>)</em>) – Number of degrees of freedom. Must be greater than or equal to 0.</p></li>
<li><p><strong>cols</strong> (<em>str</em><em> or </em><em>list</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
<li><p><strong>keep_dtypes</strong> (<em>bool</em><em> (</em><em>Default: True</em><em>)</em>) – Determine whether the data types of the output values should be the same as the
data types of the input values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A DataFrame perturbed with additive noise.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random_integers</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">)))</span>
<span class="go">    0  1  2</span>
<span class="go">0  182  529  949</span>
<span class="go">1  783  375  59</span>
<span class="go">2  253  349  631</span>
<span class="go">3  889  683  996</span>
<span class="go">4  523  554  803</span>
<span class="go">5  279  379  242</span>
<span class="go">6  639  26   833</span>
<span class="go">7  30   307  551</span>
<span class="go">8  681  885  822</span>
<span class="go">9  659  180  823</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">add_noise_additive</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">magnitude</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">centered</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">    0  1  2</span>
<span class="go">0  188  526  948</span>
<span class="go">1  779  383  63</span>
<span class="go">2  252  346  646</span>
<span class="go">3  891  690  992</span>
<span class="go">4  520  555  800</span>
<span class="go">5  274  380  243</span>
<span class="go">6  642  18   838</span>
<span class="go">7  30   299  552</span>
<span class="go">8  682  890  814</span>
<span class="go">9  656  186  821</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="pymasq.mitigations.add_noise.add_noise_correlated">
<code class="sig-prename descclassname">pymasq.mitigations.add_noise.</code><code class="sig-name descname">add_noise_correlated</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">magnitude</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>int<span class="p">, </span>float<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">5</span></em>, <em class="sig-param"><span class="n">encode_non_numeric</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>List<span class="p">, </span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">keep_dtypes</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#pymasq.mitigations.add_noise.add_noise_correlated" title="Permalink to this definition"></a></dt>
<dd><p>Add correlated noise to data.</p>
<blockquote>
<div><p>Note that this method requires 2 or more data features, or columns.</p>
<dl class="simple">
<dt>data<span class="classifier">DataFrame</span></dt><dd><p>The data to be modified.</p>
</dd>
<dt>magnitude<span class="classifier">int (Default: 5)</span></dt><dd><p>Amount of perturbative noise to add. This will be converted into a percentage
(e.g., magnitude=5 will add 5% noise).</p>
</dd>
<dt>encode_non_numeric<span class="classifier">bool (Default: False)</span></dt><dd><p>If True, all non-numeric columns in <cite>data</cite> will be encoded as numerical values
using a LabelEncoder and be included in the covariance matrix calculations (note
that this will result in non-numeric columns being returned as numeric features).
If False, only numeric columns will be accounted for.</p>
</dd>
<dt>cols<span class="classifier">str or list</span></dt><dd><p>The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p>
</dd>
<dt>keep_dtypes<span class="classifier">bool (Default: True)</span></dt><dd><p>Determine whether the data types of the output values should be the same as the
data types of the input values.</p>
</dd>
</dl>
<dl class="simple">
<dt>DataFrame</dt><dd><p>A DataFrame perturbed with correlated noise.</p>
</dd>
</dl>
<dl class="simple">
<dt>InputError:</dt><dd><p>This error is raised when an insufficient number of columns are specified.</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random_integers</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">)))</span>
<span class="go">   0    1    2</span>
<span class="go">0  182  529  949</span>
<span class="go">1  783  375  59</span>
<span class="go">2  253  349  631</span>
<span class="go">3  889  683  996</span>
<span class="go">4  523  554  803</span>
<span class="go">5  279  379  242</span>
<span class="go">6  639  26   833</span>
<span class="go">7  30   307  551</span>
<span class="go">8  681  885  822</span>
<span class="go">9  659  180  823</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">add_noise_correlated</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">magnitude</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">keep_dtypes</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">    0   1    2</span>
<span class="go">0  146  525  944</span>
<span class="go">1  772  351  65</span>
<span class="go">2  286  344  601</span>
<span class="go">3  903  664  947</span>
<span class="go">4  520  543  827</span>
<span class="go">5  296  375  257</span>
<span class="go">6  588  30   821</span>
<span class="go">7  32   346  581</span>
<span class="go">8  630  893  787</span>
<span class="go">9  639  158  857</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random_integers</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df2</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">],</span> <span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="go">    0  1   2   3</span>
<span class="go">0  98  3   39  b</span>
<span class="go">1  37  8   56  a</span>
<span class="go">2  31  68  83  c</span>
<span class="go">3  18  71  64  b</span>
<span class="go">4  33  63  3   c</span>
<span class="go">5  38  20  20  c</span>
<span class="go">6  23  33  52  a</span>
<span class="go">7  52  32  15  a</span>
<span class="go">8  28  95  65  b</span>
<span class="go">9  58  80  73  a</span>
</pre></div>
</div>
</div></blockquote>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">add_noise_correlated</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">magnitude</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">encode_non_numeric</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">keep_dtypes</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">      0  1   2   3</span>
<span class="go">  0  98  2   38  0.986802</span>
<span class="go">  1  37  7   55  0.00440759</span>
<span class="go">  2  31  67  83  1.98077</span>
<span class="go">  3  19  70  63  1.00325</span>
<span class="go">  4  32  63  2   1.98965</span>
<span class="go">  5  37  19  20  1.98499</span>
<span class="go">  6  23  32  52  -0.0159703</span>
<span class="go">  7  51  30  14  0.012063</span>
<span class="go">  8  28  94  65  1.0021</span>
<span class="go">  9  57  80  73  0.0147035</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="pymasq.mitigations.add_noise.add_noise_outliers">
<code class="sig-prename descclassname">pymasq.mitigations.add_noise.</code><code class="sig-name descname">add_noise_outliers</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">magnitude</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>int<span class="p">, </span>float<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">5</span></em>, <em class="sig-param"><span class="n">q</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.99</span></em>, <em class="sig-param"><span class="n">interpolation</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'linear'</span></em>, <em class="sig-param"><span class="n">seed</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">123</span></em>, <em class="sig-param"><span class="n">cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>List<span class="p">, </span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">keep_dtypes</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#pymasq.mitigations.add_noise.add_noise_outliers" title="Permalink to this definition"></a></dt>
<dd><p>Add noise to outliers of the data.</p>
<p>Note that this method requires 2 or more data features, or columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em>) – The data to be modified.</p></li>
<li><p><strong>magnitude</strong> (<em>int</em><em> (</em><em>Default: 5</em><em>)</em>) – Amount of perturbative noise to add. This will be converted into a percentage
(e.g., magnitude=5 will add 5% noise).</p></li>
<li><p><strong>q</strong> (<em>float</em>) – The quantile(s) to compute. Must be between 0 &lt;= q &lt;= 1.</p></li>
<li><p><strong>interpolation</strong> (<em>{'linear'</em><em>, </em><em>'lower'</em><em>, </em><em>'higher'</em><em>, </em><em>'midpoint'</em><em>, </em><em>'nearest'}</em><em> (</em><em>Default: 'linear'</em><em>)</em>) – The interpolation method to use. Refer to <a href="#id67"><span class="problematic" id="id1">[1]_</span></a> for a complete list of allowed values.</p></li>
<li><p><strong>seed</strong> (<em>int</em><em> (</em><em>Default: 123</em><em>)</em>) – Random seed to use to fit a Minimum Covariance Determinant (MCD) estimator model.</p></li>
<li><p><strong>cols</strong> (<em>str</em><em> or </em><em>list</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
<li><p><strong>keep_dtypes</strong> (<em>bool</em><em> (</em><em>Default: True</em><em>)</em>) – Determine whether the data types of the output values should be the same as the
data types of the input values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A DataFrame with noise added to its outliers.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random_integers</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">)))</span>
<span class="go">    0   1    2</span>
<span class="go">0  182  529  949</span>
<span class="go">1  783  375  59</span>
<span class="go">2  253  349  631</span>
<span class="go">3  889  683  996</span>
<span class="go">4  523  554  803</span>
<span class="go">5  279  379  242</span>
<span class="go">6  639  26   833</span>
<span class="go">7  30   307  551</span>
<span class="go">8  681  885  822</span>
<span class="go">9  659  180  823</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">add_noise_outliers</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">magnitude</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">q</span> <span class="o">=</span> <span class="mf">0.99</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">123</span><span class="p">)</span>
<span class="go">    0   1    2</span>
<span class="go">0  182  526  944</span>
<span class="go">1  785  378  63</span>
<span class="go">2  253  349  631</span>
<span class="go">3  895  685  995</span>
<span class="go">4  523  554  803</span>
<span class="go">5  283  382  243</span>
<span class="go">6  639  26   833</span>
<span class="go">7  30   307  551</span>
<span class="go">8  685  880  824</span>
<span class="go">9  659  180  823</span>
</pre></div>
</div>
<p class="rubric">References</p>
<p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.quantile.html">https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.quantile.html</a></p>
</dd></dl>

<dl class="py function">
<dt id="pymasq.mitigations.add_noise.add_noise_restricted">
<code class="sig-prename descclassname">pymasq.mitigations.add_noise.</code><code class="sig-name descname">add_noise_restricted</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">magnitude</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>int<span class="p">, </span>float<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">5</span></em>, <em class="sig-param"><span class="n">cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>List<span class="p">, </span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">keep_dtypes</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#pymasq.mitigations.add_noise.add_noise_restricted" title="Permalink to this definition"></a></dt>
<dd><p>Add noise relative to the sample size of the data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em>) – The data to be modified.</p></li>
<li><p><strong>magnitude</strong> (<em>int</em><em> (</em><em>Default: 5</em><em>)</em>) – Amount of perturbative noise to add. This will be converted into a percentage
(e.g., magnitude=5 will add 5% noise).</p></li>
<li><p><strong>cols</strong> (<em>str</em><em> or </em><em>list</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
<li><p><strong>keep_dtypes</strong> (<em>bool</em><em> (</em><em>Default: True</em><em>)</em>) – Determine whether the data types of the output values should be the same as the
data types of the input values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A DataFrame with noise added to it.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random_integers</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">)))</span>
<span class="go">    0   1    2</span>
<span class="go">0  182  529  949</span>
<span class="go">1  783  375  59</span>
<span class="go">2  253  349  631</span>
<span class="go">3  889  683  996</span>
<span class="go">4  523  554  803</span>
<span class="go">5  279  379  242</span>
<span class="go">6  639  26   833</span>
<span class="go">7  30   307  551</span>
<span class="go">8  681  885  822</span>
<span class="go">9  659  180  823</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">add_noise_restricted</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">magnitude</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">keep_dtypes</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">    0   1    2</span>
<span class="go">0  214  518  919</span>
<span class="go">1  752  380  123</span>
<span class="go">2  278  357  635</span>
<span class="go">3  847  655  961</span>
<span class="go">4  519  540  789</span>
<span class="go">5  301  384  287</span>
<span class="go">6  623  68   815</span>
<span class="go">7  78   319  563</span>
<span class="go">8  661  836  806</span>
<span class="go">9  641  205  806</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-pymasq.mitigations.geom_transform">
<span id="pymasq-mitigations-geom-transform-module"></span><h2>pymasq.mitigations.geom_transform module<a class="headerlink" href="#module-pymasq.mitigations.geom_transform" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt id="pymasq.mitigations.geom_transform.geom_transform">
<code class="sig-prename descclassname">pymasq.mitigations.geom_transform.</code><code class="sig-name descname">geom_transform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">perturb_cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>List<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">sensitive_col</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">magnitude</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>int<span class="p">, </span>float<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">0.3</span></em>, <em class="sig-param"><span class="n">shuffle</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>List<span class="p">, </span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">keep_dtypes</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pymasq.mitigations.geom_transform.geom_transform" title="Permalink to this definition"></a></dt>
<dd><p>Perform geometric transformations on data via PABIDOT algorithm.</p>
<p>The Privacy preservation Algorithm for Big Data Using Optimal geometric Transformations (PABIDOT) algorithm
is an irreversible input perturbation mechanism with a new privacy model (Φ − separation) which facilitates full data release.
Φ − separation provides an empirical privacy guarantee against data reconstruction attacks.
PABIDOT is substantially faster than comparable methods; it sequentially applies random axis reflection,
noise translation, and multidimensional concatenated subplane rotation followed by randomized expansion and random tuple shuffling
for further randomization. Randomized expansion is a novel method to increase the positiveness or the
negativeness of a particular data instance. PABIDOT’s memory overhead is comparatively close to other solutions,
and it provides better attack resistance, classification accuracy, and excellent efficiency towards big data. [1]</p>
<p>Code was adapted from the author’s official github repo [2].</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em>) – The data to be modified.</p></li>
<li><p><strong>perturb_cols</strong> (<em>List of str</em><em> or </em><em>ints</em><em>, </em><em>, </em><em>Optional</em><em> (</em><em>Default: None</em><em>)</em>) – The subset of columns that will be manipulated from <cite>data</cite>. The values of <cite>data[perturb_cols]</cite>
must be numeric and there can be no overlapping columns with <cite>sensitive_col</cite>. If omitted,
all columns of <cite>data</cite> will be perturbed.</p></li>
<li><p><strong>sensitive_col</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>Optional</em><em> (</em><em>Default: None</em><em>)</em>) – The subset of columns that should not be perturbed and instead used as a reference when shuffling records (rows).
If defined, then only the columns specified in <cite>perturb_cols</cite> will be modified.
There can be no overlapping columns with <cite>perturb_cols</cite>.</p></li>
<li><p><strong>magnitude</strong> (<em>int</em><em> or </em><em>float</em><em> (</em><em>Default: 0.3</em><em>)</em>) – Amount of perturbative noise (in percentages) to add.</p></li>
<li><p><strong>shuffle</strong> (<em>bool</em><em> (</em><em>Default: True</em><em>)</em>) – Perform random record shuffling for further randomization. If set to True, then
records (rows) will be shuffled at random. Columns not specified in <cite>perturb_cols</cite> or
<cite>sensitve_cols</cite> will not be shuffled.</p></li>
<li><p><strong>cols</strong> (<em>str</em><em> or </em><em>list</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
<li><p><strong>keep_dtypes</strong> (<em>bool</em><em> (</em><em>Default: True</em><em>)</em>) – Determine whether the data types of the output values should be the same as the
data types of the input values.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random_integers</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">)))</span>
<span class="go">    0   1   2   3</span>
<span class="go">0  72  13  92  91</span>
<span class="go">1  55  63  65  76</span>
<span class="go">2  36  61  10  63</span>
<span class="go">3  60  55  58  22</span>
<span class="go">4  33   7  42  73</span>
<span class="go">5  70  62  70  71</span>
<span class="go">6  59  71  61  92</span>
<span class="go">7  16   2  87  36</span>
<span class="go">8   3  40  83  40</span>
<span class="go">9  98  19   1  81</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">geom_transform</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">perturb_cols</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="go">           0          1   2   3</span>
<span class="go">0  71.648190  51.070171  42  73</span>
<span class="go">1  -9.134024  23.795086  92  91</span>
<span class="go">2   6.611443  97.804900  87  36</span>
<span class="go">3  -2.610105  69.084472  65  76</span>
<span class="go">4  23.181531  -6.396323  61  92</span>
<span class="go">5 -19.614609   4.535011  10  63</span>
<span class="go">6  43.362837  55.888641  83  40</span>
<span class="go">7  58.018783  61.896669   1  81</span>
<span class="go">8  60.973738  49.287759  58  22</span>
<span class="go">9  62.473920  20.604887  70  71</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">geom_transform</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">perturb_cols</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">sensitive_col</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="go">           0           1   2   3</span>
<span class="go">0 -11.316355   50.629356  92  73</span>
<span class="go">1  28.481677   17.091661  65  40</span>
<span class="go">2  -4.765645   93.733731  10  91</span>
<span class="go">3  72.519084   80.838710  58  92</span>
<span class="go">4  64.041619   89.521283  42  71</span>
<span class="go">5  56.931659   55.653460  70  63</span>
<span class="go">6   2.980840  119.995536  61  81</span>
<span class="go">7 -15.246824   28.281672  87  36</span>
<span class="go">8  53.494104   82.965545  83  22</span>
<span class="go">9  67.496956   70.102160   1  76</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">geom_transform</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">perturb_cols</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">sensitive_col</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">           0           1   2   3</span>
<span class="go">0  16.245920   82.742434  92  91</span>
<span class="go">1  76.375344   68.423197  65  76</span>
<span class="go">2  74.066167   50.099138  10  63</span>
<span class="go">3  66.465686   67.654576  58  22</span>
<span class="go">4   6.436980   49.678812  42  73</span>
<span class="go">5  74.770801   77.528999  70  71</span>
<span class="go">6  85.229085   69.590935  61  92</span>
<span class="go">7   1.085223   20.477899  87  36</span>
<span class="go">8  41.831609    6.293705  83  40</span>
<span class="go">9  24.960647  108.288109   1  81</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">geom_transform</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">perturb_cols</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">sensitive_col</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">keep_dtypes</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">    0    1   3</span>
<span class="go">0   1   82  91</span>
<span class="go">1  72   56  76</span>
<span class="go">2  68   35  63</span>
<span class="go">3  64   65  22</span>
<span class="go">4   1   31  73</span>
<span class="go">5  69   79  71</span>
<span class="go">6  82   61  92</span>
<span class="go">7  -6   14  36</span>
<span class="go">8  30    6  40</span>
<span class="go">9   9  102  81</span>
</pre></div>
</div>
<p class="rubric">References</p>
<p>[1] Chamikara, M. A. P., Bertók, P., Liu, D., Camtepe, S., &amp; Khalil, I. (2020). Efficient privacy preservation of big data for accurate data mining. Information Sciences, 527, 420-443. <a class="reference external" href="https://arxiv.org/pdf/1906.08149.pdf">https://arxiv.org/pdf/1906.08149.pdf</a>
[2] <a class="reference external" href="https://github.com/chamikara1986/PABIDOT/blob/master/PABIDOT.m">https://github.com/chamikara1986/PABIDOT/blob/master/PABIDOT.m</a></p>
</dd></dl>

</section>
<section id="module-pymasq.mitigations.global_recode">
<span id="pymasq-mitigations-global-recode-module"></span><h2>pymasq.mitigations.global_recode module<a class="headerlink" href="#module-pymasq.mitigations.global_recode" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt id="pymasq.mitigations.global_recode.global_recode">
<code class="sig-prename descclassname">pymasq.mitigations.global_recode.</code><code class="sig-name descname">global_recode</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">, </span>pandas.core.series.Series<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">bins</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>int<span class="p">, </span>List<span class="p">, </span>numpy.ndarray<span class="p">, </span>pandas.core.indexes.interval.IntervalIndex<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">2</span></em>, <em class="sig-param"><span class="n">bin_method</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">labels</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>List<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ordered</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">ret_ints</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#pymasq.mitigations.global_recode.global_recode" title="Permalink to this definition"></a></dt>
<dd><p>Recode numeric values as categorical variables.</p>
<p>This function modifies a continuous numeric column and recodes it as a categorical variable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em><em>, </em><em>Series</em><em>, or </em><em>array_like</em>) – The data to be modified.</p></li>
<li><p><strong>labels</strong> (<em>list of str</em><em>, </em><em>optional</em><em> (</em><em>Default: None</em><em>)</em>) – The labels given to the new categories created. Labels must be the
same length as number of <cite>bins</cite>. If <cite>None</cite> the labels will default to “(a, b]” with a and b
being the endpoints of the category. Note: if <cite>ordered</cite> is False labels must be provided.</p></li>
<li><p><strong>bins</strong> (<em>int</em><em>, </em><em>list of floats</em><em>, or </em><em>IntervalIndex</em>) – <dl class="simple">
<dt>The criteria number of bins to split the data by.</dt><dd><ul>
<li><p>int : Defines the number of equal-width bins in the range of <cite>data</cite>. The
range of <cite>data</cite> is extended by .1% on each side to include the minimum.
and maximum values of <cite>data</cite>.</p></li>
<li><p>list of floats : Defines the bin edges allowing for non-uniform
width. No extension of the range of <cite>data</cite> is done.</p></li>
<li><p>IntervalIndex : Defines the exact bins to be used. Note that
IntervalIndex for <cite>bins</cite> must be non-overlapping.</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>bin_method</strong> (<em>{&quot;equidistant&quot;</em><em>, </em><em>&quot;log_equidistant&quot;</em><em>, </em><em>&quot;equal&quot;</em><em>, </em><em>&quot;magnitude&quot;}</em><em>, </em><em>Optional</em><em> (</em><em>Default: &quot;equidistant&quot;</em><em>)</em>) – The method for creating breaking up the bins.
* equidistant : bins have the same width
* log_equidistant : bins have same width on a natural log scale
* equal : bins each contain the same amount of items
* magnitude : bins have the same width on log-10 scale</p></li>
<li><p><strong>ordered</strong> (<em>bool</em><em>, </em><em>optional</em><em> (</em><em>Default: True</em><em>)</em>) – Whether labels are ordered or not</p></li>
<li><p><strong>ret_ints</strong> (<em>bool</em><em>, </em><em>optional</em><em> (</em><em>Default: False</em><em>)</em>) – Whether to return data as categoritcal or integer, must be interger to use utility scores</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A DataFrame with recoded values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pymasq.mitigations</span> <span class="kn">import</span> <span class="n">global_recode</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">)),</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">])</span>
<span class="go">    a  b   c</span>
<span class="go">0  27  18  61</span>
<span class="go">1  25  44  61</span>
<span class="go">2  82  23  19</span>
<span class="go">3  62  40  30</span>
<span class="go">4  37  11  95</span>
<span class="go">5  46  1   38</span>
<span class="go">6  20  59  96</span>
<span class="go">7  46  96  82</span>
<span class="go">8  72  9   20</span>
<span class="go">9  12  63  4</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">global_recode</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="go">    a                b                  c</span>
<span class="go">0  (11.929, 35.333]  (0.904, 32.667]   (34.667, 65.333]</span>
<span class="go">1  (11.929, 35.333]  (32.667, 64.333]  (34.667, 65.333]</span>
<span class="go">2  (58.667, 82.0]    (0.904, 32.667]   (3.907, 34.667]</span>
<span class="go">3  (58.667, 82.0]    (32.667, 64.333]  (3.907, 34.667]</span>
<span class="go">4  (35.333, 58.667]  (0.904, 32.667]   (65.333, 96.0]</span>
<span class="go">5  (35.333, 58.667]  (0.904, 32.667]   (34.667, 65.333]</span>
<span class="go">6  (11.929, 35.333]  (32.667, 64.333]  (65.333, 96.0]</span>
<span class="go">7  (35.333, 58.667]  (64.333, 96.0]    (65.333, 96.0]</span>
<span class="go">8  (58.667, 82.0]    (0.904, 32.667]   (3.907, 34.667]</span>
<span class="go">9  (11.929, 35.333]  (32.667, 64.333]  (3.907, 34.667]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">global_recode</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;lo&#39;</span><span class="p">,</span> <span class="s1">&#39;med&#39;</span><span class="p">,</span> <span class="s1">&#39;hi&#39;</span><span class="p">])</span>
<span class="go">    a   b    c</span>
<span class="go">0  lo   lo   med</span>
<span class="go">1  lo   med  med</span>
<span class="go">2  hi   lo   lo</span>
<span class="go">3  hi   med  lo</span>
<span class="go">4  med  lo   hi</span>
<span class="go">5  med  lo   med</span>
<span class="go">6  lo   med  hi</span>
<span class="go">7  med  hi   hi</span>
<span class="go">8  hi   lo   lo</span>
<span class="go">9  lo   med  lo</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">global_recode</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">bin_method</span><span class="o">=</span><span class="s1">&#39;equal&#39;</span><span class="p">)</span>
<span class="go">    a              b              c</span>
<span class="go">0  (27.0, 46.0]    (18.0, 44.0]   (30.0, 61.0]</span>
<span class="go">1  (11.999, 27.0]  (44.0, 96.0]   (30.0, 61.0]</span>
<span class="go">2  (46.0, 82.0]    (18.0, 44.0]   (3.999, 30.0]</span>
<span class="go">3  (46.0, 82.0]    (18.0, 44.0]   (30.0, 61.0]</span>
<span class="go">4  (27.0, 46.0]    (0.999, 18.0]  (61.0, 96.0]</span>
<span class="go">5  (27.0, 46.0]    (0.999, 18.0]  (30.0, 61.0]</span>
<span class="go">6  (11.999, 27.0]  (44.0, 96.0]   (61.0, 96.0]</span>
<span class="go">7  (27.0, 46.0]    (44.0, 96.0]   (61.0, 96.0]</span>
<span class="go">8  (46.0, 82.0]    (0.999, 18.0]  (3.999, 30.0]</span>
<span class="go">9  (11.999, 27.0]  (44.0, 96.0]   (3.999, 30.0]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">global_recode</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">ret_ints</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">   a  b  c</span>
<span class="go">0  0  0  0</span>
<span class="go">1  0  2  0</span>
<span class="go">2  2  2  0</span>
<span class="go">3  2  1  0</span>
<span class="go">4  0  2  2</span>
<span class="go">5  1  2  1</span>
<span class="go">6  2  1  1</span>
<span class="go">7  2  2  0</span>
<span class="go">8  1  0  0</span>
<span class="go">9  0  1  2</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-pymasq.mitigations.hashing">
<span id="pymasq-mitigations-hashing-module"></span><h2>pymasq.mitigations.hashing module<a class="headerlink" href="#module-pymasq.mitigations.hashing" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt id="pymasq.mitigations.hashing.hashing">
<code class="sig-prename descclassname">pymasq.mitigations.hashing.</code><code class="sig-name descname">hashing</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>pandas.core.series.Series<span class="p">, </span>pandas.core.frame.DataFrame<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">hash_func</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>Callable<span class="p">, </span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">'sha256'</span></em>, <em class="sig-param"><span class="n">salt</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>List<span class="p">, </span>numpy.ndarray<span class="p">, </span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">append_salt</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">store_salt</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>List<span class="p">, </span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#pymasq.mitigations.hashing.hashing" title="Permalink to this definition"></a></dt>
<dd><p>Map all input values onto a set of output values using a hashing function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em><em>, </em><em>Series</em><em>, or </em><em>array_like</em>) – The data to be modified.</p></li>
<li><p><strong>hash_func</strong> (<em>function</em><em> or </em><em>str</em><em> (</em><em>Default: &quot;sha256&quot;</em><em>)</em>) – The hashing function to use. If <cite>hash_func</cite> is a string, then it should correspond to
a function name in the <cite>hashlib</cite> Python library <a href="#id68"><span class="problematic" id="id2">[1]_</span></a>. Else, it will apply the user-defined function.
Algorithms listed in <cite>hashlib.algorithms_guaranteed</cite> are prefererd.</p></li>
<li><p><strong>salt</strong> (<em>list</em><em>, </em><em>str</em><em>, or </em><em>int</em><em>, </em><em>Optional</em>) – The salt, or random data, to add to <cite>data</cite> to perturb it before hashing occurs.
If left as <cite>None</cite>, then no salt will be added to <cite>data</cite>. If <cite>salt</cite> is a list,
then it must be of the same length as <cite>data</cite>. If <cite>salt</cite> is a string, then the same salt value
will be added to each value in <cite>data</cite>. If <cite>salt</cite> is an integer, then a random salt of that bit size
will automatically be generated (note that 16 and 32 are typical salt bit sizes).
Generated salts can be stored by specifying the <cite>store_salts</cite> parameter.
Please refer to <a href="#id69"><span class="problematic" id="id3">[2]_</span></a> for additional information on the importance of salts.</p></li>
<li><p><strong>append_salt</strong> (<em>bool</em><em> (</em><em>Default: True</em><em>)</em>) – If True, the salt will be appended at the end of <cite>data</cite>. Otherwise, the salt will be prepended to the front of <cite>data</cite>.</p></li>
<li><p><strong>store_salt</strong> (<em>str</em><em>, </em><em>Optional</em>) – The filename or complete file path where salts will be stored to. The <cite>salt</cite> will automatically
be saved as a CSV file. Note that if <cite>salt</cite> is an integer, salt values will be generated dynamically, therefore,
storing the salt values will become the only method of recovering the original value of <cite>data</cite>.
Any file of the same name as <cite>store_salt</cite> will be overwritten.</p></li>
<li><p><strong>cols</strong> (<em>str</em><em> or </em><em>list</em><em>, </em><em>Optional</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A DataFrame with hashed values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Use <cite>hashlib.algorithms_available</cite> to see available hashing functions.</p>
<p class="rubric">References</p>
<p><a class="reference external" href="https://docs.python.org/3/library/hashlib.html">https://docs.python.org/3/library/hashlib.html</a></p>
<p><a class="reference external" href="https://nvlpubs.nist.gov/nistpubs/Legacy/SP/nistspecialpublication800-132.pdf">https://nvlpubs.nist.gov/nistpubs/Legacy/SP/nistspecialpublication800-132.pdf</a></p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pymasq.datasets</span> <span class="kn">import</span> <span class="n">load_census</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">load_census</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:</span><span class="mi">10</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;marital_status&quot;</span><span class="p">,</span> <span class="s2">&quot;occupation&quot;</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">    marital_status         occupation</span>
<span class="go">0   Never-married          Adm-clerical</span>
<span class="go">1   Married-civ-spouse     Exec-managerial</span>
<span class="go">2   Divorced               Handlers-cleaners</span>
<span class="go">3   Married-civ-spouse     Handlers-cleaners</span>
<span class="go">4   Married-civ-spouse     Prof-specialty</span>
<span class="go">5   Married-civ-spouse     Exec-managerial</span>
<span class="go">6   Married-spouse-absent  Other-service</span>
<span class="go">7   Married-civ-spouse     Exec-managerial</span>
<span class="go">8   Never-married          Prof-specialty</span>
<span class="go">9   Married-civ-spouse     Exec-managerial</span>
<span class="go">10  Married-civ-spouse     Exec-managerial</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hashing</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">hash_func</span><span class="o">=</span><span class="s2">&quot;md5&quot;</span><span class="p">)</span>
<span class="go">    marital_status                    occupation</span>
<span class="go">0   73cf421158c109aa4db6861489471f81  4c4e21b293a987859a0d20bcba98157f</span>
<span class="go">1   cbd21dd3a341657f6d347dfed4717deb  8f2cf8dfc926906b968e7f5e0588f55a</span>
<span class="go">2   f2e4016d0c9314f9cf4b36489da5b0dd  379f2522eec3badf2b0c23ee58a60a72</span>
<span class="go">3   cbd21dd3a341657f6d347dfed4717deb  379f2522eec3badf2b0c23ee58a60a72</span>
<span class="go">4   cbd21dd3a341657f6d347dfed4717deb  e382d0ae524f4f8dbb7f3e320e05b600</span>
<span class="go">5   cbd21dd3a341657f6d347dfed4717deb  8f2cf8dfc926906b968e7f5e0588f55a</span>
<span class="go">6   538a9356eea33950d99104606fbe09ad  c730c4fd37611c3afc670d4c524ec180</span>
<span class="go">7   cbd21dd3a341657f6d347dfed4717deb  8f2cf8dfc926906b968e7f5e0588f55a</span>
<span class="go">8   73cf421158c109aa4db6861489471f81  e382d0ae524f4f8dbb7f3e320e05b600</span>
<span class="go">9   cbd21dd3a341657f6d347dfed4717deb  8f2cf8dfc926906b968e7f5e0588f55a</span>
<span class="go">10  cbd21dd3a341657f6d347dfed4717deb  8f2cf8dfc926906b968e7f5e0588f55a</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hashing</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">hash_func</span><span class="o">=</span><span class="s2">&quot;md5&quot;</span><span class="p">,</span> <span class="n">salt</span><span class="o">=</span><span class="s2">&quot;random-string&quot;</span><span class="p">)</span>
<span class="go">    marital_status                      occupation</span>
<span class="go">0   7a14ab6033c824ac361a1794febd2e19        21c32d969ed3c02e4608f90262f3884c</span>
<span class="go">1   386dda8775ed53032c7e5a84d2f18399        91a3639f58d9711bd15436a09af4fa73</span>
<span class="go">2   38aec33b4b1518f1949f4e8e98b8cf89        adb1a3c463d9a7a1525efe6aee49413f</span>
<span class="go">3   386dda8775ed53032c7e5a84d2f18399        adb1a3c463d9a7a1525efe6aee49413f</span>
<span class="go">4   386dda8775ed53032c7e5a84d2f18399        4538d56cfcbd690a2d2eea3e557bb48f</span>
<span class="go">5   386dda8775ed53032c7e5a84d2f18399        91a3639f58d9711bd15436a09af4fa73</span>
<span class="go">6   8e378f2aaa2a37999eb51aded134048f        87653015c652de3cefec557b5497b00f</span>
<span class="go">7   386dda8775ed53032c7e5a84d2f18399        91a3639f58d9711bd15436a09af4fa73</span>
<span class="go">8   7a14ab6033c824ac361a1794febd2e19        4538d56cfcbd690a2d2eea3e557bb48f</span>
<span class="go">9   386dda8775ed53032c7e5a84d2f18399        91a3639f58d9711bd15436a09af4fa73</span>
<span class="go">10  386dda8775ed53032c7e5a84d2f18399        91a3639f58d9711bd15436a09af4fa73</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hashing</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">hash_func</span><span class="o">=</span><span class="s2">&quot;md5&quot;</span><span class="p">,</span> <span class="n">salt</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="go">    marital_status                      occupation</span>
<span class="go">0   c9d3a62a96acd378954cc8928f716259        b989a09703027029b83c8b0f5ccb73dd</span>
<span class="go">1   625903e06f5cce02129e7e2b6cbb6b27        9fb4f8f0f4c98da85e328b0d52fc5bdf</span>
<span class="go">2   e0b2e2202d92e0b409be4a3fea83ef95        9b2b47e32d239641442089ce1af41342</span>
<span class="go">3   3e13c0bce44e7615a964ff531e207ccd        b3df77e0c7cade94afdd6d67fee5dddf</span>
<span class="go">4   8820d08088724128c99a2b3aaee308a1        4208add69e4bfdb506912a5ad2c7be48</span>
<span class="go">5   588cdaef14ecbf2e4423f2c61f0ebc08        49af370931c3ee27a38a74b6b6587fa8</span>
<span class="go">6   60a94bd6425d2746a1fee6a4bc79314b        9ef0a203e97dc1ae6c19497ccabfcbc2</span>
<span class="go">7   9c34c01b6f20e319340be9a04024a00b        01635612db0afbcf86b97b4744c16610</span>
<span class="go">8   157acb7a5bf8cb2a5f8acb49f3f726c4        41c50586e58d07257c23ab605842fe14</span>
<span class="go">9   a8a4bcf40ed192185455e17473105f8d        70ddd4700872cc81f0d58f0039762794</span>
<span class="go">10  0806d9fbcd3a12c2503a8dda7622a765        e3fc14fc7f8e5ecd6c1e220b0fd8b686</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hashing</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">hash_func</span><span class="o">=</span><span class="s2">&quot;md5&quot;</span><span class="p">,</span> <span class="n">salt</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="s2">&quot;b&quot;</span><span class="p">,</span><span class="s2">&quot;c&quot;</span><span class="p">],</span> <span class="n">size</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>
<span class="go">    marital_status                      occupation</span>
<span class="go">0   d3c2c07328c004257d78078efc18a2e7        dfd8c82cf825bb141364719be36577e1</span>
<span class="go">1   34f4e90dd6cd3c8e0c9be987bcb890a2        b63bd8fdcbdff01408a6f037e1816e69</span>
<span class="go">2   bb96b852df8daef0c978f8191b7ab353        50f7a90fc49880975fdc3f598deeb064</span>
<span class="go">3   34f4e90dd6cd3c8e0c9be987bcb890a2        3c3b7950a48c64e0123042f791e5abc6</span>
<span class="go">4   b3c70e439b5c9ec15c91e2624dbe5c71        a3157d1201d17d2da30f224f99e56730</span>
<span class="go">5   b3c70e439b5c9ec15c91e2624dbe5c71        94798b137db818bf2213fcabb99add4d</span>
<span class="go">6   5c9747c0f0d0b7029a572acf617ba46a        0bd722b7a84b3426ff022939035be2c0</span>
<span class="go">7   4222ef367e33c9d84a585024c56e5622        49ec30c27fbea6bb4ab691e51e598c76</span>
<span class="go">8   d3c2c07328c004257d78078efc18a2e7        0c95c9bcba4f3483df0fe58da41c1624</span>
<span class="go">9   34f4e90dd6cd3c8e0c9be987bcb890a2        94798b137db818bf2213fcabb99add4d</span>
<span class="go">10  34f4e90dd6cd3c8e0c9be987bcb890a2        49ec30c27fbea6bb4ab691e51e598c76</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hashing</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">salt</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">store_salt</span><span class="o">=</span><span class="s2">&quot;my_salt.csv&quot;</span><span class="p">)</span>
<span class="go">    marital_status                                      occupation</span>
<span class="go">0   f99438d80007788849824e3cff625cd43a653028ee029e...       327f8dc400dba2d4c0aa3b78d2c274efd7060e8d1e084e...</span>
<span class="go">1   79c8e76b8c0240a4dba439e436f4325a9d56bdc4b8ccfa...       7a3501b7a9d7833c05efd1b691d08361e6a4225e9ec87e...</span>
<span class="go">2   39b069e5943d6f5fdd9775b1fb7ab52173a83e9ad58bcc...       89f5df3961bb6650fef80549933eb0d43dca5218d35d3a...</span>
<span class="go">3   9d74acf0c0d4627b07643156f36d217e6e65cf57ed650c...       4eb952b7fc89afb7c0e4771986a2a6ec437675f2356077...</span>
<span class="go">4   c2d922e99744ab86e22babd8ec9275c3222d6aee699179...       2ffe7708a15b0ade8788172d52e793b570b6ca4a420393...</span>
<span class="go">5   b9c5f6a5300e2985f231e04136b30d91d3d02a89e7b580...       b7d5b50b8ade16b62515cbbe65e8e1a28ced946238fc74...</span>
<span class="go">6   4ac1a2f5bb91cafee4f078ac45e52d811a3ab26b248eb0...       7b6ec0e5b1f1ea59abc9493b15cb585b1e5037d12a5c13...</span>
<span class="go">7   24d88b2478f1a78df470304a1433f9ee5052c0085aeed8...       40f638562b4b37b250973cd09759d95473d63aeadf75f9...</span>
<span class="go">8   9856ef4eaefd2f6316c7e53df803f84373adaba477dc88...       f04851e03e9ab298d5103a03bbe959de2501538df585e0...</span>
<span class="go">9   4a84196a0a0ae0aca9611d612ce1e2153c03644449c44e...       8a394ba22d4eaaf9ff6a2ca8260b024c7e06ebdc1e839c...</span>
<span class="go">10  89f3b96a56971718c5db877bdafcb83c0747bab4e7a682...       9ba3f0fb9d6d363f98b47875451954f4d41853281327dd...</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-pymasq.mitigations.local_supp">
<span id="pymasq-mitigations-local-supp-module"></span><h2>pymasq.mitigations.local_supp module<a class="headerlink" href="#module-pymasq.mitigations.local_supp" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt id="pymasq.mitigations.local_supp.local_supp">
<code class="sig-prename descclassname">pymasq.mitigations.local_supp.</code><code class="sig-name descname">local_supp</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">, </span>pandas.core.series.Series<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">suppress_col</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>str<span class="p">, </span>int<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">sensitive_col</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>str<span class="p">, </span>int<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">to_val</span><span class="p">:</span> <span class="n">Any</span></em>, <em class="sig-param"><span class="n">method</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'approx'</span></em>, <em class="sig-param"><span class="n">risk_threshold</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.15</span></em>, <em class="sig-param"><span class="n">max_unique</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">20</span></em>, <em class="sig-param"><span class="n">weights</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>List<span class="p">[</span>Union<span class="p">[</span>int<span class="p">, </span>float<span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">qual</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>int<span class="p">, </span>float<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">1</span></em>, <em class="sig-param"><span class="n">keep_dtypes</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pymasq.mitigations.local_supp.local_supp" title="Permalink to this definition"></a></dt>
<dd><p>Suppress values to achieve k-anonymity.</p>
<p>This function suppresses values in the given column where the record or row
poses a risk over the threshold.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em><em>, </em><em>Series</em><em>, or </em><em>array_like</em>) – The data to be modified.</p></li>
<li><p><strong>suppress_col</strong> (<em>str</em><em> or </em><em>int</em>) – Column that will be modified to obfuscate it relationship with <cite>sensitive_col</cite>.</p></li>
<li><p><strong>sensitive_col</strong> (<em>str</em><em> or </em><em>int</em>) – Column whose relationship to other columns needs to be obfuscated.</p></li>
<li><p><strong>to_val</strong> (<em>Any</em>) – Value with which to replace suppressed values.</p></li>
<li><p><strong>method</strong> (<em>{'approx'</em><em>, </em><em>'exact'}</em><em> (</em><em>Default: 'approx'</em><em>)</em>) – Precision for calculating the individual risk of each value.</p></li>
<li><p><strong>risk_threshold</strong> (<em>float</em><em> [</em><em>0</em><em>, </em><em>1</em><em>]</em><em>, </em><em>optional</em><em> (</em><em>Default: 0.15</em><em>)</em>) – Threshold for to determine which values of <cite>suppress_col</cite> will be suppressed.</p></li>
<li><p><strong>max_unique</strong> (<em>int</em><em>, </em><em>optional</em><em> (</em><em>Default: 20</em><em>)</em>) – Maximum number of unique values allowed per column. Large number of unique values
may become computationally expensive for calculating individual risk.</p></li>
<li><p><strong>weights</strong> (<em>list</em><em>, </em><em>optional</em><em> (</em><em>Default: None</em><em>)</em>) – Proportion of rows with the same combination of values in <cite>data</cite> for
each row in <cite>data</cite>, only to be used if <cite>data</cite> is a sample/subset of a larger dataset.
If None, <cite>weights</cite> will be a unit vector indicating that <cite>data</cite> is the full population.</p></li>
<li><p><strong>qual</strong> (<em>float</em><em> (</em><em>0</em><em>, </em><em>1</em><em>]</em><em>, </em><em>optional</em><em> (</em><em>Default: 1</em><em>)</em>) – Perceived quality of frequency counts to act as a final correction factor.</p></li>
<li><p><strong>keep_dtypes</strong> (<em>bool</em><em> (</em><em>Default: True</em><em>)</em>) – Determine whether the data types of the output values should be the same as the
data types of the input values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A DataFrame with suppressed values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>InputError:</strong> – Raised when invalid arguments are passed.</p></li>
<li><p><a class="reference internal" href="pymasq.errors.html#pymasq.errors.NotInRangeError" title="pymasq.errors.NotInRangeError"><strong>NotInRangeError</strong></a> – Raised if <cite>risk_threshold</cite> is outside the interval [0, 1].</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pymasq</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">load_census</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;relationship&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   workclass         education  race   sex</span>
<span class="go">0  State-gov         Bachelors  White  Male</span>
<span class="go">1  Self-emp-not-inc  Bachelors  White  Male</span>
<span class="go">2  Private           HS-grad    White  Male</span>
<span class="go">3  Private           11th       Black  Male</span>
<span class="go">4  Private           Bachelors  Black  Female</span>
<span class="go">5  Private           Masters    White  Female</span>
<span class="go">6  Private           9th        Black  Female</span>
<span class="go">7  Self-emp-not-inc  HS-grad    White  Male</span>
<span class="go">8  Private           Masters    White  Female</span>
<span class="go">9  Private           Bachelors  White  Male</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">local_supp</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">suppress_col</span><span class="o">=</span><span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="n">sensitive_col</span><span class="o">=</span><span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="n">to_val</span><span class="o">=</span><span class="s1">&#39;NA&#39;</span><span class="p">,</span> <span class="n">risk_threshold</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">])</span>
<span class="go">   workclass         education  race</span>
<span class="go">0  State-gov         NA         White</span>
<span class="go">1  Self-emp-not-inc  NA         White</span>
<span class="go">2  Private           NA         White</span>
<span class="go">3  Private           NA         Black</span>
<span class="go">4  Private           Bachelors  Black</span>
<span class="go">5  Private           Masters    White</span>
<span class="go">6  Private           NA         Black</span>
<span class="go">7  Self-emp-not-inc  NA         White</span>
<span class="go">8  Private           Masters    White</span>
<span class="go">9  Private           Bachelors  White</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">local_supp</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">suppress_col</span><span class="o">=</span><span class="s2">&quot;education&quot;</span><span class="p">,</span> <span class="n">sensitive_col</span><span class="o">=</span><span class="s2">&quot;race&quot;</span><span class="p">,</span> <span class="n">to_val</span><span class="o">=</span><span class="s1">&#39;NA&#39;</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;exact&#39;</span><span class="p">,</span> <span class="n">risk_threshold</span><span class="o">=</span><span class="mf">0.6</span><span class="p">)</span>
<span class="go">   workclass         education  race   sex</span>
<span class="go">0  State-gov         NA         White  Male</span>
<span class="go">1  Self-emp-not-inc  NA         White  Male</span>
<span class="go">2  Private           NA         White  Male</span>
<span class="go">3  Private           NA         Black  Male</span>
<span class="go">4  Private           NA         Black  Female</span>
<span class="go">5  Private           Masters    White  Female</span>
<span class="go">6  Private           NA         Black  Female</span>
<span class="go">7  Self-emp-not-inc  NA         White  Male</span>
<span class="go">8  Private           Masters    White  Female</span>
<span class="go">9  Private           NA         White  Male</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-pymasq.mitigations.microaggregation">
<span id="pymasq-mitigations-microaggregation-module"></span><h2>pymasq.mitigations.microaggregation module<a class="headerlink" href="#module-pymasq.mitigations.microaggregation" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt id="pymasq.mitigations.microaggregation.MaggClusteringMethods">
<em class="property">class </em><code class="sig-prename descclassname">pymasq.mitigations.microaggregation.</code><code class="sig-name descname">MaggClusteringMethods</code><a class="headerlink" href="#pymasq.mitigations.microaggregation.MaggClusteringMethods" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt id="pymasq.mitigations.microaggregation.MaggClusteringMethods.AGGLOMERATIVE">
<code class="sig-name descname">AGGLOMERATIVE</code><em class="property">: Final</em><em class="property"> = 'agglomerative'</em><a class="headerlink" href="#pymasq.mitigations.microaggregation.MaggClusteringMethods.AGGLOMERATIVE" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pymasq.mitigations.microaggregation.MaggClusteringMethods.BIRCH">
<code class="sig-name descname">BIRCH</code><em class="property">: Final</em><em class="property"> = 'birch'</em><a class="headerlink" href="#pymasq.mitigations.microaggregation.MaggClusteringMethods.BIRCH" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pymasq.mitigations.microaggregation.MaggClusteringMethods.DBSCAN">
<code class="sig-name descname">DBSCAN</code><em class="property">: Final</em><em class="property"> = 'dbscan'</em><a class="headerlink" href="#pymasq.mitigations.microaggregation.MaggClusteringMethods.DBSCAN" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pymasq.mitigations.microaggregation.MaggClusteringMethods.KMEANS">
<code class="sig-name descname">KMEANS</code><em class="property">: Final</em><em class="property"> = 'kmeans'</em><a class="headerlink" href="#pymasq.mitigations.microaggregation.MaggClusteringMethods.KMEANS" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pymasq.mitigations.microaggregation.MaggClusteringMethods.OPTICS">
<code class="sig-name descname">OPTICS</code><em class="property">: Final</em><em class="property"> = 'optics'</em><a class="headerlink" href="#pymasq.mitigations.microaggregation.MaggClusteringMethods.OPTICS" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pymasq.mitigations.microaggregation.MaggConst">
<em class="property">class </em><code class="sig-prename descclassname">pymasq.mitigations.microaggregation.</code><code class="sig-name descname">MaggConst</code><a class="headerlink" href="#pymasq.mitigations.microaggregation.MaggConst" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt id="pymasq.mitigations.microaggregation.MaggConst.DROP">
<code class="sig-name descname">DROP</code><em class="property">: Final</em><em class="property"> = 'drop'</em><a class="headerlink" href="#pymasq.mitigations.microaggregation.MaggConst.DROP" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pymasq.mitigations.microaggregation.MaggConst.RAISE">
<code class="sig-name descname">RAISE</code><em class="property">: Final</em><em class="property"> = 'raise'</em><a class="headerlink" href="#pymasq.mitigations.microaggregation.MaggConst.RAISE" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pymasq.mitigations.microaggregation.MaggMethods">
<em class="property">class </em><code class="sig-prename descclassname">pymasq.mitigations.microaggregation.</code><code class="sig-name descname">MaggMethods</code><a class="headerlink" href="#pymasq.mitigations.microaggregation.MaggMethods" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt id="pymasq.mitigations.microaggregation.MaggMethods.ADVANCED">
<code class="sig-name descname">ADVANCED</code><em class="property">: Final</em><em class="property"> = 'advanced'</em><a class="headerlink" href="#pymasq.mitigations.microaggregation.MaggMethods.ADVANCED" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pymasq.mitigations.microaggregation.MaggMethods.QUANTILE">
<code class="sig-name descname">QUANTILE</code><em class="property">: Final</em><em class="property"> = 'quantile'</em><a class="headerlink" href="#pymasq.mitigations.microaggregation.MaggMethods.QUANTILE" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pymasq.mitigations.microaggregation.MaggMethods.RANKING">
<code class="sig-name descname">RANKING</code><em class="property">: Final</em><em class="property"> = 'ranking'</em><a class="headerlink" href="#pymasq.mitigations.microaggregation.MaggMethods.RANKING" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pymasq.mitigations.microaggregation.MaggMethods.ROBUST">
<code class="sig-name descname">ROBUST</code><em class="property">: Final</em><em class="property"> = 'robust'</em><a class="headerlink" href="#pymasq.mitigations.microaggregation.MaggMethods.ROBUST" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pymasq.mitigations.microaggregation.MaggMethods.SEQUENTIAL">
<code class="sig-name descname">SEQUENTIAL</code><em class="property">: Final</em><em class="property"> = 'sequential'</em><a class="headerlink" href="#pymasq.mitigations.microaggregation.MaggMethods.SEQUENTIAL" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pymasq.mitigations.microaggregation.MaggReductionMethods">
<em class="property">class </em><code class="sig-prename descclassname">pymasq.mitigations.microaggregation.</code><code class="sig-name descname">MaggReductionMethods</code><a class="headerlink" href="#pymasq.mitigations.microaggregation.MaggReductionMethods" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt id="pymasq.mitigations.microaggregation.MaggReductionMethods.FICA">
<code class="sig-name descname">FICA</code><em class="property">: Final</em><em class="property"> = 'fica'</em><a class="headerlink" href="#pymasq.mitigations.microaggregation.MaggReductionMethods.FICA" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pymasq.mitigations.microaggregation.MaggReductionMethods.IPCA">
<code class="sig-name descname">IPCA</code><em class="property">: Final</em><em class="property"> = 'ipca'</em><a class="headerlink" href="#pymasq.mitigations.microaggregation.MaggReductionMethods.IPCA" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pymasq.mitigations.microaggregation.MaggReductionMethods.KPCA">
<code class="sig-name descname">KPCA</code><em class="property">: Final</em><em class="property"> = 'kpca'</em><a class="headerlink" href="#pymasq.mitigations.microaggregation.MaggReductionMethods.KPCA" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pymasq.mitigations.microaggregation.MaggReductionMethods.PCA">
<code class="sig-name descname">PCA</code><em class="property">: Final</em><em class="property"> = 'pca'</em><a class="headerlink" href="#pymasq.mitigations.microaggregation.MaggReductionMethods.PCA" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pymasq.mitigations.microaggregation.MaggScalingMethods">
<em class="property">class </em><code class="sig-prename descclassname">pymasq.mitigations.microaggregation.</code><code class="sig-name descname">MaggScalingMethods</code><a class="headerlink" href="#pymasq.mitigations.microaggregation.MaggScalingMethods" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt id="pymasq.mitigations.microaggregation.MaggScalingMethods.MCD">
<code class="sig-name descname">MCD</code><em class="property">: Final</em><em class="property"> = 'mcd'</em><a class="headerlink" href="#pymasq.mitigations.microaggregation.MaggScalingMethods.MCD" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pymasq.mitigations.microaggregation.MaggScalingMethods.ROBUST">
<code class="sig-name descname">ROBUST</code><em class="property">: Final</em><em class="property"> = 'robust'</em><a class="headerlink" href="#pymasq.mitigations.microaggregation.MaggScalingMethods.ROBUST" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pymasq.mitigations.microaggregation.MaggScalingMethods.STANDARD">
<code class="sig-name descname">STANDARD</code><em class="property">: Final</em><em class="property"> = 'standard'</em><a class="headerlink" href="#pymasq.mitigations.microaggregation.MaggScalingMethods.STANDARD" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="pymasq.mitigations.microaggregation.advanced_magg">
<code class="sig-prename descclassname">pymasq.mitigations.microaggregation.</code><code class="sig-name descname">advanced_magg</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">aggr</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">2</span></em>, <em class="sig-param"><span class="n">clust</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">clust_kwargs</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">[</span>Any<span class="p">, </span>Any<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">reduct</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">reduct_kwargs</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">[</span>Any<span class="p">, </span>Any<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">scale</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">scale_kwargs</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">[</span>Any<span class="p">, </span>Any<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">measure</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>str<span class="p">, </span>Callable<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">'mean'</span></em>, <em class="sig-param"><span class="n">measure_kwargs</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">[</span>Any<span class="p">, </span>Any<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>List<span class="p">, </span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">keep_dtypes</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#pymasq.mitigations.microaggregation.advanced_magg" title="Permalink to this definition"></a></dt>
<dd><p>Perform microaggregation based on clustering and/or dimensionality reduction of the data.</p>
<p>If a clustering method (<cite>clust</cite>) is specified, then the data will be arranged based on the clusters
they belong to prior to microaggregation. Alternatively, you could specify only a dimensionality reduction method (<cite>reduct</cite>)
to arrange the data based on their first principle component, or the projection which maximizes the variance in the data.
Both, clustering and dimensionality reduction methods, can be specified, in which case the data arranged by clusters is used,
instead of the original data, in dimensionality reduction to re-arrange the data, based on first principal component,
prior to microaggregation. A scaling method (<cite>scale</cite>) can also be specified to standardize the data prior to performing
dimensionality reduction. Note that either <cite>clust</cite>, <cite>reduct</cite>, or both must be specified.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em>) – The data to be modified.</p></li>
<li><p><strong>aggr</strong> (<em>int</em><em> (</em><em>Default: 2</em><em>)</em>) – Aggregation level. Must be an integer greater than 0.</p></li>
<li><p><strong>clust</strong> (<em>{&quot;birch</em><em>, </em><em>&quot;dbscan&quot;</em><em>, </em><em>&quot;kmeans&quot;</em><em>, </em><em>&quot;optics&quot;}</em><em> or </em><em>Callable</em><em>, </em><em>Optional</em><em> (</em><em>Default: None</em><em>)</em>) – Clustering method to use. The allowed options will use the <cite>sklearn.clustering</cite> methods of the same name.
Any other <cite>Callable</cite> that adheres to the <cite>sklearn.clustering</cite> API, such as <cite>sklearn.cluster.SpectralClustering</cite>,
can also be passed for additional functionality. Note that <cite>clust</cite> must be specified if <cite>reduct</cite> is not.
Refer to <a href="#id70"><span class="problematic" id="id4">[1]_</span></a> for more information on the clustering methods being used.</p></li>
<li><p><strong>clust_kwargs</strong> (<em>dict</em><em>, </em><em>Optional</em>) – Keyword arguments to past into the <cite>clust</cite> function.
Refer to <a href="#id71"><span class="problematic" id="id5">[1]_</span></a> for arguments that can be passed.</p></li>
<li><p><strong>scale</strong> (<em>{&quot;standard&quot;</em><em>, </em><em>&quot;mcd&quot;</em><em>, </em><em>&quot;robust&quot;}</em><em> or </em><em>Callable</em><em>, </em><em>Optional</em><em> (</em><em>Default: None</em><em>)</em>) – <dl class="simple">
<dt>Scaling method to use. Scaling aims to standarize, or transform, the data by centering to a specfic location (e.g., a cluster or 0).</dt><dd><ul>
<li><dl class="simple">
<dt>if <cite>scale</cite> is “standard”:</dt><dd><p>The data will be centered to the mean and scaled to unit variance. Refer to <a href="#id72"><span class="problematic" id="id6">[2]_</span></a> for more information.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>if <cite>scale</cite> is “mcd”:</dt><dd><p>The data will be centered around the location of the robust MCD estimator. Refer to <a href="#id73"><span class="problematic" id="id7">[3]_</span></a> for more information.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>if <cite>scale</cite> is “robust”:</dt><dd><p>The data will be centered around decomposition of the input data. Refer to <a href="#id74"><span class="problematic" id="id8">[4]_</span></a> for more information.
Note that this method required the <cite>tensorly</cite> Python library to be installed, which is not installed by default when installing <cite>pymasq</cite>.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
<p>Note that scaling will only occur if <cite>reduct</cite> is passed.</p>
</p></li>
<li><p><strong>scale_kwargs</strong> (<em>dict</em><em>, </em><em>Optional</em>) – Keyword arguments to past into the <cite>scale</cite> function.
Refer to <a href="#id75"><span class="problematic" id="id9">[2]_</span></a>, <a href="#id76"><span class="problematic" id="id10">[3]_</span></a>, and <a href="#id77"><span class="problematic" id="id11">[4]_</span></a> for allowed arguments that can be passed to “standard”, “mcd”, and “robust” methods, repsectively.</p></li>
<li><p><strong>reduct</strong> (<em>{&quot;pca&quot;</em><em>, </em><em>&quot;ipca&quot;</em><em>, </em><em>&quot;kpca&quot;</em><em>, </em><em>&quot;fica&quot;}</em><em> or </em><em>Callable</em><em>, </em><em>Optional</em><em> (</em><em>Default: None</em><em>)</em>) – Dimensionality reduction (<cite>reduct</cite>) method to use. The allowed options are references to the
<cite>sklearn.decomposiition</cite> methods of dimensionality reduction methods of similar name: <cite>PCA</cite> (“pca”),
<cite>IncrementalPCA</cite> (“ipca”), KernelPCA (“kpca”), and FastICA (“fica”). Any other <cite>Callabl</cite> that adheres to the
<cite>sklearn.decopmosition</cite> API, such as <cite>sklearn.decomposition.SparsePCA</cite>, can be passed for additional functionality.
Note that <cite>reduct</cite> must be specified if <cite>clust</cite> is not.
Refer to <a href="#id78"><span class="problematic" id="id12">[5]_</span></a> for more information on the dimensionality reduction methods being used.</p></li>
<li><p><strong>reduct_kwargs</strong> (<em>dict</em><em>, </em><em>Optional</em>) – Keyword arguments to pass into the <cite>reduct</cite> function.
Refer to <a href="#id79"><span class="problematic" id="id13">[5]_</span></a> for arguments that can be passed.</p></li>
<li><p><strong>measure</strong> (<em>{&quot;min&quot;</em><em>, </em><em>&quot;mean&quot;</em><em>, </em><em>&quot;max&quot;</em><em>, </em><em>&quot;median&quot;}</em><em> or </em><em>Callable</em><em> (</em><em>Default: &quot;mean&quot;</em><em>)</em>) – Aggregation statistic. A Callable, such as <cite>scipy.stats.trim_mean</cite> or <cite>np.mean</cite>,
can be passed for additional functionality. Refer to <a href="#id80"><span class="problematic" id="id14">[6]_</span></a> for a complete list of allowed values.</p></li>
<li><p><strong>measure_kwargs</strong> (<em>dict</em><em>, </em><em>Optional</em>) – Keyword arguments to be passed into the <cite>measure</cite> function.</p></li>
<li><p><strong>cols</strong> (<em>str</em><em> or </em><em>list</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
<li><p><strong>keep_dtypes</strong> (<em>bool</em><em> (</em><em>Default: True</em><em>)</em>) – Determine whether the data types of the output values should be the same as the
data types of the input values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A DataFrame with microaggregated values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">)))</span>
<span class="go">   0    1   2</span>
<span class="go">0  8    57  50</span>
<span class="go">1  56   44  27</span>
<span class="go">2  99   25  47</span>
<span class="go">3  18   21  1</span>
<span class="go">4  9    28  71</span>
<span class="go">5  42   69  14</span>
<span class="go">6  62   24  8</span>
<span class="go">7  100  44  26</span>
<span class="go">8  72   98  94</span>
<span class="go">9  87   40  51</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">advanced_magg</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">aggr</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">clust</span><span class="o">=</span><span class="s2">&quot;kmeans&quot;</span><span class="p">)</span>
<span class="go">   0    1   2</span>
<span class="go">0  64   40  49</span>
<span class="go">1  63   55  43</span>
<span class="go">2  64   40  49</span>
<span class="go">3  23   39  28</span>
<span class="go">4  23   39  28</span>
<span class="go">5  23   39  28</span>
<span class="go">6  63   55  43</span>
<span class="go">7  100  44  26</span>
<span class="go">8  63   55  43</span>
<span class="go">9  64   40  49</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">advanced_magg</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">aggr</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="s2">&quot;standard&quot;</span><span class="p">,</span> <span class="n">reduct</span><span class="o">=</span><span class="s2">&quot;pca&quot;</span><span class="p">)</span>
<span class="go">   0   1   2</span>
<span class="go">0  34  41  57</span>
<span class="go">1  45  29  12</span>
<span class="go">2  80  46  29</span>
<span class="go">3  45  29  12</span>
<span class="go">4  34  41  57</span>
<span class="go">5  80  46  29</span>
<span class="go">6  45  29  12</span>
<span class="go">7  80  46  29</span>
<span class="go">8  72  98  94</span>
<span class="go">9  34  41  57</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">advanced_magg</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">aggr</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">clust</span><span class="o">=</span><span class="s2">&quot;kmeans&quot;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="s2">&quot;standard&quot;</span><span class="p">,</span> <span class="n">reduct</span><span class="o">=</span><span class="s2">&quot;pca&quot;</span><span class="p">)</span>
<span class="go">   0    1   2</span>
<span class="go">0  64   40  49</span>
<span class="go">1  48   54  40</span>
<span class="go">2  64   40  49</span>
<span class="go">3  48   54  40</span>
<span class="go">4  37   40  31</span>
<span class="go">5  37   40  31</span>
<span class="go">6  37   40  31</span>
<span class="go">7  100  44  26</span>
<span class="go">8  48   54  40</span>
<span class="go">9  64   40  49</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">advanced_magg</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">aggr</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">clust</span><span class="o">=</span><span class="s2">&quot;kmeans&quot;</span><span class="p">,</span> <span class="n">clust_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;n_clusters&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">},</span>
<span class="go">                  scale=&quot;robust&quot;, scale_kwargs={&quot;learning_rate&quot;: 0.05},</span>
<span class="go">                  reduct=&quot;fica&quot;, reduct_kwargs={&quot;max_iter&quot;: 300})</span>
<span class="go">   0   1   2</span>
<span class="go">0  65  47  42</span>
<span class="go">1  72  31  27</span>
<span class="go">2  72  31  27</span>
<span class="go">3  23  39  28</span>
<span class="go">4  23  39  28</span>
<span class="go">5  23  39  28</span>
<span class="go">6  72  31  27</span>
<span class="go">7  65  47  42</span>
<span class="go">8  72  98  94</span>
<span class="go">9  65  47  42</span>
</pre></div>
</div>
<p class="rubric">References</p>
<p>[1] <a class="reference external" href="https://scikit-learn.org/stable/modules/clustering.html">https://scikit-learn.org/stable/modules/clustering.html</a>
[2] <a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.scale.html">https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.scale.html</a>
[3] <a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.covariance.MinCovDet.html">https://scikit-learn.org/stable/modules/generated/sklearn.covariance.MinCovDet.html</a>
[4] <a class="reference external" href="http://tensorly.org/stable/modules/generated/tensorly.decomposition.robust_pca.html">http://tensorly.org/stable/modules/generated/tensorly.decomposition.robust_pca.html</a>
[5] <a class="reference external" href="https://scikit-learn.org/stable/modules/classes.html#module-sklearn.decomposition">https://scikit-learn.org/stable/modules/classes.html#module-sklearn.decomposition</a>
[6] <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.core.groupby.DataFrameGroupBy.aggregate.html">https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.core.groupby.DataFrameGroupBy.aggregate.html</a></p>
</dd></dl>

<dl class="py function">
<dt id="pymasq.mitigations.microaggregation.individual_ranking_magg">
<code class="sig-prename descclassname">pymasq.mitigations.microaggregation.</code><code class="sig-name descname">individual_ranking_magg</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">aggr</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">2</span></em>, <em class="sig-param"><span class="n">rank_method</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'first'</span></em>, <em class="sig-param"><span class="n">measure</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>str<span class="p">, </span>Callable<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">'mean'</span></em>, <em class="sig-param"><span class="n">measure_kwargs</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">[</span>Any<span class="p">, </span>Any<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>List<span class="p">, </span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">keep_dtypes</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">, </span>pandas.core.series.Series<span class="p">]</span><a class="headerlink" href="#pymasq.mitigations.microaggregation.individual_ranking_magg" title="Permalink to this definition"></a></dt>
<dd><p>Perform microaggregation based on individual ranking of the data.</p>
<p>This method preserves univariate statistics best, but significantly alters multivariate statistics.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em>) – The data to be modified.</p></li>
<li><p><strong>aggr</strong> (<em>int</em><em> (</em><em>Default: 2</em><em>)</em>) – Aggregation level. Must be an integer greater than 0.</p></li>
<li><p><strong>rank_method</strong> (<em>{'average'</em><em>, </em><em>'min'</em><em>, </em><em>'max'</em><em>, </em><em>'first'</em><em>, </em><em>'dense'}</em><em>, </em><em>Optional</em>) – <p>How to rank the group of records that have the same value (i.e. ties):</p>
<blockquote>
<div><ul>
<li><p>average: average rank of the group</p></li>
<li><p>min: lowest rank in the group</p></li>
<li><p>max: highest rank in the group</p></li>
<li><p>first: ranks assigned in order they appear in the array</p></li>
<li><p>dense: like ‘min’, but rank always increases by 1 between groups.</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>measure</strong> (<em>{&quot;min&quot;</em><em>, </em><em>&quot;mean&quot;</em><em>, </em><em>&quot;max&quot;</em><em>, </em><em>&quot;median&quot;}</em><em> or </em><em>Callable</em><em> (</em><em>Default: &quot;mean&quot;</em><em>)</em>) – Aggregation statistic. A Callable, such as <cite>scipy.stats.trim_mean</cite> or <cite>np.mean</cite>,
can be passed for additional functionality. Refer to <a href="#id81"><span class="problematic" id="id15">[1]_</span></a> for a complete list of allowed values.</p></li>
<li><p><strong>measure_kwargs</strong> (<em>dict</em>) – Keyword arguments to be passed into the <cite>measure</cite> function.</p></li>
<li><p><strong>cols</strong> (<em>str</em><em> or </em><em>list</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
<li><p><strong>keep_dtypes</strong> (<em>bool</em><em> (</em><em>Default: True</em><em>)</em>) – Determine whether the data types of the output values should be the same as the
data types of the input values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A DataFrame with microaggregated values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random_integers</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">)))</span>
<span class="go">   0    1   2</span>
<span class="go">0  8    57  50</span>
<span class="go">1  56   44  27</span>
<span class="go">2  99   25  47</span>
<span class="go">3  18   21  1</span>
<span class="go">4  9    28  71</span>
<span class="go">5  42   69  14</span>
<span class="go">6  62   24  8</span>
<span class="go">7  100  44  26</span>
<span class="go">8  72   98  94</span>
<span class="go">9  87   40  51</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">individual_ranking_magg</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">aggr</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">rank_method</span><span class="o">=</span><span class="s2">&quot;first&quot;</span><span class="p">,</span> <span class="n">measure</span><span class="o">=</span><span class="s2">&quot;mean&quot;</span><span class="p">,</span> <span class="n">keep_dtypes</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">   0     1     2</span>
<span class="go">0  8.5   50.5  50.5</span>
<span class="go">1  59.0  42.0  37.0</span>
<span class="go">2  99.5  26.5  37.0</span>
<span class="go">3  30.0  22.5  4.5</span>
<span class="go">4  8.5   26.5  82.5</span>
<span class="go">5  30.0  83.5  20.0</span>
<span class="go">6  59.0  22.5  4.5</span>
<span class="go">7  99.5  50.5  20.0</span>
<span class="go">8  79.5  83.5  82.5</span>
<span class="go">9  79.5  42.0  50.5</span>
</pre></div>
</div>
<p class="rubric">References</p>
<p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.core.groupby.DataFrameGroupBy.aggregate.html">https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.core.groupby.DataFrameGroupBy.aggregate.html</a></p>
</dd></dl>

<dl class="py function">
<dt id="pymasq.mitigations.microaggregation.microaggregation">
<code class="sig-prename descclassname">pymasq.mitigations.microaggregation.</code><code class="sig-name descname">microaggregation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">, </span>pandas.core.series.Series<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">method</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#pymasq.mitigations.microaggregation.microaggregation" title="Permalink to this definition"></a></dt>
<dd><p>Perform data microaggregation.</p>
<p>Wrapper function for <cite>quantile_magg</cite>, <cite>sequential_magg</cite>, <cite>ranking_magg</cite>, and <cite>robust_magg</cite>.</p>
<p>Records are grouped based on a proximity measure of variables of interest, and the same small
groups of records are used in calculating aggregates for those variables. The aggregates are
released instead of the individual record values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em><em>, </em><em>Series</em><em>, or </em><em>array_like</em>) – The data to be modified.</p></li>
<li><p><strong>method</strong> (<em>{'quantile'</em><em>, </em><em>'sequential'</em><em>, </em><em>'ranking'</em><em>, </em><em>'robust'}</em>) – The microaggregation method to perform.</p></li>
<li><p><strong>cols</strong> (<em>str</em><em> or </em><em>list</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
<li><p><strong>**kwargs</strong> – <p>Additional keyword arguments to be passed to <cite>quantile_magg</cite>, <cite>sequential_magg</cite>, <cite>ranking_magg</cite>, <cite>robust_magg</cite>, or <cite>advanced_magg</cite>.</p>
<ul>
<li><dl class="simple">
<dt>aggr<span class="classifier">int (Default: 2)</span></dt><dd><p>Aggregation level.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>keep_dtypes<span class="classifier">bool (Default: True)</span></dt><dd><p>Determine whether the data types of the output values should be the same as the
data types of the input values.</p>
</dd>
</dl>
</li>
</ul>
<dl>
<dt>if <cite>method</cite> is <cite>quantile</cite>:</dt><dd><ul>
<li><dl class="simple">
<dt>drop_duplicates<span class="classifier">bool (Default: True)</span></dt><dd><p>Drop duplicates when creating quantile bins. This may result in a fewer number of
bins, however, not dropping duplicates will result in a <cite>ValueError</cite> since the
bin edges will not be unique.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>measure<span class="classifier">{“min”, “mean”, “max”, “median”} or Callable (Default: “mean”)</span></dt><dd><p>Aggregation statistic. A Callable, such as <cite>scipy.stats.trim_mean</cite> or <cite>np.mean</cite>,
can be passed for additional functionality.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>measure_kwargs<span class="classifier">dict</span></dt><dd><p>Keyword arguments to be passed into the <cite>measure</cite> function.</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt>if <cite>method</cite> is <cite>sequential</cite>:</dt><dd><ul>
<li><dl class="simple">
<dt>sort_all<span class="classifier">bool (Default: False)</span></dt><dd><p>Aggregate after sorting each column. Cannot be used with <cite>sort_by</cite>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>sort_by<span class="classifier">string, Optional</span></dt><dd><p>Aggregate after sorting by a single column. Cannot be used with <cite>sort_all</cite>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>measure<span class="classifier">{“min”, “mean”, “max”, “median”} or Callable (Default: “mean”)</span></dt><dd><p>Aggregation statistic. A Callable, such as <cite>scipy.stats.trim_mean</cite> or <cite>np.mean</cite>,
can be passed for additional functionality.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>measure_kwargs<span class="classifier">dict</span></dt><dd><p>Keyword arguments to be passed into the <cite>measure</cite> function.</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt>if “method” is “ranking”:</dt><dd><ul>
<li><dl>
<dt>rank_method<span class="classifier">{‘average’, ‘min’, ‘max’, ‘first’, ‘dense’}, Optional</span></dt><dd><p>How to rank the group of records that have the same value (i.e. ties):</p>
<blockquote>
<div><ul class="simple">
<li><p>average: average rank of the group</p></li>
<li><p>min: lowest rank in the group</p></li>
<li><p>max: highest rank in the group</p></li>
<li><p>first: ranks assigned in order they appear in the array</p></li>
<li><p>dense: like ‘min’, but rank always increases by 1 between groups.</p></li>
</ul>
</div></blockquote>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>measure<span class="classifier">{“min”, “mean”, “max”, “median”} or Callable (Default: “mean”)</span></dt><dd><p>Aggregation statistic. A Callable, such as <cite>scipy.stats.trim_mean</cite> or <cite>np.mean</cite>,
can be passed for additional functionality.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>measure_kwargs<span class="classifier">dict</span></dt><dd><p>Keyword arguments to be passed into the <cite>measure</cite> function.</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt>if <cite>method</cite> is “robust”:</dt><dd><ul>
<li><dl class="simple">
<dt>seed<span class="classifier">int (Default: 1)</span></dt><dd><p>Random seed to use to fit a Minimum Covariance Determinant (MCD) estimator model.</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt>if <cite>method</cite> is “advanced”:</dt><dd><ul>
<li><dl class="simple">
<dt>clust<span class="classifier">{“birch, “dbscan”, “kmeans”, “optics”} or Callable, Optional (Default: None)</span></dt><dd><p>Clustering method to use. The allowed options will use the <cite>sklearn.clustering</cite> methods of the same name.
Any other <cite>Callable</cite> that adheres to the <cite>sklearn.clustering</cite> API, such as <cite>sklearn.cluster.SpectralClustering</cite>,
can also be passed for additional functionality. Note that <cite>clust</cite> must be specified if <cite>reduct</cite> is not.
Refer to <a href="#id82"><span class="problematic" id="id16">[1]_</span></a> for more information on the clustering methods being used.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>clust_kwargs<span class="classifier">dict, Optional</span></dt><dd><p>Keyword arguments to past into the <cite>clust</cite> function.
Refer to <a href="#id83"><span class="problematic" id="id17">[1]_</span></a> for arguments that can be passed.</p>
</dd>
</dl>
</li>
<li><dl>
<dt>scale<span class="classifier">{“standard”, “mcd”, “robust”} or Callable, Optional (Default: None)</span></dt><dd><dl class="simple">
<dt>Scaling method to use. Scaling aims to standarize, or transform, the data by centering to a specfic location (e.g., a cluster or 0).</dt><dd><ul class="simple">
<li><dl class="simple">
<dt>if <cite>scale</cite> is “standard”:</dt><dd><p>The data will be centered to the mean and scaled to unit variance. Refer to <a href="#id84"><span class="problematic" id="id18">[2]_</span></a> for more information.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>if <cite>scale</cite> is “mcd”:</dt><dd><p>The data will be centered around the location of the robust MCD estimator. Refer to <a href="#id85"><span class="problematic" id="id19">[3]_</span></a> for more information.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>if <cite>scale</cite> is “robust”:</dt><dd><p>The data will be centered around decomposition of the input data. Refer to <a href="#id86"><span class="problematic" id="id20">[4]_</span></a> for more information.
Note that this method required the <cite>tensorly</cite> Python library to be installed, which is not installed by default when installing <cite>pymasq</cite>.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
<p>Note that scaling will only occur if <cite>reduct</cite> is passed.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>scale_kwargs<span class="classifier">dict, Optional</span></dt><dd><p>Keyword arguments to past into the <cite>scale</cite> function.
Refer to <a href="#id87"><span class="problematic" id="id21">[2]_</span></a>, <a href="#id88"><span class="problematic" id="id22">[3]_</span></a>, and <a href="#id89"><span class="problematic" id="id23">[4]_</span></a> for allowed arguments that can be passed to “standard”, “mcd”, and “robust” methods, repsectively.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>reduct<span class="classifier">{“pca”, “ipca”, “kpca”, “fica”} or Callable, Optional (Default: None)</span></dt><dd><p>Dimensionality reduction (<cite>reduct</cite>) method to use. The allowed options are references to the
<cite>sklearn.decomposiition</cite> methods of dimensionality reduction methods of similar name: <cite>PCA</cite> (“pca”),
<cite>IncrementalPCA</cite> (“ipca”), KernelPCA (“kpca”), and FastICA (“fica”). Any other <cite>Callabl</cite> that adheres to the
<cite>sklearn.decopmosition</cite> API, such as <cite>sklearn.decomposition.SparsePCA</cite>, can be passed for additional functionality.
Note that <cite>reduct</cite> must be specified if <cite>clust</cite> is not.
Refer to <a href="#id90"><span class="problematic" id="id24">[5]_</span></a> for more information on the dimensionality reduction methods being used.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>reduct_kwargs<span class="classifier">dict, Optional</span></dt><dd><p>Keyword arguments to pass into the <cite>reduct</cite> function.
Refer to <a href="#id91"><span class="problematic" id="id25">[5]_</span></a> for arguments that can be passed.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>measure<span class="classifier">{“min”, “mean”, “max”, “median”} or Callable (Default: “mean”)</span></dt><dd><p>Aggregation statistic. A Callable, such as <cite>scipy.stats.trim_mean</cite> or <cite>np.mean</cite>,
can be passed for additional functionality. Refer to <a href="#id92"><span class="problematic" id="id26">[6]_</span></a> for a complete list of allowed values.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>measure_kwargs<span class="classifier">dict, Optional</span></dt><dd><p>Keyword arguments to be passed into the <cite>measure</cite> function.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A DataFrame with microaggregated values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random_integers</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">)))</span>
<span class="go">   0    1   2</span>
<span class="go">0  8    57  50</span>
<span class="go">1  56   44  27</span>
<span class="go">2  99   25  47</span>
<span class="go">3  18   21  1</span>
<span class="go">4  9    28  71</span>
<span class="go">5  42   69  14</span>
<span class="go">6  62   24  8</span>
<span class="go">7  100  44  26</span>
<span class="go">8  72   98  94</span>
<span class="go">9  87   40  51</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">microaggregation</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;quantile&quot;</span><span class="p">,</span> <span class="n">aggr</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">measure</span><span class="o">=</span><span class="s2">&quot;mean&quot;</span><span class="p">)</span>
<span class="go">   0   1   2</span>
<span class="go">0  8   57  50</span>
<span class="go">1  59  42  37</span>
<span class="go">2  99  26  37</span>
<span class="go">3  30  22  4</span>
<span class="go">4  8   26  82</span>
<span class="go">5  30  83  20</span>
<span class="go">6  59  22  4</span>
<span class="go">7  99  42  20</span>
<span class="go">8  79  83  82</span>
<span class="go">9  79  42  50</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">microaggregation</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;sequential&quot;</span><span class="p">,</span> <span class="n">aggr</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">measure</span><span class="o">=</span><span class="s2">&quot;min&quot;</span><span class="p">,</span> <span class="n">sort_all</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">   0    1   2</span>
<span class="go">0  8    44  50</span>
<span class="go">1  42   28  26</span>
<span class="go">2  72   21  26</span>
<span class="go">3  8    21  1</span>
<span class="go">4  8    28  50</span>
<span class="go">5  42   44  1</span>
<span class="go">6  42   21  1</span>
<span class="go">7  100  44  26</span>
<span class="go">8  72   98  94</span>
<span class="go">9  72   28  50</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">microaggregation</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;ranking&quot;</span><span class="p">,</span> <span class="n">aggr</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">rank_method</span><span class="o">=</span><span class="s2">&quot;first&quot;</span><span class="p">,</span> <span class="n">measure</span><span class="o">=</span><span class="s2">&quot;mean&quot;</span><span class="p">,</span> <span class="n">keep_dtypes</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">   0     1     2</span>
<span class="go">0  8.5   50.5  50.5</span>
<span class="go">1  59.0  42.0  37.0</span>
<span class="go">2  99.5  26.5  37.0</span>
<span class="go">3  30.0  22.5  4.5</span>
<span class="go">4  8.5   26.5  82.5</span>
<span class="go">5  30.0  83.5  20.0</span>
<span class="go">6  59.0  22.5  4.5</span>
<span class="go">7  99.5  50.5  20.0</span>
<span class="go">8  79.5  83.5  82.5</span>
<span class="go">9  79.5  42.0  50.5</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">microaggregation</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;robust&quot;</span><span class="p">,</span> <span class="n">aggr</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="go">   0   1   2</span>
<span class="go">0  55  65  65</span>
<span class="go">1  45  29  11</span>
<span class="go">2  62  41  39</span>
<span class="go">3  45  29  11</span>
<span class="go">4  62  41  39</span>
<span class="go">5  62  41  39</span>
<span class="go">6  45  29  11</span>
<span class="go">7  62  41  39</span>
<span class="go">8  55  65  65</span>
<span class="go">9  55  65  65</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">microaggregation</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;advanced&quot;</span><span class="p">,</span> <span class="n">aggr</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">clust</span><span class="o">=</span><span class="s2">&quot;optics&quot;</span><span class="p">)</span>
<span class="go">   0   1    2</span>
<span class="go">0  54  42  41</span>
<span class="go">1  54  42  41</span>
<span class="go">2  54  42  41</span>
<span class="go">3  23  39  28</span>
<span class="go">4  23  39  28</span>
<span class="go">5  23  39  28</span>
<span class="go">6  78  55  42</span>
<span class="go">7  78  55  42</span>
<span class="go">8  78  55  42</span>
<span class="go">9  87  40  51</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#pymasq.mitigations.quantile_magg" title="pymasq.mitigations.quantile_magg"><code class="xref py py-func docutils literal notranslate"><span class="pre">pymasq.mitigations.quantile_magg()</span></code></a></dt><dd><p>Perform microaggregation based on quantiled binning of the data.</p>
</dd>
<dt><a class="reference internal" href="#pymasq.mitigations.sequential_magg" title="pymasq.mitigations.sequential_magg"><code class="xref py py-func docutils literal notranslate"><span class="pre">pymasq.mitigations.sequential_magg()</span></code></a></dt><dd><p>Perform microaggregation based on sequential binning of the data.</p>
</dd>
<dt><code class="xref py py-func docutils literal notranslate"><span class="pre">pymasq.mitigations.ranking_magg()</span></code></dt><dd><p>Perform microaggregation based on individual ranking of the data.</p>
</dd>
<dt><a class="reference internal" href="#pymasq.mitigations.robust_magg" title="pymasq.mitigations.robust_magg"><code class="xref py py-func docutils literal notranslate"><span class="pre">pymasq.mitigations.robust_magg()</span></code></a></dt><dd><p>Perform microaggregation based on multivariate distances of the data.</p>
</dd>
<dt><a class="reference internal" href="#pymasq.mitigations.advanced_magg" title="pymasq.mitigations.advanced_magg"><code class="xref py py-func docutils literal notranslate"><span class="pre">pymasq.mitigations.advanced_magg()</span></code></a></dt><dd><p>Perform microaggregation based on clustering and/or dimensionality reduction of the data.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt id="pymasq.mitigations.microaggregation.quantile_magg">
<code class="sig-prename descclassname">pymasq.mitigations.microaggregation.</code><code class="sig-name descname">quantile_magg</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">aggr</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">2</span></em>, <em class="sig-param"><span class="n">drop_duplicates</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">measure</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>str<span class="p">, </span>Callable<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">'mean'</span></em>, <em class="sig-param"><span class="n">measure_kwargs</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">[</span>Any<span class="p">, </span>Any<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>List<span class="p">, </span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">keep_dtypes</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#pymasq.mitigations.microaggregation.quantile_magg" title="Permalink to this definition"></a></dt>
<dd><p>Perform microaggregation based on quantiled binning of the data.</p>
<p>This is a fast and simple (primitive) method of microaggregation, recommended for large datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em>) – The data to be modified.</p></li>
<li><p><strong>aggr</strong> (<em>int</em><em> (</em><em>Default: 2</em><em>)</em>) – Aggregation level. Must be an integer greater than 0.</p></li>
<li><p><strong>drop_duplicates</strong> (<em>bool</em><em> (</em><em>Default: True</em><em>)</em>) – Drop duplicates when creating quantile bins. This may result in a fewer number of
bins, however, not dropping duplicates will result in a <cite>ValueError</cite> since the
bin edges will not be unique.</p></li>
<li><p><strong>measure</strong> (<em>{&quot;min&quot;</em><em>, </em><em>&quot;mean&quot;</em><em>, </em><em>&quot;max&quot;</em><em>, </em><em>&quot;median&quot;}</em><em> or </em><em>Callable</em><em> (</em><em>Default: &quot;mean&quot;</em><em>)</em>) – Aggregation statistic. A Callable, such as <cite>scipy.stats.trim_mean</cite> or <cite>np.mean</cite>,
can be passed for additional functionality. Refer to <a href="#id93"><span class="problematic" id="id27">[1]_</span></a> for a complete list of allowed values.</p></li>
<li><p><strong>measure_kwargs</strong> (<em>dict</em>) – Keyword arguments to be passed into the <cite>measure</cite> function.</p></li>
<li><p><strong>cols</strong> (<em>str</em><em> or </em><em>list</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
<li><p><strong>keep_dtypes</strong> (<em>bool</em><em> (</em><em>Default: True</em><em>)</em>) – Determine whether the data types of the output values should be the same as the
data types of the input values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A DataFrame with microaggregated values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random_integers</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">)))</span>
<span class="go">   0    1   2</span>
<span class="go">0  8    57  50</span>
<span class="go">1  56   44  27</span>
<span class="go">2  99   25  47</span>
<span class="go">3  18   21  1</span>
<span class="go">4  9    28  71</span>
<span class="go">5  42   69  14</span>
<span class="go">6  62   24  8</span>
<span class="go">7  100  44  26</span>
<span class="go">8  72   98  94</span>
<span class="go">9  87   40  51</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">quantile_magg</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">aggr</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">measure</span><span class="o">=</span><span class="s2">&quot;mean&quot;</span><span class="p">)</span>
<span class="go">   0   1   2</span>
<span class="go">0  8   57  50</span>
<span class="go">1  59  42  37</span>
<span class="go">2  99  26  37</span>
<span class="go">3  30  22  4</span>
<span class="go">4  8   26  82</span>
<span class="go">5  30  83  20</span>
<span class="go">6  59  22  4</span>
<span class="go">7  99  42  20</span>
<span class="go">8  79  83  82</span>
<span class="go">9  79  42  50</span>
</pre></div>
</div>
<p class="rubric">References</p>
<p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.core.groupby.DataFrameGroupBy.aggregate.html">https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.core.groupby.DataFrameGroupBy.aggregate.html</a></p>
</dd></dl>

<dl class="py function">
<dt id="pymasq.mitigations.microaggregation.robust_magg">
<code class="sig-prename descclassname">pymasq.mitigations.microaggregation.</code><code class="sig-name descname">robust_magg</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">aggr</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">2</span></em>, <em class="sig-param"><span class="n">seed</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">123</span></em>, <em class="sig-param"><span class="n">cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>List<span class="p">, </span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">keep_dtypes</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">, </span>pandas.core.series.Series<span class="p">]</span><a class="headerlink" href="#pymasq.mitigations.microaggregation.robust_magg" title="Permalink to this definition"></a></dt>
<dd><p>Perform microaggregation based on multivariate distances of the data.</p>
<p>Note that this method uses a Minimum Covariance Determinant (MCD) estimator model that
is best suited for normally distributed data. Refer to <a href="#id94"><span class="problematic" id="id28">[1]_</span></a> for more information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em><em> or </em><em>Series</em>) – The data to be modified.</p></li>
<li><p><strong>aggr</strong> (<em>int</em><em> (</em><em>Default: 2</em><em>)</em>) – Aggregation level. Must be an integer greater than 0.</p></li>
<li><p><strong>seed</strong> (<em>int</em><em> (</em><em>Default: 123</em><em>)</em>) – Random seed to use to fit a Minimum Covariance Determinant (MCD) estimator model.</p></li>
<li><p><strong>cols</strong> (<em>str</em><em> or </em><em>list</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
<li><p><strong>keep_dtypes</strong> (<em>bool</em><em> (</em><em>Default: True</em><em>)</em>) – Determine whether the data types of the output values should be the same as the
data types of the input values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A DataFrame with microaggregated values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random_integers</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">)))</span>
<span class="go">   0    1   2</span>
<span class="go">0  8    57  50</span>
<span class="go">1  56   44  27</span>
<span class="go">2  99   25  47</span>
<span class="go">3  18   21  1</span>
<span class="go">4  9    28  71</span>
<span class="go">5  42   69  14</span>
<span class="go">6  62   24  8</span>
<span class="go">7  100  44  26</span>
<span class="go">8  72   98  94</span>
<span class="go">9  87   40  51</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">robust_magg</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">aggr</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="go">   0   1   2</span>
<span class="go">0  55  65  65</span>
<span class="go">1  45  29  11</span>
<span class="go">2  62  41  39</span>
<span class="go">3  45  29  11</span>
<span class="go">4  62  41  39</span>
<span class="go">5  62  41  39</span>
<span class="go">6  45  29  11</span>
<span class="go">7  62  41  39</span>
<span class="go">8  55  65  65</span>
<span class="go">9  55  65  65</span>
</pre></div>
</div>
<p class="rubric">References</p>
<p>[1] <a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.covariance.MinCovDet.html">https://scikit-learn.org/stable/modules/generated/sklearn.covariance.MinCovDet.html</a></p>
</dd></dl>

<dl class="py function">
<dt id="pymasq.mitigations.microaggregation.sequential_magg">
<code class="sig-prename descclassname">pymasq.mitigations.microaggregation.</code><code class="sig-name descname">sequential_magg</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">aggr</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">2</span></em>, <em class="sig-param"><span class="n">sort_all</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">sort_by</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">measure</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>str<span class="p">, </span>Callable<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">'mean'</span></em>, <em class="sig-param"><span class="n">measure_kwargs</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">[</span>Any<span class="p">, </span>Any<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>List<span class="p">, </span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">keep_dtypes</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">, </span>pandas.core.series.Series<span class="p">]</span><a class="headerlink" href="#pymasq.mitigations.microaggregation.sequential_magg" title="Permalink to this definition"></a></dt>
<dd><p>Perform microaggregation based on sequential binning of the data.</p>
<p>Sorting on a specific variable by specifying <cite>sort_by</cite> is recommended.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em>) – The data to be modified.</p></li>
<li><p><strong>aggr</strong> (<em>int</em><em> (</em><em>Default: 2</em><em>)</em>) – Aggregation level. Must be an integer greater than 0.</p></li>
<li><p><strong>sort_all</strong> (<em>bool</em><em> (</em><em>Default: False</em><em>)</em>) – Aggregate after sorting each column. Cannot be used with <cite>sort_by</cite>.</p></li>
<li><p><strong>sort_by</strong> (<em>string</em><em>, </em><em>Optional</em>) – Aggregate after sorting by a single column. Cannot be used with <cite>sort_all</cite>.</p></li>
<li><p><strong>measure</strong> (<em>{&quot;min&quot;</em><em>, </em><em>&quot;mean&quot;</em><em>, </em><em>&quot;max&quot;</em><em>, </em><em>&quot;median&quot;}</em><em> or </em><em>Callable</em><em> (</em><em>Default: &quot;mean&quot;</em><em>)</em>) – Aggregation statistic. A Callable, such as <cite>scipy.stats.trim_mean</cite> or <cite>np.mean</cite>,
can be passed for additional functionality. Refer to <a href="#id95"><span class="problematic" id="id29">[1]_</span></a> for a complete list of allowed values.</p></li>
<li><p><strong>measure_kwargs</strong> (<em>dict</em>) – Keyword arguments to be passed into the <cite>measure</cite> function.</p></li>
<li><p><strong>cols</strong> (<em>str</em><em> or </em><em>list</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
<li><p><strong>keep_dtypes</strong> (<em>bool</em><em> (</em><em>Default: True</em><em>)</em>) – Determine whether the data types of the output values should be the same as the
data types of the input values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A DataFrame with microaggregated values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random_integers</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">)))</span>
<span class="go">   0    1   2</span>
<span class="go">0  8    57  50</span>
<span class="go">1  56   44  27</span>
<span class="go">2  99   25  47</span>
<span class="go">3  18   21  1</span>
<span class="go">4  9    28  71</span>
<span class="go">5  42   69  14</span>
<span class="go">6  62   24  8</span>
<span class="go">7  100  44  26</span>
<span class="go">8  72   98  94</span>
<span class="go">9  87   40  51</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sequential_magg</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">aggr</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">measure</span><span class="o">=</span><span class="s2">&quot;min&quot;</span><span class="p">,</span> <span class="n">sort_all</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">   0    1   2</span>
<span class="go">0  8    44  50</span>
<span class="go">1  42   28  26</span>
<span class="go">2  72   21  26</span>
<span class="go">3  8    21  1</span>
<span class="go">4  8    28  50</span>
<span class="go">5  42   44  1</span>
<span class="go">6  42   21  1</span>
<span class="go">7  100  44  26</span>
<span class="go">8  72   98  94</span>
<span class="go">9  72   28  50</span>
</pre></div>
</div>
<p class="rubric">References</p>
<p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.core.groupby.DataFrameGroupBy.aggregate.html">https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.core.groupby.DataFrameGroupBy.aggregate.html</a></p>
</dd></dl>

</section>
<section id="module-pymasq.mitigations.pram">
<span id="pymasq-mitigations-pram-module"></span><h2>pymasq.mitigations.pram module<a class="headerlink" href="#module-pymasq.mitigations.pram" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt id="pymasq.mitigations.pram.pram">
<code class="sig-prename descclassname">pymasq.mitigations.pram.</code><code class="sig-name descname">pram</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">, </span>pandas.core.series.Series<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">perturb_cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>List<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">sensitive_col</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">probs</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>float<span class="p">, </span>int<span class="p">, </span>Dict<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">0.8</span></em>, <em class="sig-param"><span class="n">alpha</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>float<span class="p">, </span>int<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">0.5</span></em>, <em class="sig-param"><span class="n">cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>List<span class="p">, </span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">keep_dtypes</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pymasq.mitigations.pram.pram" title="Permalink to this definition"></a></dt>
<dd><p>The algorithm randomly changes the values of variables in selected records (usually the risky ones) according
to an invariant probability transition matrix or a custom-defined transition matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pandas.DataFrame</em>) – The data to be modified.</p></li>
<li><p><strong>perturb_cols</strong> (<em>List</em><em>, </em><em>Optional</em><em> (</em><em>Default: None</em><em>)</em>) – The subset of columns that will be manipulated from <cite>data</cite>. The values of <cite>data[perturb_cols]</cite>
must be categorical, or able to be cast as categorical, and there can be no overlapping columns
with <cite>sensitive_col</cite>. If omitted, all columns of <cite>data</cite> will be perturbed.</p></li>
<li><p><strong>sensitive_col</strong> (<em>str</em><em> (</em><em>Default: None</em><em>)</em>) – Column whos relationship to other columns needs to be obfuscated.
If defined, then only the columns specified in <cite>perturb_cols</cite> will be modified.
There can be no overlapping columns with <cite>perturb_cols</cite>.</p></li>
<li><p><strong>probs</strong> (<em>float</em><em>, </em><em>int</em><em>, </em><em>dict</em><em> (</em><em>Default: 0.8</em><em>)</em>) – Probabilities to use when calculating the transition matrix. If <cite>probs</cite> is a float or int,
then it must be between the interval [0,1] and it will be used as a lower bound probability
that a categorical value will <em>not</em> change. Thus, if <cite>probs</cite> is 1, then there will <em>not</em> be
any change in the categorical values, and if <cite>probs</cite> is 0, then there is a high probability
that a categorical value will change. If <cite>probs</cite> is a dict, then it should contain the
transition probabilities for each column in <cite>perturb_cols</cite>, where the keys specify the
column name and the value will be the transition probabilities specified as a pandas DataFrame
of size (N, N), where N is the number of categories in the column as returned by a single
column or <cite>pandas.Series.cat.categories</cite>. The index and column names of the transition probabilities
must be set to the available categorical values. Note that the horizontal sum of each of the
transition probabilities should be equal to 1.</p></li>
<li><p><strong>alpha</strong> (<em>float</em><em> or </em><em>int</em><em> (</em><em>Default: 0.5</em><em>)</em>) – Perturbation magnitude. This parameter scales the randomly generated transition probabilities.
Must be between the interval [0,1], where 0 indicates <em>no</em> categorical values of <cite>data</cite> will be changed
and 1 indicates a high probability of change in categorical values since the computed transition probabilities not be scaled down.
<cite>alpha</cite> is disregarded if the transition probabilities, <cite>probs</cite>, is provided as a Dict.</p></li>
<li><p><strong>cols</strong> (<em>str</em><em> or </em><em>list</em><em> (</em><em>Default: None</em><em>)</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
<li><p><strong>keep_dtypes</strong> (<em>bool</em><em> (</em><em>Default: True</em><em>)</em>) – Determine whether the data types of the output values should be the same as the
data types of the input values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The DataFrame with PRAMed values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>InputError:</strong> – Raised when invalid arguments are passed.</p></li>
<li><p><a class="reference internal" href="pymasq.errors.html#pymasq.errors.NotInRangeError" title="pymasq.errors.NotInRangeError"><strong>NotInRangeError</strong></a> – Raised if <cite>alpha</cite> or <cite>probs</cite> (if <cite>probs</cite> is passed as an integer or float) are outside the interval [0, 1].</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pymasq</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">load_census</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;relationship&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">          workclass  education   relationship   race     sex</span>
<span class="go">0         State-gov  Bachelors  Not-in-family  White    Male</span>
<span class="go">1  Self-emp-not-inc  Bachelors        Husband  White    Male</span>
<span class="go">2           Private    HS-grad  Not-in-family  White    Male</span>
<span class="go">3           Private       11th        Husband  Black    Male</span>
<span class="go">4           Private  Bachelors           Wife  Black  Female</span>
<span class="go">5           Private    Masters           Wife  White  Female</span>
<span class="go">6           Private        9th  Not-in-family  Black  Female</span>
<span class="go">7  Self-emp-not-inc    HS-grad        Husband  White    Male</span>
<span class="go">8           Private    Masters  Not-in-family  White  Female</span>
<span class="go">9           Private  Bachelors        Husband  White    Male</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pram</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="go">          workclass  education   relationship   race     sex</span>
<span class="go">0         State-gov  Bachelors  Not-in-family  White    Male</span>
<span class="go">1  Self-emp-not-inc  Bachelors        Husband  White  Female</span>
<span class="go">2           Private    HS-grad  Not-in-family  White    Male</span>
<span class="go">3           Private        9th        Husband  Black    Male</span>
<span class="go">4           Private  Bachelors  Not-in-family  White  Female</span>
<span class="go">5           Private    Masters           Wife  White  Female</span>
<span class="go">6           Private        9th  Not-in-family  Black  Female</span>
<span class="go">7  Self-emp-not-inc       11th        Husband  White    Male</span>
<span class="go">8           Private    Masters  Not-in-family  White  Female</span>
<span class="go">9           Private  Bachelors        Husband  Black    Male</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pram</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">perturb_cols</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;workclass&quot;</span><span class="p">])</span>
<span class="go">          workclass  education   relationship   race     sex</span>
<span class="go">0         State-gov  Bachelors  Not-in-family  White    Male</span>
<span class="go">1  Self-emp-not-inc  Bachelors        Husband  White    Male</span>
<span class="go">2  Self-emp-not-inc    HS-grad  Not-in-family  White    Male</span>
<span class="go">3           Private       11th        Husband  Black    Male</span>
<span class="go">4           Private  Bachelors           Wife  Black  Female</span>
<span class="go">5           Private    Masters           Wife  White  Female</span>
<span class="go">6           Private        9th  Not-in-family  Black  Female</span>
<span class="go">7  Self-emp-not-inc    HS-grad        Husband  White    Male</span>
<span class="go">8           Private    Masters  Not-in-family  White  Female</span>
<span class="go">9  Self-emp-not-inc  Bachelors        Husband  White    Male</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pram</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">perturb_cols</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;workclass&quot;</span><span class="p">],</span> <span class="n">sensitive_col</span><span class="o">=</span><span class="s2">&quot;sex&quot;</span><span class="p">)</span>
<span class="go">          workclass  education   relationship   race     sex</span>
<span class="go">0           Private  Bachelors  Not-in-family  White    Male</span>
<span class="go">1  Self-emp-not-inc  Bachelors        Husband  White    Male</span>
<span class="go">2           Private    HS-grad  Not-in-family  White    Male</span>
<span class="go">3           Private       11th        Husband  Black    Male</span>
<span class="go">4           Private  Bachelors           Wife  Black  Female</span>
<span class="go">5           Private    Masters           Wife  White  Female</span>
<span class="go">6           Private        9th  Not-in-family  Black  Female</span>
<span class="go">7  Self-emp-not-inc    HS-grad        Husband  White    Male</span>
<span class="go">8           Private    Masters  Not-in-family  White  Female</span>
<span class="go">9           Private  Bachelors        Husband  White    Male</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pram</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">perturb_cols</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;workclass&quot;</span><span class="p">,</span> <span class="s2">&quot;education&quot;</span><span class="p">,</span><span class="s2">&quot;relationship&quot;</span><span class="p">],</span> <span class="n">sensitive_col</span><span class="o">=</span><span class="s2">&quot;sex&quot;</span><span class="p">,</span> <span class="n">probs</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="go">          workclass  education   relationship   race     sex</span>
<span class="go">0           Private  Bachelors        Husband  White    Male</span>
<span class="go">1           Private       11th        Husband  White    Male</span>
<span class="go">2           Private    HS-grad  Not-in-family  White    Male</span>
<span class="go">3           Private       11th        Husband  Black    Male</span>
<span class="go">4  Self-emp-not-inc    HS-grad           Wife  Black  Female</span>
<span class="go">5           Private    Masters           Wife  White  Female</span>
<span class="go">6           Private    Masters  Not-in-family  Black  Female</span>
<span class="go">7  Self-emp-not-inc  Bachelors        Husband  White    Male</span>
<span class="go">8           Private        9th  Not-in-family  White  Female</span>
<span class="go">9           Private  Bachelors        Husband  White    Male</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pram</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">sensitive_col</span><span class="o">=</span><span class="s2">&quot;sex&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>
<span class="go">          workclass  education   relationship   race     sex</span>
<span class="go">0         State-gov       11th  Not-in-family  White    Male</span>
<span class="go">1  Self-emp-not-inc  Bachelors           Wife  White    Male</span>
<span class="go">2           Private    HS-grad  Not-in-family  White    Male</span>
<span class="go">3           Private       11th        Husband  Black    Male</span>
<span class="go">4           Private  Bachelors        Husband  Black  Female</span>
<span class="go">5           Private        9th           Wife  White  Female</span>
<span class="go">6           Private        9th  Not-in-family  Black  Female</span>
<span class="go">7  Self-emp-not-inc    HS-grad        Husband  Black    Male</span>
<span class="go">8           Private    Masters  Not-in-family  White  Female</span>
<span class="go">9  Self-emp-not-inc  Bachelors        Husband  White    Male</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># define transition probabilities for changing categories in the race column</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">probs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">race</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;White&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s2">&quot;Black&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">},</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;White&quot;</span><span class="p">,</span> <span class="s2">&quot;Black&quot;</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">probs</span>
<span class="go">       White  Black</span>
<span class="go">White    0.5    0.5</span>
<span class="go">Black    0.5    0.5</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pram</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">perturb_cols</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;race&quot;</span><span class="p">],</span> <span class="n">probs</span><span class="o">=</span><span class="n">probs</span><span class="p">,</span> <span class="n">sensitive_col</span><span class="o">=</span><span class="s2">&quot;sex&quot;</span><span class="p">)</span>
<span class="go">          workclass  education   relationship   race     sex</span>
<span class="go">0         State-gov  Bachelors  Not-in-family  Black    Male</span>
<span class="go">1  Self-emp-not-inc  Bachelors        Husband  White    Male</span>
<span class="go">2           Private    HS-grad  Not-in-family  White    Male</span>
<span class="go">3           Private       11th        Husband  Black    Male</span>
<span class="go">4           Private  Bachelors           Wife  Black  Female</span>
<span class="go">5           Private    Masters           Wife  White  Female</span>
<span class="go">6           Private        9th  Not-in-family  White  Female</span>
<span class="go">7  Self-emp-not-inc    HS-grad        Husband  Black    Male</span>
<span class="go">8           Private    Masters  Not-in-family  Black  Female</span>
<span class="go">9           Private  Bachelors        Husband  Black    Male</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-pymasq.mitigations.rank_swap">
<span id="pymasq-mitigations-rank-swap-module"></span><h2>pymasq.mitigations.rank_swap module<a class="headerlink" href="#module-pymasq.mitigations.rank_swap" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt id="pymasq.mitigations.rank_swap.rank_swap">
<code class="sig-prename descclassname">pymasq.mitigations.rank_swap.</code><code class="sig-name descname">rank_swap</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">, </span>pandas.core.series.Series<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">cols</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>str<span class="p">, </span>List<span class="p">[</span>str<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.series.Series<a class="headerlink" href="#pymasq.mitigations.rank_swap.rank_swap" title="Permalink to this definition"></a></dt>
<dd><p>TODO</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em><em>, </em><em>Series</em><em>, or </em><em>array_like</em>) – The data to be modified.</p></li>
<li><p><strong>cols</strong> (<em>str</em><em> or </em><em>list</em><em>, </em><em>Optional</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-pymasq.mitigations.rounding">
<span id="pymasq-mitigations-rounding-module"></span><h2>pymasq.mitigations.rounding module<a class="headerlink" href="#module-pymasq.mitigations.rounding" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt id="pymasq.mitigations.rounding.rounding">
<code class="sig-prename descclassname">pymasq.mitigations.rounding.</code><code class="sig-name descname">rounding</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">, </span>pandas.core.series.Series<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">magnitude</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">0</span></em>, <em class="sig-param"><span class="n">round_decimal</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>List<span class="p">, </span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">keep_dtypes</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#pymasq.mitigations.rounding.rounding" title="Permalink to this definition"></a></dt>
<dd><p>Round numerical values to the nearest place value.</p>
<p>Round to the nearest whole number or decimal. Values are always rounded up.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em><em>, </em><em>Series</em><em>, or </em><em>array_like</em>) – The data to be modified.</p></li>
<li><p><strong>magnitude</strong> (<em>int</em><em> (</em><em>Default: 0</em><em>)</em>) – The place value to round to.</p></li>
<li><p><strong>round_decimal</strong> (<em>bool</em><em> (</em><em>Default: False</em><em>)</em>) – If <cite>True</cite>, round to the nearest decimal place value. Else, round to nearest whole number.</p></li>
<li><p><strong>cols</strong> (<em>listr</em><em>, </em><em>str</em><em>, or </em><em>int</em><em>, </em><em>Optional</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
<li><p><strong>keep_dtypes</strong> (<em>bool</em><em> (</em><em>Default: True</em><em>)</em>) – Determine whether the data types of the output values should be the same as the
data types of the input values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A DataFrame with rounded values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">)))</span>
<span class="go">   0           1           2</span>
<span class="go">0  790.885012  378.955986  598.524492</span>
<span class="go">1  396.506198  416.688230  801.133469</span>
<span class="go">2  68.949521   487.262995  767.432916</span>
<span class="go">3  708.297028  414.632973  957.846657</span>
<span class="go">4  815.998951  539.653967  144.731417</span>
<span class="go">5  533.075232  281.206489  126.433357</span>
<span class="go">6  38.475080   41.117392   187.707412</span>
<span class="go">7  563.563829  545.063224  170.020492</span>
<span class="go">8  193.475847  216.862268  767.035219</span>
<span class="go">9  327.110469  903.003675  240.985534</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rounding</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">magnitude</span><span class="o">=-</span><span class="mi">2</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="go">   1       2</span>
<span class="go">0  378.96  598.52</span>
<span class="go">1  416.69  801.13</span>
<span class="go">2  487.26  767.43</span>
<span class="go">3  414.63  957.85</span>
<span class="go">4  539.65  144.73</span>
<span class="go">5  281.21  126.43</span>
<span class="go">6  41.12   187.71</span>
<span class="go">7  545.06  170.02</span>
<span class="go">8  216.86  767.04</span>
<span class="go">9  903.00  240.99</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-pymasq.mitigations.shuffle">
<span id="pymasq-mitigations-shuffle-module"></span><h2>pymasq.mitigations.shuffle module<a class="headerlink" href="#module-pymasq.mitigations.shuffle" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt id="pymasq.mitigations.shuffle.shuffle">
<code class="sig-prename descclassname">pymasq.mitigations.shuffle.</code><code class="sig-name descname">shuffle</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">shuffle_cols</span><span class="p">:</span> <span class="n">List<span class="p">[</span>Union<span class="p">[</span>int<span class="p">, </span>str<span class="p">]</span><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">cor_cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>List<span class="p">[</span>Union<span class="p">[</span>int<span class="p">, </span>str<span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cor_method</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'spearman'</span></em>, <em class="sig-param"><span class="n">cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>List<span class="p">, </span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">keep_dtypes</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pymasq.mitigations.shuffle.shuffle" title="Permalink to this definition"></a></dt>
<dd><p>Shuffle numeric columns based on correlation to other columns.</p>
<p>The shuffe technique aim to mix up data and can optionally retain
logical relationships between columns. It randomly shuffles data from
a dataset within an attribute (e.g. a column in a pure flat format) or
a set of attributes (e.g. a set of columns). You can shuffle sensitive
information to replace it with other values for the same attribute from
a different record.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em><em> or </em><em>array_like</em>) – The dataframe of numeric columns to be modified.</p></li>
<li><p><strong>shuffle_cols</strong> (<em>List of str</em><em> or </em><em>ints</em>) – The subset of columns that will be shuffled from <cite>data</cite>. The values of <cite>data[shuffle_cols]</cite>
must be numeric and there can be no overlapping columns with <cite>cor_cols</cite>.</p></li>
<li><p><strong>cor_cols</strong> (<em>List of str</em><em> or </em><em>ints</em><em>, </em><em>Optional</em><em> (</em><em>Default: None</em><em>)</em>) – The subset of columns used to calculate correlation with <cite>shuffle_cols</cite>. If not set, then all columns
of <cite>data</cite> not specified in <cite>shuffle_cols</cite> will be used. There can be no overlapping columns with <cite>shuffle_cols</cite>.</p></li>
<li><p><strong>cor_method</strong> (<em>{'spearman'</em><em>, </em><em>'pearson'</em><em>, </em><em>'kendall'}</em><em>, </em><em>Optional</em><em> (</em><em>Default: 'spearman'</em><em>)</em>) – Method used to generate covariance</p></li>
<li><p><strong>cols</strong> (<em>str</em><em> or </em><em>list</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
<li><p><strong>keep_dtypes</strong> (<em>bool</em><em> (</em><em>Default: True</em><em>)</em>) – Determine whether the data types of the output values should be the same as the
data types of the input values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The shuffled DataFrame for the specified column(s).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pymasq</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">load_loan</span><span class="p">()</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;ApplicantIncome&#39;</span><span class="p">,</span> <span class="s1">&#39;LoanAmount&#39;</span><span class="p">,</span> <span class="s1">&#39;Married&#39;</span><span class="p">,</span> <span class="s1">&#39;Education&#39;</span><span class="p">,</span> <span class="s1">&#39;Loan_Status&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">    ApplicantIncome  LoanAmount  Married  Education     Loan_Status</span>
<span class="go">0   4583             128.0       Yes      Graduate      N</span>
<span class="go">1   3000             66.0        Yes      Graduate      Y</span>
<span class="go">2   2583             120.0       Yes      Not Graduate  Y</span>
<span class="go">3   6000             141.0       No       Graduate      Y</span>
<span class="go">4   5417             267.0       Yes      Graduate      Y</span>
<span class="go">5   2333             95.0        Yes      Not Graduate  Y</span>
<span class="go">6   3036             158.0       Yes      Graduate      N</span>
<span class="go">7   4006             168.0       Yes      Graduate      Y</span>
<span class="go">8   12841            349.0       Yes      Graduate      N</span>
<span class="go">9   3200             70.0        Yes      Graduate      Y</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">shuffle</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">shuffle_cols</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;ApplicantIncome&quot;</span><span class="p">])</span>
<span class="go">    ApplicantIncome  LoanAmount  Married  Education     Loan_Status</span>
<span class="go">0   4583             128.0       Yes      Graduate      N</span>
<span class="go">1   3000             66.0        Yes      Graduate      Y</span>
<span class="go">2   2583             120.0       Yes      Not Graduate  Y</span>
<span class="go">3   4006             141.0       No       Graduate      Y</span>
<span class="go">4   5417             267.0       Yes      Graduate      Y</span>
<span class="go">5   2333             95.0        Yes      Not Graduate  Y</span>
<span class="go">6   6000             158.0       Yes      Graduate      N</span>
<span class="go">7   3200             168.0       Yes      Graduate      Y</span>
<span class="go">8   12841            349.0       Yes      Graduate      N</span>
<span class="go">9   3036             70.0        Yes      Graduate      Y</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">shuffle</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">shuffle_cols</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;ApplicantIncome&quot;</span><span class="p">,</span> <span class="s2">&quot;LoanAmount&quot;</span><span class="p">],</span> <span class="n">cor_cols</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Education&quot;</span><span class="p">,</span> <span class="s2">&quot;Loan_Status&quot;</span><span class="p">])</span>
<span class="go">    ApplicantIncome  LoanAmount  Married  Education     Loan_Status</span>
<span class="go">0   4006             70.0        Yes      Graduate      N</span>
<span class="go">1   5417             158.0       Yes      Graduate      Y</span>
<span class="go">2   2333             66.0        Yes      Not Graduate  Y</span>
<span class="go">3   6000             128.0       No       Graduate      Y</span>
<span class="go">4   3200             141.0       Yes      Graduate      Y</span>
<span class="go">5   2583             349.0       Yes      Not Graduate  Y</span>
<span class="go">6   3000             120.0       Yes      Graduate      N</span>
<span class="go">7   3036             95.0        Yes      Graduate      Y</span>
<span class="go">8   12841            267.0       Yes      Graduate      N</span>
<span class="go">9   4583             168.0       Yes      Graduate      Y</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-pymasq.mitigations.substitute">
<span id="pymasq-mitigations-substitute-module"></span><h2>pymasq.mitigations.substitute module<a class="headerlink" href="#module-pymasq.mitigations.substitute" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt id="pymasq.mitigations.substitute.substitute">
<code class="sig-prename descclassname">pymasq.mitigations.substitute.</code><code class="sig-name descname">substitute</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">, </span>pandas.core.series.Series<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">from_val</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>str<span class="p">, </span>float<span class="p">, </span>int<span class="p">, </span>List<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">to_val</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>str<span class="p">, </span>float<span class="p">, </span>int<span class="p">, </span>List<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">check_substr</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">replace_all</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">ignore_case</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>str<span class="p">, </span>List<span class="p">[</span>str<span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#pymasq.mitigations.substitute.substitute" title="Permalink to this definition"></a></dt>
<dd><p>Substitute, or replace, a specific value with another.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em><em>, </em><em>Series</em><em>, or </em><em>array_like</em>) – The data to be modified.</p></li>
<li><p><strong>from_val</strong> (<em>str</em><em>, </em><em>numeric</em><em>, or </em><em>list</em>) – <p>The value to search for and replace.</p>
<ul>
<li><dl class="simple">
<dt>str, numeric:</dt><dd><p>If <cite>from_val</cite> is a string or numeric value, then <cite>to_val</cite> must be a single string or numeric value, or a list of unit length.
If “*” passed, then all values will be replaced.
If a regular expression string is passed, refer to <a href="#id96"><span class="problematic" id="id30">[1]_</span></a>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>list:</dt><dd><p>If <cite>from_val</cite> is a list, then <cite>to_val</cite> must be a single string or numeric value, or a list of unit or equal length.</p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>to_val</strong> (<em>str</em><em>, </em><em>numeric</em><em>, or </em><em>list</em>) – <p>The value to replace <cite>from_val</cite> with.</p>
<ul>
<li><dl class="simple">
<dt>str, numeric:</dt><dd><p>If <cite>to_val</cite> is a string or numeric value, then <cite>from_val</cite> must be a single string or numeric value, or a list of unit length.
If a regular expression string is passed, refer to <a href="#id97"><span class="problematic" id="id31">[1]_</span></a>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>list:</dt><dd><p>if <cite>to_val</cite> is a list, then <cite>from_val</cite> must be a single string or numeric value, or a list of unit or equal length.</p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>check_substr</strong> (<em>bool</em><em>, </em><em>optional</em><em> (</em><em>Default: False</em><em>)</em>) – Check if a string value contains <cite>from_val</cite> as a substring.
This will be ignored if <cite>from_val</cite> and/or <cite>to_val</cite> are lists.</p></li>
<li><p><strong>replace_all</strong> (<em>bool</em><em>, </em><em>optional</em><em> (</em><em>Default: False</em><em>)</em>) – Replace an entire string value with <cite>to_val</cite>. Note that this will always be
True for exact matches (e.g., <cite>check_substr</cite> is False).</p></li>
<li><p><strong>ignore_case</strong> (<em>bool</em><em>, </em><em>optional</em><em> (</em><em>Default: False</em><em>)</em>) – Ignore the case of the string being substituted.</p></li>
<li><p><strong>cols</strong> (<em>str</em><em> or </em><em>list</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
<li><p><strong>**kwargs</strong> (<em>dict</em>) – Additional arguments to pass to <a href="#id98"><span class="problematic" id="id32">[1]_</span></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A DataFrame with substituted values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Regular expressions can be passed as <cite>from_val</cite> and <cite>to_val</cite>, in which case the functionality
of <cite>pymasq.mitigations.substitute</cite> will be defered in favor of <cite>pandas.Series.str.replace</cite> <a href="#id99"><span class="problematic" id="id33">[1]_</span></a>.</p>
</div>
<p class="rubric">References</p>
<p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.str.replace.html">https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.str.replace.html</a></p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pymasq</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">load_census</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">    workclass        sex</span>
<span class="go">0  State-gov         Male</span>
<span class="go">1  Self-emp-not-inc  Male</span>
<span class="go">2  Private           Male</span>
<span class="go">3  Private           Male</span>
<span class="go">4  Private           Female</span>
<span class="go">5  Private           Female</span>
<span class="go">6  Private           Female</span>
<span class="go">7  Self-emp-not-inc  Male</span>
<span class="go">8  Private           Female</span>
<span class="go">9  Private           Male</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">substitute</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">from_val</span><span class="o">=</span><span class="s2">&quot;em&quot;</span><span class="p">,</span> <span class="n">to_val</span><span class="o">=</span><span class="s2">&quot;EM&quot;</span><span class="p">)</span> <span class="c1"># no match</span>
<span class="go">    workclass        sex</span>
<span class="go">0  State-gov         Male</span>
<span class="go">1  Self-emp-not-inc  Male</span>
<span class="go">2  Private           Male</span>
<span class="go">3  Private           Male</span>
<span class="go">4  Private           Female</span>
<span class="go">5  Private           Female</span>
<span class="go">6  Private           Female</span>
<span class="go">7  Self-emp-not-inc  Male</span>
<span class="go">8  Private           Female</span>
<span class="go">9  Private           Male</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">substitute</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">from_val</span><span class="o">=</span><span class="s2">&quot;em&quot;</span><span class="p">,</span> <span class="n">to_val</span><span class="o">=</span><span class="s2">&quot;M&quot;</span><span class="p">,</span> <span class="n">check_substr</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">    workclass        sex</span>
<span class="go">0  State-gov         Male</span>
<span class="go">1  Self-EMp-not-inc  Male</span>
<span class="go">2  Private           Male</span>
<span class="go">3  Private           Male</span>
<span class="go">4  Private           FEMale</span>
<span class="go">5  Private           FEMale</span>
<span class="go">6  Private           FEMale</span>
<span class="go">7  Self-EMp-not-inc  Male</span>
<span class="go">8  Private           FEMale</span>
<span class="go">9  Private           Male</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">substitute</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">from_val</span><span class="o">=</span><span class="s2">&quot;em&quot;</span><span class="p">,</span> <span class="n">to_val</span><span class="o">=</span><span class="s2">&quot;EM&quot;</span><span class="p">,</span> <span class="n">check_substr</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">replace_all</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">    workclass  sex</span>
<span class="go">0  State-gov   Male</span>
<span class="go">1  EM          Male</span>
<span class="go">2  Private     Male</span>
<span class="go">3  Private     Male</span>
<span class="go">4  Private     EM</span>
<span class="go">5  Private     EM</span>
<span class="go">6  Private     EM</span>
<span class="go">7  EM          Male</span>
<span class="go">8  Private     EM</span>
<span class="go">9  Private     Male</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">substitute</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">from_val</span><span class="o">=</span><span class="s2">&quot;ma&quot;</span><span class="p">,</span> <span class="n">to_val</span><span class="o">=</span><span class="s2">&quot;MA&quot;</span><span class="p">,</span> <span class="n">check_substr</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">replace_all</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ignore_case</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">    workclass        sex</span>
<span class="go">0  State-gov         MA</span>
<span class="go">1  Self-emp-not-inc  MA</span>
<span class="go">2  Private           MA</span>
<span class="go">3  Private           MA</span>
<span class="go">4  Private           MA</span>
<span class="go">5  Private           MA</span>
<span class="go">6  Private           MA</span>
<span class="go">7  Self-emp-not-inc  MA</span>
<span class="go">8  Private           MA</span>
<span class="go">9  Private           MA</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-pymasq.mitigations.topbot_recoding">
<span id="pymasq-mitigations-topbot-recoding-module"></span><h2>pymasq.mitigations.topbot_recoding module<a class="headerlink" href="#module-pymasq.mitigations.topbot_recoding" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt id="pymasq.mitigations.topbot_recoding.bot_recoding">
<code class="sig-prename descclassname">pymasq.mitigations.topbot_recoding.</code><code class="sig-name descname">bot_recoding</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">, </span>pandas.core.series.Series<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">cutoff</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>int<span class="p">, </span>float<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">to_val</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>int<span class="p">, </span>float<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>List<span class="p">, </span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">keep_dtypes</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#pymasq.mitigations.topbot_recoding.bot_recoding" title="Permalink to this definition"></a></dt>
<dd><p>Recode all values below a minimum threshold to a specific value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em><em>, </em><em>Series</em><em>, or </em><em>array_like</em>) – The data to be modified.</p></li>
<li><p><strong>cutoff</strong> (<em>int</em><em> or </em><em>float</em>) – Mininum threshold. All values below this threshold will be replaced with <cite>to_val</cite>.</p></li>
<li><p><strong>to_val</strong> (<em>int</em><em> or </em><em>float</em><em>, </em><em>Optional</em>) – Replacement value to use for elements in <cite>data</cite> below <cite>cutoff</cite>.
If None, then <cite>to_val</cite> will be set to <cite>cutoff</cite>.</p></li>
<li><p><strong>cols</strong> (<em>listr</em><em>, </em><em>str</em><em>, or </em><em>int</em><em>, </em><em>Optional</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
<li><p><strong>keep_dtypes</strong> (<em>bool</em><em> (</em><em>Default: True</em><em>)</em>) – Determine whether the data types of the output values should be the same as the
data types of the input values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The DataFrame with recoded values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random_integers</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">)))</span>
<span class="go">    0   1    2</span>
<span class="go">0  182  529  949</span>
<span class="go">1  783  375  59</span>
<span class="go">2  253  349  631</span>
<span class="go">3  889  683  996</span>
<span class="go">4  523  554  803</span>
<span class="go">5  279  379  242</span>
<span class="go">6  639  26   833</span>
<span class="go">7  30   307  551</span>
<span class="go">8  681  885  822</span>
<span class="go">9  659  180  823</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bot_recoding</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">cutoff</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">to_val</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">    0   1    2</span>
<span class="go">0  0    529  949</span>
<span class="go">1  783  375  0</span>
<span class="go">2  0    349  631</span>
<span class="go">3  889  683  996</span>
<span class="go">4  523  554  803</span>
<span class="go">5  0    379  0</span>
<span class="go">6  639  0    833</span>
<span class="go">7  0    307  551</span>
<span class="go">8  681  885  822</span>
<span class="go">9  659  0    823</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="pymasq.mitigations.topbot_recoding.top_recoding">
<code class="sig-prename descclassname">pymasq.mitigations.topbot_recoding.</code><code class="sig-name descname">top_recoding</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">, </span>pandas.core.series.Series<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">cutoff</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>int<span class="p">, </span>float<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">to_val</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>int<span class="p">, </span>float<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>List<span class="p">, </span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">keep_dtypes</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#pymasq.mitigations.topbot_recoding.top_recoding" title="Permalink to this definition"></a></dt>
<dd><p>Recode all values above a maximum threshold to a specific value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em><em>, </em><em>Series</em><em>, or </em><em>array_like</em>) – The data to be modified.</p></li>
<li><p><strong>cols</strong> (<em>listr</em><em>, </em><em>str</em><em>, or </em><em>int</em><em>, </em><em>Optional</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
<li><p><strong>cutoff</strong> (<em>int</em><em> or </em><em>float</em>) – Maximum threshold. All values above this threshold will be replaced with <cite>to_val</cite>.</p></li>
<li><p><strong>to_val</strong> (<em>int</em><em> or </em><em>float</em><em>, </em><em>Optional</em>) – Replacement value to use for elements in <cite>data</cite> above <cite>cutoff</cite>.
If None, then <cite>to_val</cite> will be set to <cite>cutoff</cite>.</p></li>
<li><p><strong>keep_dtypes</strong> (<em>bool</em><em> (</em><em>Default: True</em><em>)</em>) – Determine whether the data types of the output values should be the same as the
data types of the input values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The DataFrame with recoded values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random_integers</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">)))</span>
<span class="go">    0   1    2</span>
<span class="go">0  182  529  949</span>
<span class="go">1  783  375  59</span>
<span class="go">2  253  349  631</span>
<span class="go">3  889  683  996</span>
<span class="go">4  523  554  803</span>
<span class="go">5  279  379  242</span>
<span class="go">6  639  26   833</span>
<span class="go">7  30   307  551</span>
<span class="go">8  681  885  822</span>
<span class="go">9  659  180  823</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">top_recoding</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">cutoff</span><span class="o">=</span><span class="mi">800</span><span class="p">,</span> <span class="n">to_val</span><span class="o">=</span><span class="mi">999</span><span class="p">)</span>
<span class="go">    0   1    2</span>
<span class="go">0  182  529  999</span>
<span class="go">1  783  375  59</span>
<span class="go">2  253  349  631</span>
<span class="go">3  999  683  999</span>
<span class="go">4  523  554  999</span>
<span class="go">5  279  379  242</span>
<span class="go">6  639  26   999</span>
<span class="go">7  30   307  551</span>
<span class="go">8  681  999  999</span>
<span class="go">9  659  180  999</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="pymasq.mitigations.topbot_recoding.topbot_recoding">
<code class="sig-prename descclassname">pymasq.mitigations.topbot_recoding.</code><code class="sig-name descname">topbot_recoding</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>pandas.core.series.Series<span class="p">, </span>pandas.core.frame.DataFrame<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">method</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#pymasq.mitigations.topbot_recoding.topbot_recoding" title="Permalink to this definition"></a></dt>
<dd><p>Recode all values above and/or below a cutoff value to specific values.</p>
<p>Wrapper function for <cite>top_recoding</cite> and <cite>bot_recoding</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em><em>, </em><em>Series</em><em>, or </em><em>array_like</em>) – The data to be modified.</p></li>
<li><p><strong>method</strong> (<em>str {&quot;top&quot;</em><em>,</em><em>&quot;bottom&quot;</em><em>,</em><em>&quot;both&quot;}</em><em> (</em><em>Default: &quot;top&quot;</em><em>)</em>) – The recoding method to perform.</p></li>
<li><p><strong>cols</strong> (<em>str</em><em> or </em><em>list</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
<li><p><strong>**kwargs</strong> – <p>Additional arguments to be passed to <cite>top_recoding</cite> and <cite>bot_recoding</cite>.</p>
<dl class="simple">
<dt>if <cite>method</cite> is “top” or “both”:</dt><dd><ul>
<li><dl class="simple">
<dt>top_cutoff<span class="classifier">int or float</span></dt><dd><p>Maximum threshold. All values above this threshold will be replaced with <cite>top_to</cite>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>top_to<span class="classifier">int or float, Optional</span></dt><dd><p>Replacement value to use for elements in <cite>series</cite> above <cite>top_cutoff</cite>.
If None, then <cite>top_to</cite> will be set to <cite>top_cutoff</cite>.</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt>if <cite>method</cite> is “bottom” or “both”:</dt><dd><ul>
<li><dl class="simple">
<dt>bot_cutoff<span class="classifier">int or float</span></dt><dd><p>Mininum threshold. All values below this threshold will be replaced with <cite>bot_to</cite>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>bot_to<span class="classifier">int or float, Optional</span></dt><dd><p>Replacement value to use for elements in <cite>series</cite> below <cite>bot_cutoff</cite>.
If None, then <cite>bot_to</cite> will be set to <cite>bot_cutoff</cite>.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A DataFrame with recoded values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#pymasq.mitigations.top_recoding" title="pymasq.mitigations.top_recoding"><code class="xref py py-func docutils literal notranslate"><span class="pre">pymasq.mitigations.top_recoding()</span></code></a></dt><dd><p>Recode all values above a maximum threshold to a specific value.</p>
</dd>
<dt><a class="reference internal" href="#pymasq.mitigations.bot_recoding" title="pymasq.mitigations.bot_recoding"><code class="xref py py-func docutils literal notranslate"><span class="pre">pymasq.mitigations.bot_recoding()</span></code></a></dt><dd><p>Recode all values below a minimum threshold to a specific value.</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random_integers</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">)))</span>
<span class="go">    0   1    2</span>
<span class="go">0  182  529  949</span>
<span class="go">1  783  375  59</span>
<span class="go">2  253  349  631</span>
<span class="go">3  889  683  996</span>
<span class="go">4  523  554  803</span>
<span class="go">5  279  379  242</span>
<span class="go">6  639  26   833</span>
<span class="go">7  30   307  551</span>
<span class="go">8  681  885  822</span>
<span class="go">9  659  180  823</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">topbot_recoding</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span> <span class="n">top_cutoff</span><span class="o">=</span><span class="mi">800</span><span class="p">,</span> <span class="n">top_to</span><span class="o">=</span><span class="mi">999</span><span class="p">,</span> <span class="n">bot_cutoff</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">bot_to</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">    0   1    2</span>
<span class="go">0  0    529  999</span>
<span class="go">1  783  375  0</span>
<span class="go">2  0    349  631</span>
<span class="go">3  999  683  999</span>
<span class="go">4  523  554  999</span>
<span class="go">5  0    379  0</span>
<span class="go">6  639  0    999</span>
<span class="go">7  0    307  551</span>
<span class="go">8  681  999  999</span>
<span class="go">9  659  0    999</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-pymasq.mitigations.truncate">
<span id="pymasq-mitigations-truncate-module"></span><h2>pymasq.mitigations.truncate module<a class="headerlink" href="#module-pymasq.mitigations.truncate" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt id="pymasq.mitigations.truncate.truncate">
<code class="sig-prename descclassname">pymasq.mitigations.truncate.</code><code class="sig-name descname">truncate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">, </span>pandas.core.series.Series<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">method</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'index'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#pymasq.mitigations.truncate.truncate" title="Permalink to this definition"></a></dt>
<dd><p>Truncate strings by index or after matching a speficic substring.</p>
<p>Wrapper function for <cite>truncate_by_index</cite> and <cite>truncate_by_match</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em><em>, </em><em>Series</em><em>, or </em><em>array_like</em>) – The data to be modified.</p></li>
<li><p><strong>method</strong> (<em>{'index'</em><em>, </em><em>'match'}</em><em>, </em><em>optional</em><em> (</em><em>Default: 'index'</em><em>)</em>) – The truncation method to perform.</p></li>
<li><p><strong>cols</strong> (<em>str</em><em> or </em><em>list</em><em>, </em><em>Optional</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
<li><p><strong>**kwargs</strong> – <p>Additional arguments to be passed to <cite>truncate_by_index</cite> and <cite>truncate_by_match</cite>.</p>
<p>If <cite>method</cite> is ‘index’:</p>
<blockquote>
<div><ul>
<li><dl class="simple">
<dt>idx<span class="classifier">int</span></dt><dd><p>The start index to truncate from. If <cite>end</cite> is None, then <cite>idx</cite> will be set to 0.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>end<span class="classifier">int, Optional</span></dt><dd><p>The end index to truncate to. If None, <cite>end</cite> will be set to <cite>idx</cite>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>trim_from<span class="classifier">{“start”, “end”, “both”}, Optional</span></dt><dd><p>The end of the string that should have character trimming applied</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>If <cite>method</cite> is ‘match’:</p>
<blockquote>
<div><ul>
<li><dl class="simple">
<dt>match<span class="classifier">str</span></dt><dd><p>The string to search for.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>keep<span class="classifier">{“before”, “after”}, optional (Default: “before”)</span></dt><dd><p>Truncate all characters before or after <cite>match</cite>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ignore_case<span class="classifier">boolean, optional (Default: False)</span></dt><dd><p>Should the supplied <cite>match</cite> pattern be case sensitive or not</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A DataFrame with truncated values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="pymasq.errors.html#pymasq.errors.InputError" title="pymasq.errors.InputError"><strong>InputError</strong></a> – This error is raised when a <cite>method</cite> is provided either without the required parameters for
    that <cite>method</cite>.</p></li>
<li><p><a class="reference internal" href="pymasq.errors.html#pymasq.errors.DataTypeError" title="pymasq.errors.DataTypeError"><strong>DataTypeError</strong></a> – This error is raised when the parameters supplied for a given method do not match the
    appropriate type of the expected parameters of that method.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#pymasq.mitigations.truncate_by_index" title="pymasq.mitigations.truncate_by_index"><code class="xref py py-func docutils literal notranslate"><span class="pre">pymasq.mitigations.truncate_by_index()</span></code></a></dt><dd><p>Truncates all characters within an index range.</p>
</dd>
<dt><a class="reference internal" href="#pymasq.mitigations.truncate_by_match" title="pymasq.mitigations.truncate_by_match"><code class="xref py py-func docutils literal notranslate"><span class="pre">pymasq.mitigations.truncate_by_match()</span></code></a></dt><dd><p>Truncates all characters before or after the first instance of a matching.</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pymasq</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">load_census</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;relationship&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">    workclass        education  relationship</span>
<span class="go">0  State-gov         Bachelors  Not-in-family</span>
<span class="go">1  Self-emp-not-inc  Bachelors  Husband</span>
<span class="go">2  Private           HS-grad    Not-in-family</span>
<span class="go">3  Private           11th       Husband</span>
<span class="go">4  Private           Bachelors  Wife</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">truncate</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;relationship&#39;</span><span class="p">],</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="n">idx</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">trim_from</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">)</span>
<span class="go">    workclass      education  relationship</span>
<span class="go">0  tate-go         achelor    ot-in-famil</span>
<span class="go">1  elf-emp-not-in  achelor    usban</span>
<span class="go">2  rivat           S-gra      ot-in-famil</span>
<span class="go">3  rivat           1t         usban</span>
<span class="go">4  rivat           achelor    if</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">truncate</span><span class="p">(</span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;relationship&#39;</span><span class="p">]],</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;match&#39;</span><span class="p">,</span> <span class="n">match</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="go">    workclass        education  relationship</span>
<span class="go">0  St                B          Not-in-f</span>
<span class="go">1  Self-emp-not-inc  B          Husb</span>
<span class="go">2  Priv              HS-gr      Not-in-f</span>
<span class="go">3  Priv              11th       Husb</span>
<span class="go">4  Priv              B          Wife</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="pymasq.mitigations.truncate.truncate_by_index">
<code class="sig-prename descclassname">pymasq.mitigations.truncate.</code><code class="sig-name descname">truncate_by_index</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">, </span>pandas.core.series.Series<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">idx</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">0</span></em>, <em class="sig-param"><span class="n">end</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>int<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">trim_from</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>List<span class="p">, </span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#pymasq.mitigations.truncate.truncate_by_index" title="Permalink to this definition"></a></dt>
<dd><p>Truncates all characters within an index range or by specific match.</p>
<p>Truncate all characters within an index range from the start of a string, the back of
a string, or both sides of a string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em><em> or </em><em>Series</em>) – The data to be modified.</p></li>
<li><p><strong>cols</strong> (<em>str</em><em> or </em><em>list</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
<li><p><strong>idx</strong> (<em>int</em><em> (</em><em>Default: 0</em><em>)</em>) – The start index to truncate from. If <cite>end</cite> is None, then <cite>idx</cite> will be set to 0.</p></li>
<li><p><strong>end</strong> (<em>int</em><em>, </em><em>Optional</em>) – The end index to truncate to. If None, <cite>end</cite> will be set to <cite>idx</cite>. If <cite>trim_from</cite> is
set, <cite>end</cite> will be ignored.</p></li>
<li><p><strong>trim_from</strong> (<em>{&quot;start&quot;</em><em>, </em><em>&quot;end&quot;</em><em>, </em><em>&quot;both&quot;}</em><em>, </em><em>Optional</em>) – The end of the string that should have character trimming applied</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The DataFrame with truncated values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pymasq</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">load_census</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;relationship&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">    workclass        education  relationship</span>
<span class="go">0  State-gov         Bachelors  Not-in-family</span>
<span class="go">1  Self-emp-not-inc  Bachelors  Husband</span>
<span class="go">2  Private           HS-grad    Not-in-family</span>
<span class="go">3  Private           11th       Husband</span>
<span class="go">4  Private           Bachelors  Wife</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">truncate_by_index</span><span class="p">(</span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;relationship&#39;</span><span class="p">]],</span> <span class="n">idx</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">trim_from</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">)</span>
<span class="go">    workclass      education  relationship</span>
<span class="go">0  tate-go         achelor    ot-in-famil</span>
<span class="go">1  elf-emp-not-in  achelor    usban</span>
<span class="go">2  rivat           S-gra      ot-in-famil</span>
<span class="go">3  rivat           1t         usban</span>
<span class="go">4  rivat           achelor    if</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="pymasq.mitigations.truncate.truncate_by_match">
<code class="sig-prename descclassname">pymasq.mitigations.truncate.</code><code class="sig-name descname">truncate_by_match</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">, </span>pandas.core.series.Series<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">match</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">keep_before</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">ignore_case</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>List<span class="p">, </span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#pymasq.mitigations.truncate.truncate_by_match" title="Permalink to this definition"></a></dt>
<dd><p>Truncates all characters before or after the first instance of a matching.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em><em> or </em><em>Series</em>) – The data to be modified.</p></li>
<li><p><strong>match</strong> (<em>str</em>) – The string to search for.</p></li>
<li><p><strong>keep_before</strong> (<em>bool</em><em>, </em><em>optional</em><em> (</em><em>Default: True</em><em>)</em>) – Truncate all characters before or after <cite>match</cite>.</p></li>
<li><p><strong>ignore_case</strong> (<em>bool</em><em>, </em><em>optional</em><em> (</em><em>Default: False</em><em>)</em>) – Should the <cite>match</cite> pattern be searched for with exact casing (False) or with casing
ignored (True)</p></li>
<li><p><strong>cols</strong> (<em>str</em><em> or </em><em>list</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The DataFrame with truncated values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pymasq</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">load_census</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;relationship&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">    workclass        education  relationship</span>
<span class="go">0  State-gov         Bachelors  Not-in-family</span>
<span class="go">1  Self-emp-not-inc  Bachelors  Husband</span>
<span class="go">2  Private           HS-grad    Not-in-family</span>
<span class="go">3  Private           11th       Husband</span>
<span class="go">4  Private           Bachelors  Wife</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">truncate_by_match</span><span class="p">(</span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;relationship&#39;</span><span class="p">]],</span> <span class="n">match</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="go">    workclass        education  relationship</span>
<span class="go">0  St                B          Not-in-f</span>
<span class="go">1  Self-emp-not-inc  B          Husb</span>
<span class="go">2  Priv              HS-gr      Not-in-f</span>
<span class="go">3  Priv              11th       Husb</span>
<span class="go">4  Priv              B          Wife</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-pymasq.mitigations.utils">
<span id="pymasq-mitigations-utils-module"></span><h2>pymasq.mitigations.utils module<a class="headerlink" href="#module-pymasq.mitigations.utils" title="Permalink to this headline"></a></h2>
</section>
<section id="module-pymasq.mitigations">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pymasq.mitigations" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt id="pymasq.mitigations.MaggClusteringMethods">
<em class="property">class </em><code class="sig-prename descclassname">pymasq.mitigations.</code><code class="sig-name descname">MaggClusteringMethods</code><a class="headerlink" href="#pymasq.mitigations.MaggClusteringMethods" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt id="pymasq.mitigations.MaggClusteringMethods.AGGLOMERATIVE">
<code class="sig-name descname">AGGLOMERATIVE</code><em class="property">: Final</em><em class="property"> = 'agglomerative'</em><a class="headerlink" href="#pymasq.mitigations.MaggClusteringMethods.AGGLOMERATIVE" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pymasq.mitigations.MaggClusteringMethods.BIRCH">
<code class="sig-name descname">BIRCH</code><em class="property">: Final</em><em class="property"> = 'birch'</em><a class="headerlink" href="#pymasq.mitigations.MaggClusteringMethods.BIRCH" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pymasq.mitigations.MaggClusteringMethods.DBSCAN">
<code class="sig-name descname">DBSCAN</code><em class="property">: Final</em><em class="property"> = 'dbscan'</em><a class="headerlink" href="#pymasq.mitigations.MaggClusteringMethods.DBSCAN" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pymasq.mitigations.MaggClusteringMethods.KMEANS">
<code class="sig-name descname">KMEANS</code><em class="property">: Final</em><em class="property"> = 'kmeans'</em><a class="headerlink" href="#pymasq.mitigations.MaggClusteringMethods.KMEANS" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pymasq.mitigations.MaggClusteringMethods.OPTICS">
<code class="sig-name descname">OPTICS</code><em class="property">: Final</em><em class="property"> = 'optics'</em><a class="headerlink" href="#pymasq.mitigations.MaggClusteringMethods.OPTICS" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pymasq.mitigations.MaggConst">
<em class="property">class </em><code class="sig-prename descclassname">pymasq.mitigations.</code><code class="sig-name descname">MaggConst</code><a class="headerlink" href="#pymasq.mitigations.MaggConst" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt id="pymasq.mitigations.MaggConst.DROP">
<code class="sig-name descname">DROP</code><em class="property">: Final</em><em class="property"> = 'drop'</em><a class="headerlink" href="#pymasq.mitigations.MaggConst.DROP" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pymasq.mitigations.MaggConst.RAISE">
<code class="sig-name descname">RAISE</code><em class="property">: Final</em><em class="property"> = 'raise'</em><a class="headerlink" href="#pymasq.mitigations.MaggConst.RAISE" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pymasq.mitigations.MaggMethods">
<em class="property">class </em><code class="sig-prename descclassname">pymasq.mitigations.</code><code class="sig-name descname">MaggMethods</code><a class="headerlink" href="#pymasq.mitigations.MaggMethods" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt id="pymasq.mitigations.MaggMethods.ADVANCED">
<code class="sig-name descname">ADVANCED</code><em class="property">: Final</em><em class="property"> = 'advanced'</em><a class="headerlink" href="#pymasq.mitigations.MaggMethods.ADVANCED" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pymasq.mitigations.MaggMethods.QUANTILE">
<code class="sig-name descname">QUANTILE</code><em class="property">: Final</em><em class="property"> = 'quantile'</em><a class="headerlink" href="#pymasq.mitigations.MaggMethods.QUANTILE" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pymasq.mitigations.MaggMethods.RANKING">
<code class="sig-name descname">RANKING</code><em class="property">: Final</em><em class="property"> = 'ranking'</em><a class="headerlink" href="#pymasq.mitigations.MaggMethods.RANKING" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pymasq.mitigations.MaggMethods.ROBUST">
<code class="sig-name descname">ROBUST</code><em class="property">: Final</em><em class="property"> = 'robust'</em><a class="headerlink" href="#pymasq.mitigations.MaggMethods.ROBUST" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pymasq.mitigations.MaggMethods.SEQUENTIAL">
<code class="sig-name descname">SEQUENTIAL</code><em class="property">: Final</em><em class="property"> = 'sequential'</em><a class="headerlink" href="#pymasq.mitigations.MaggMethods.SEQUENTIAL" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pymasq.mitigations.MaggReductionMethods">
<em class="property">class </em><code class="sig-prename descclassname">pymasq.mitigations.</code><code class="sig-name descname">MaggReductionMethods</code><a class="headerlink" href="#pymasq.mitigations.MaggReductionMethods" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt id="pymasq.mitigations.MaggReductionMethods.FICA">
<code class="sig-name descname">FICA</code><em class="property">: Final</em><em class="property"> = 'fica'</em><a class="headerlink" href="#pymasq.mitigations.MaggReductionMethods.FICA" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pymasq.mitigations.MaggReductionMethods.IPCA">
<code class="sig-name descname">IPCA</code><em class="property">: Final</em><em class="property"> = 'ipca'</em><a class="headerlink" href="#pymasq.mitigations.MaggReductionMethods.IPCA" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pymasq.mitigations.MaggReductionMethods.KPCA">
<code class="sig-name descname">KPCA</code><em class="property">: Final</em><em class="property"> = 'kpca'</em><a class="headerlink" href="#pymasq.mitigations.MaggReductionMethods.KPCA" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pymasq.mitigations.MaggReductionMethods.PCA">
<code class="sig-name descname">PCA</code><em class="property">: Final</em><em class="property"> = 'pca'</em><a class="headerlink" href="#pymasq.mitigations.MaggReductionMethods.PCA" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pymasq.mitigations.MaggScalingMethods">
<em class="property">class </em><code class="sig-prename descclassname">pymasq.mitigations.</code><code class="sig-name descname">MaggScalingMethods</code><a class="headerlink" href="#pymasq.mitigations.MaggScalingMethods" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt id="pymasq.mitigations.MaggScalingMethods.MCD">
<code class="sig-name descname">MCD</code><em class="property">: Final</em><em class="property"> = 'mcd'</em><a class="headerlink" href="#pymasq.mitigations.MaggScalingMethods.MCD" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pymasq.mitigations.MaggScalingMethods.ROBUST">
<code class="sig-name descname">ROBUST</code><em class="property">: Final</em><em class="property"> = 'robust'</em><a class="headerlink" href="#pymasq.mitigations.MaggScalingMethods.ROBUST" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pymasq.mitigations.MaggScalingMethods.STANDARD">
<code class="sig-name descname">STANDARD</code><em class="property">: Final</em><em class="property"> = 'standard'</em><a class="headerlink" href="#pymasq.mitigations.MaggScalingMethods.STANDARD" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="pymasq.mitigations.add_noise">
<code class="sig-prename descclassname">pymasq.mitigations.</code><code class="sig-name descname">add_noise</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">, </span>pandas.core.series.Series<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">method</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span> &#x2192; Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">, </span>pandas.core.series.Series<span class="p">]</span><a class="headerlink" href="#pymasq.mitigations.add_noise" title="Permalink to this definition"></a></dt>
<dd><p>Perturb numerical data with noise.</p>
<p>Wrapper function for <cite>add_noise_additive</cite>, <cite>add_noise_correlated</cite>,
<cite>add_noise_restricted</cite>, and <cite>add_noise_outliers</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em><em>, </em><em>Series</em><em>, or </em><em>array_like</em>) – The data to be modified. A <cite>DataFrame</cite> is required`add_noise` if <cite>method</cite> is “correlated”.</p></li>
<li><p><strong>method</strong> (<em>{'additive'</em><em>, </em><em>'correlated'</em><em>, </em><em>'restricted'</em><em>, </em><em>'outliers'}</em><em>, </em><em>optional</em><em> (</em><em>Default: 'additive'</em><em>)</em>) – The perturbative noise method.</p></li>
<li><p><strong>cols</strong> (<em>str</em><em> or </em><em>list</em><em>, </em><em>Optional</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe. For
additive noise, a column is required to be provided.</p></li>
<li><p><strong>magnitude</strong> (<em>int</em><em> or </em><em>float</em><em>, </em><em>optional</em>) – The amount of noise (in percentages) to add (Default: 5)</p></li>
<li><p><strong>**kwargs</strong> – <p>Additional argument(s) to be passed to <cite>add_noise_additive</cite>.</p>
<p>if <cite>method</cite> is ‘additive’:</p>
<blockquote>
<div><ul>
<li><dl class="simple">
<dt>degrees<span class="classifier">int, optional (Default: 1)</span></dt><dd><p>The degrees of freedom for calculating standard deviation.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>centered<span class="classifier">bool (Default: False)</span></dt><dd><p>Set the mean (“center”) of the distribution.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<dl class="simple">
<dt>if <cite>method</cite> is <cite>correlated</cite>:</dt><dd><ul>
<li><dl class="simple">
<dt>encode_non_numeric<span class="classifier">bool (Default: False)</span></dt><dd><p>Encode non-numeric columns as numerical vectors to perform the covariance matrix calculations.
If False, only numeric columns will be accounted for.</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt>if <cite>method</cite> is <cite>restricted</cite>:</dt><dd><p>_None_</p>
</dd>
<dt>if <cite>method</cite> is <cite>outliers</cite>:</dt><dd><ul>
<li><p>q : float (Default: 0.99)</p></li>
<li><p>interpolation : str (Default: “linear”)</p></li>
<li><p>seed: int (Default: 123)</p></li>
</ul>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A DataFrame with noise added to it.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>InputError:</strong> – This error is raised when invalid arguments are passed.</p></li>
<li><p><strong>DataTypeError:</strong> – This error is raised when the parameters supplied for a given method do not match the
    appropriate type of the expected parameters of that method.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#pymasq.mitigations.add_noise_additive" title="pymasq.mitigations.add_noise_additive"><code class="xref py py-func docutils literal notranslate"><span class="pre">pymasq.mitigations.add_noise_additive()</span></code></a></dt><dd><p>Add Gaussian noise to data.</p>
</dd>
<dt><a class="reference internal" href="#pymasq.mitigations.add_noise_correlated" title="pymasq.mitigations.add_noise_correlated"><code class="xref py py-func docutils literal notranslate"><span class="pre">pymasq.mitigations.add_noise_correlated()</span></code></a></dt><dd><p>Add correlated noise to data.</p>
</dd>
<dt><a class="reference internal" href="#pymasq.mitigations.add_noise_restricted" title="pymasq.mitigations.add_noise_restricted"><code class="xref py py-func docutils literal notranslate"><span class="pre">pymasq.mitigations.add_noise_restricted()</span></code></a></dt><dd><p>Add noise relative to the sample size of the data.</p>
</dd>
<dt><a class="reference internal" href="#pymasq.mitigations.add_noise_outliers" title="pymasq.mitigations.add_noise_outliers"><code class="xref py py-func docutils literal notranslate"><span class="pre">pymasq.mitigations.add_noise_outliers()</span></code></a></dt><dd><p>Add noise to outliers of the data.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt id="pymasq.mitigations.add_noise_additive">
<code class="sig-prename descclassname">pymasq.mitigations.</code><code class="sig-name descname">add_noise_additive</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">, </span>pandas.core.series.Series<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">magnitude</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>int<span class="p">, </span>float<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">5</span></em>, <em class="sig-param"><span class="n">centered</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">degrees</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">1</span></em>, <em class="sig-param"><span class="n">cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>List<span class="p">, </span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">keep_dtypes</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#pymasq.mitigations.add_noise_additive" title="Permalink to this definition"></a></dt>
<dd><p>Add Gaussian noise to data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em><em> or </em><em>Series</em>) – The data to be modified.</p></li>
<li><p><strong>magnitude</strong> (<em>int</em><em> (</em><em>Default: 5</em><em>)</em>) – Amount of perturbative noise (in percentages) to add.</p></li>
<li><p><strong>centered</strong> (<em>bool</em><em> (</em><em>Default: False</em><em>)</em>) – Set the mean (“center”) of the distribution. If False, the added noise will be
centered around 0.0, otherwise it will be centered around the mean, relative to the <cite>magnitude</cite>.</p></li>
<li><p><strong>degrees</strong> (<em>int</em><em> (</em><em>Default: 1</em><em>)</em>) – Number of degrees of freedom. Must be greater than or equal to 0.</p></li>
<li><p><strong>cols</strong> (<em>str</em><em> or </em><em>list</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
<li><p><strong>keep_dtypes</strong> (<em>bool</em><em> (</em><em>Default: True</em><em>)</em>) – Determine whether the data types of the output values should be the same as the
data types of the input values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A DataFrame perturbed with additive noise.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random_integers</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">)))</span>
<span class="go">    0  1  2</span>
<span class="go">0  182  529  949</span>
<span class="go">1  783  375  59</span>
<span class="go">2  253  349  631</span>
<span class="go">3  889  683  996</span>
<span class="go">4  523  554  803</span>
<span class="go">5  279  379  242</span>
<span class="go">6  639  26   833</span>
<span class="go">7  30   307  551</span>
<span class="go">8  681  885  822</span>
<span class="go">9  659  180  823</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">add_noise_additive</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">magnitude</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">centered</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">    0  1  2</span>
<span class="go">0  188  526  948</span>
<span class="go">1  779  383  63</span>
<span class="go">2  252  346  646</span>
<span class="go">3  891  690  992</span>
<span class="go">4  520  555  800</span>
<span class="go">5  274  380  243</span>
<span class="go">6  642  18   838</span>
<span class="go">7  30   299  552</span>
<span class="go">8  682  890  814</span>
<span class="go">9  656  186  821</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="pymasq.mitigations.add_noise_correlated">
<code class="sig-prename descclassname">pymasq.mitigations.</code><code class="sig-name descname">add_noise_correlated</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">magnitude</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>int<span class="p">, </span>float<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">5</span></em>, <em class="sig-param"><span class="n">encode_non_numeric</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>List<span class="p">, </span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">keep_dtypes</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#pymasq.mitigations.add_noise_correlated" title="Permalink to this definition"></a></dt>
<dd><p>Add correlated noise to data.</p>
<blockquote>
<div><p>Note that this method requires 2 or more data features, or columns.</p>
<dl class="simple">
<dt>data<span class="classifier">DataFrame</span></dt><dd><p>The data to be modified.</p>
</dd>
<dt>magnitude<span class="classifier">int (Default: 5)</span></dt><dd><p>Amount of perturbative noise to add. This will be converted into a percentage
(e.g., magnitude=5 will add 5% noise).</p>
</dd>
<dt>encode_non_numeric<span class="classifier">bool (Default: False)</span></dt><dd><p>If True, all non-numeric columns in <cite>data</cite> will be encoded as numerical values
using a LabelEncoder and be included in the covariance matrix calculations (note
that this will result in non-numeric columns being returned as numeric features).
If False, only numeric columns will be accounted for.</p>
</dd>
<dt>cols<span class="classifier">str or list</span></dt><dd><p>The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p>
</dd>
<dt>keep_dtypes<span class="classifier">bool (Default: True)</span></dt><dd><p>Determine whether the data types of the output values should be the same as the
data types of the input values.</p>
</dd>
</dl>
<dl class="simple">
<dt>DataFrame</dt><dd><p>A DataFrame perturbed with correlated noise.</p>
</dd>
</dl>
<dl class="simple">
<dt>InputError:</dt><dd><p>This error is raised when an insufficient number of columns are specified.</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random_integers</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">)))</span>
<span class="go">   0    1    2</span>
<span class="go">0  182  529  949</span>
<span class="go">1  783  375  59</span>
<span class="go">2  253  349  631</span>
<span class="go">3  889  683  996</span>
<span class="go">4  523  554  803</span>
<span class="go">5  279  379  242</span>
<span class="go">6  639  26   833</span>
<span class="go">7  30   307  551</span>
<span class="go">8  681  885  822</span>
<span class="go">9  659  180  823</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">add_noise_correlated</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">magnitude</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">keep_dtypes</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">    0   1    2</span>
<span class="go">0  146  525  944</span>
<span class="go">1  772  351  65</span>
<span class="go">2  286  344  601</span>
<span class="go">3  903  664  947</span>
<span class="go">4  520  543  827</span>
<span class="go">5  296  375  257</span>
<span class="go">6  588  30   821</span>
<span class="go">7  32   346  581</span>
<span class="go">8  630  893  787</span>
<span class="go">9  639  158  857</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random_integers</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df2</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">],</span> <span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="go">    0  1   2   3</span>
<span class="go">0  98  3   39  b</span>
<span class="go">1  37  8   56  a</span>
<span class="go">2  31  68  83  c</span>
<span class="go">3  18  71  64  b</span>
<span class="go">4  33  63  3   c</span>
<span class="go">5  38  20  20  c</span>
<span class="go">6  23  33  52  a</span>
<span class="go">7  52  32  15  a</span>
<span class="go">8  28  95  65  b</span>
<span class="go">9  58  80  73  a</span>
</pre></div>
</div>
</div></blockquote>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">add_noise_correlated</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">magnitude</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">encode_non_numeric</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">keep_dtypes</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">      0  1   2   3</span>
<span class="go">  0  98  2   38  0.986802</span>
<span class="go">  1  37  7   55  0.00440759</span>
<span class="go">  2  31  67  83  1.98077</span>
<span class="go">  3  19  70  63  1.00325</span>
<span class="go">  4  32  63  2   1.98965</span>
<span class="go">  5  37  19  20  1.98499</span>
<span class="go">  6  23  32  52  -0.0159703</span>
<span class="go">  7  51  30  14  0.012063</span>
<span class="go">  8  28  94  65  1.0021</span>
<span class="go">  9  57  80  73  0.0147035</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="pymasq.mitigations.add_noise_outliers">
<code class="sig-prename descclassname">pymasq.mitigations.</code><code class="sig-name descname">add_noise_outliers</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">magnitude</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>int<span class="p">, </span>float<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">5</span></em>, <em class="sig-param"><span class="n">q</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.99</span></em>, <em class="sig-param"><span class="n">interpolation</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'linear'</span></em>, <em class="sig-param"><span class="n">seed</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">123</span></em>, <em class="sig-param"><span class="n">cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>List<span class="p">, </span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">keep_dtypes</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#pymasq.mitigations.add_noise_outliers" title="Permalink to this definition"></a></dt>
<dd><p>Add noise to outliers of the data.</p>
<p>Note that this method requires 2 or more data features, or columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em>) – The data to be modified.</p></li>
<li><p><strong>magnitude</strong> (<em>int</em><em> (</em><em>Default: 5</em><em>)</em>) – Amount of perturbative noise to add. This will be converted into a percentage
(e.g., magnitude=5 will add 5% noise).</p></li>
<li><p><strong>q</strong> (<em>float</em>) – The quantile(s) to compute. Must be between 0 &lt;= q &lt;= 1.</p></li>
<li><p><strong>interpolation</strong> (<em>{'linear'</em><em>, </em><em>'lower'</em><em>, </em><em>'higher'</em><em>, </em><em>'midpoint'</em><em>, </em><em>'nearest'}</em><em> (</em><em>Default: 'linear'</em><em>)</em>) – The interpolation method to use. Refer to <a href="#id100"><span class="problematic" id="id34">[1]_</span></a> for a complete list of allowed values.</p></li>
<li><p><strong>seed</strong> (<em>int</em><em> (</em><em>Default: 123</em><em>)</em>) – Random seed to use to fit a Minimum Covariance Determinant (MCD) estimator model.</p></li>
<li><p><strong>cols</strong> (<em>str</em><em> or </em><em>list</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
<li><p><strong>keep_dtypes</strong> (<em>bool</em><em> (</em><em>Default: True</em><em>)</em>) – Determine whether the data types of the output values should be the same as the
data types of the input values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A DataFrame with noise added to its outliers.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random_integers</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">)))</span>
<span class="go">    0   1    2</span>
<span class="go">0  182  529  949</span>
<span class="go">1  783  375  59</span>
<span class="go">2  253  349  631</span>
<span class="go">3  889  683  996</span>
<span class="go">4  523  554  803</span>
<span class="go">5  279  379  242</span>
<span class="go">6  639  26   833</span>
<span class="go">7  30   307  551</span>
<span class="go">8  681  885  822</span>
<span class="go">9  659  180  823</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">add_noise_outliers</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">magnitude</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">q</span> <span class="o">=</span> <span class="mf">0.99</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">123</span><span class="p">)</span>
<span class="go">    0   1    2</span>
<span class="go">0  182  526  944</span>
<span class="go">1  785  378  63</span>
<span class="go">2  253  349  631</span>
<span class="go">3  895  685  995</span>
<span class="go">4  523  554  803</span>
<span class="go">5  283  382  243</span>
<span class="go">6  639  26   833</span>
<span class="go">7  30   307  551</span>
<span class="go">8  685  880  824</span>
<span class="go">9  659  180  823</span>
</pre></div>
</div>
<p class="rubric">References</p>
<p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.quantile.html">https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.quantile.html</a></p>
</dd></dl>

<dl class="py function">
<dt id="pymasq.mitigations.add_noise_restricted">
<code class="sig-prename descclassname">pymasq.mitigations.</code><code class="sig-name descname">add_noise_restricted</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">magnitude</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>int<span class="p">, </span>float<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">5</span></em>, <em class="sig-param"><span class="n">cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>List<span class="p">, </span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">keep_dtypes</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#pymasq.mitigations.add_noise_restricted" title="Permalink to this definition"></a></dt>
<dd><p>Add noise relative to the sample size of the data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em>) – The data to be modified.</p></li>
<li><p><strong>magnitude</strong> (<em>int</em><em> (</em><em>Default: 5</em><em>)</em>) – Amount of perturbative noise to add. This will be converted into a percentage
(e.g., magnitude=5 will add 5% noise).</p></li>
<li><p><strong>cols</strong> (<em>str</em><em> or </em><em>list</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
<li><p><strong>keep_dtypes</strong> (<em>bool</em><em> (</em><em>Default: True</em><em>)</em>) – Determine whether the data types of the output values should be the same as the
data types of the input values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A DataFrame with noise added to it.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random_integers</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">)))</span>
<span class="go">    0   1    2</span>
<span class="go">0  182  529  949</span>
<span class="go">1  783  375  59</span>
<span class="go">2  253  349  631</span>
<span class="go">3  889  683  996</span>
<span class="go">4  523  554  803</span>
<span class="go">5  279  379  242</span>
<span class="go">6  639  26   833</span>
<span class="go">7  30   307  551</span>
<span class="go">8  681  885  822</span>
<span class="go">9  659  180  823</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">add_noise_restricted</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">magnitude</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">keep_dtypes</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">    0   1    2</span>
<span class="go">0  214  518  919</span>
<span class="go">1  752  380  123</span>
<span class="go">2  278  357  635</span>
<span class="go">3  847  655  961</span>
<span class="go">4  519  540  789</span>
<span class="go">5  301  384  287</span>
<span class="go">6  623  68   815</span>
<span class="go">7  78   319  563</span>
<span class="go">8  661  836  806</span>
<span class="go">9  641  205  806</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="pymasq.mitigations.advanced_magg">
<code class="sig-prename descclassname">pymasq.mitigations.</code><code class="sig-name descname">advanced_magg</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">aggr</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">2</span></em>, <em class="sig-param"><span class="n">clust</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">clust_kwargs</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">[</span>Any<span class="p">, </span>Any<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">reduct</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">reduct_kwargs</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">[</span>Any<span class="p">, </span>Any<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">scale</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">scale_kwargs</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">[</span>Any<span class="p">, </span>Any<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">measure</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>str<span class="p">, </span>Callable<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">'mean'</span></em>, <em class="sig-param"><span class="n">measure_kwargs</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">[</span>Any<span class="p">, </span>Any<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>List<span class="p">, </span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">keep_dtypes</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#pymasq.mitigations.advanced_magg" title="Permalink to this definition"></a></dt>
<dd><p>Perform microaggregation based on clustering and/or dimensionality reduction of the data.</p>
<p>If a clustering method (<cite>clust</cite>) is specified, then the data will be arranged based on the clusters
they belong to prior to microaggregation. Alternatively, you could specify only a dimensionality reduction method (<cite>reduct</cite>)
to arrange the data based on their first principle component, or the projection which maximizes the variance in the data.
Both, clustering and dimensionality reduction methods, can be specified, in which case the data arranged by clusters is used,
instead of the original data, in dimensionality reduction to re-arrange the data, based on first principal component,
prior to microaggregation. A scaling method (<cite>scale</cite>) can also be specified to standardize the data prior to performing
dimensionality reduction. Note that either <cite>clust</cite>, <cite>reduct</cite>, or both must be specified.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em>) – The data to be modified.</p></li>
<li><p><strong>aggr</strong> (<em>int</em><em> (</em><em>Default: 2</em><em>)</em>) – Aggregation level. Must be an integer greater than 0.</p></li>
<li><p><strong>clust</strong> (<em>{&quot;birch</em><em>, </em><em>&quot;dbscan&quot;</em><em>, </em><em>&quot;kmeans&quot;</em><em>, </em><em>&quot;optics&quot;}</em><em> or </em><em>Callable</em><em>, </em><em>Optional</em><em> (</em><em>Default: None</em><em>)</em>) – Clustering method to use. The allowed options will use the <cite>sklearn.clustering</cite> methods of the same name.
Any other <cite>Callable</cite> that adheres to the <cite>sklearn.clustering</cite> API, such as <cite>sklearn.cluster.SpectralClustering</cite>,
can also be passed for additional functionality. Note that <cite>clust</cite> must be specified if <cite>reduct</cite> is not.
Refer to <a href="#id101"><span class="problematic" id="id35">[1]_</span></a> for more information on the clustering methods being used.</p></li>
<li><p><strong>clust_kwargs</strong> (<em>dict</em><em>, </em><em>Optional</em>) – Keyword arguments to past into the <cite>clust</cite> function.
Refer to <a href="#id102"><span class="problematic" id="id36">[1]_</span></a> for arguments that can be passed.</p></li>
<li><p><strong>scale</strong> (<em>{&quot;standard&quot;</em><em>, </em><em>&quot;mcd&quot;</em><em>, </em><em>&quot;robust&quot;}</em><em> or </em><em>Callable</em><em>, </em><em>Optional</em><em> (</em><em>Default: None</em><em>)</em>) – <dl class="simple">
<dt>Scaling method to use. Scaling aims to standarize, or transform, the data by centering to a specfic location (e.g., a cluster or 0).</dt><dd><ul>
<li><dl class="simple">
<dt>if <cite>scale</cite> is “standard”:</dt><dd><p>The data will be centered to the mean and scaled to unit variance. Refer to <a href="#id103"><span class="problematic" id="id37">[2]_</span></a> for more information.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>if <cite>scale</cite> is “mcd”:</dt><dd><p>The data will be centered around the location of the robust MCD estimator. Refer to <a href="#id104"><span class="problematic" id="id38">[3]_</span></a> for more information.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>if <cite>scale</cite> is “robust”:</dt><dd><p>The data will be centered around decomposition of the input data. Refer to <a href="#id105"><span class="problematic" id="id39">[4]_</span></a> for more information.
Note that this method required the <cite>tensorly</cite> Python library to be installed, which is not installed by default when installing <cite>pymasq</cite>.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
<p>Note that scaling will only occur if <cite>reduct</cite> is passed.</p>
</p></li>
<li><p><strong>scale_kwargs</strong> (<em>dict</em><em>, </em><em>Optional</em>) – Keyword arguments to past into the <cite>scale</cite> function.
Refer to <a href="#id106"><span class="problematic" id="id40">[2]_</span></a>, <a href="#id107"><span class="problematic" id="id41">[3]_</span></a>, and <a href="#id108"><span class="problematic" id="id42">[4]_</span></a> for allowed arguments that can be passed to “standard”, “mcd”, and “robust” methods, repsectively.</p></li>
<li><p><strong>reduct</strong> (<em>{&quot;pca&quot;</em><em>, </em><em>&quot;ipca&quot;</em><em>, </em><em>&quot;kpca&quot;</em><em>, </em><em>&quot;fica&quot;}</em><em> or </em><em>Callable</em><em>, </em><em>Optional</em><em> (</em><em>Default: None</em><em>)</em>) – Dimensionality reduction (<cite>reduct</cite>) method to use. The allowed options are references to the
<cite>sklearn.decomposiition</cite> methods of dimensionality reduction methods of similar name: <cite>PCA</cite> (“pca”),
<cite>IncrementalPCA</cite> (“ipca”), KernelPCA (“kpca”), and FastICA (“fica”). Any other <cite>Callabl</cite> that adheres to the
<cite>sklearn.decopmosition</cite> API, such as <cite>sklearn.decomposition.SparsePCA</cite>, can be passed for additional functionality.
Note that <cite>reduct</cite> must be specified if <cite>clust</cite> is not.
Refer to <a href="#id109"><span class="problematic" id="id43">[5]_</span></a> for more information on the dimensionality reduction methods being used.</p></li>
<li><p><strong>reduct_kwargs</strong> (<em>dict</em><em>, </em><em>Optional</em>) – Keyword arguments to pass into the <cite>reduct</cite> function.
Refer to <a href="#id110"><span class="problematic" id="id44">[5]_</span></a> for arguments that can be passed.</p></li>
<li><p><strong>measure</strong> (<em>{&quot;min&quot;</em><em>, </em><em>&quot;mean&quot;</em><em>, </em><em>&quot;max&quot;</em><em>, </em><em>&quot;median&quot;}</em><em> or </em><em>Callable</em><em> (</em><em>Default: &quot;mean&quot;</em><em>)</em>) – Aggregation statistic. A Callable, such as <cite>scipy.stats.trim_mean</cite> or <cite>np.mean</cite>,
can be passed for additional functionality. Refer to <a href="#id111"><span class="problematic" id="id45">[6]_</span></a> for a complete list of allowed values.</p></li>
<li><p><strong>measure_kwargs</strong> (<em>dict</em><em>, </em><em>Optional</em>) – Keyword arguments to be passed into the <cite>measure</cite> function.</p></li>
<li><p><strong>cols</strong> (<em>str</em><em> or </em><em>list</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
<li><p><strong>keep_dtypes</strong> (<em>bool</em><em> (</em><em>Default: True</em><em>)</em>) – Determine whether the data types of the output values should be the same as the
data types of the input values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A DataFrame with microaggregated values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">)))</span>
<span class="go">   0    1   2</span>
<span class="go">0  8    57  50</span>
<span class="go">1  56   44  27</span>
<span class="go">2  99   25  47</span>
<span class="go">3  18   21  1</span>
<span class="go">4  9    28  71</span>
<span class="go">5  42   69  14</span>
<span class="go">6  62   24  8</span>
<span class="go">7  100  44  26</span>
<span class="go">8  72   98  94</span>
<span class="go">9  87   40  51</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">advanced_magg</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">aggr</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">clust</span><span class="o">=</span><span class="s2">&quot;kmeans&quot;</span><span class="p">)</span>
<span class="go">   0    1   2</span>
<span class="go">0  64   40  49</span>
<span class="go">1  63   55  43</span>
<span class="go">2  64   40  49</span>
<span class="go">3  23   39  28</span>
<span class="go">4  23   39  28</span>
<span class="go">5  23   39  28</span>
<span class="go">6  63   55  43</span>
<span class="go">7  100  44  26</span>
<span class="go">8  63   55  43</span>
<span class="go">9  64   40  49</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">advanced_magg</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">aggr</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="s2">&quot;standard&quot;</span><span class="p">,</span> <span class="n">reduct</span><span class="o">=</span><span class="s2">&quot;pca&quot;</span><span class="p">)</span>
<span class="go">   0   1   2</span>
<span class="go">0  34  41  57</span>
<span class="go">1  45  29  12</span>
<span class="go">2  80  46  29</span>
<span class="go">3  45  29  12</span>
<span class="go">4  34  41  57</span>
<span class="go">5  80  46  29</span>
<span class="go">6  45  29  12</span>
<span class="go">7  80  46  29</span>
<span class="go">8  72  98  94</span>
<span class="go">9  34  41  57</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">advanced_magg</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">aggr</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">clust</span><span class="o">=</span><span class="s2">&quot;kmeans&quot;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="s2">&quot;standard&quot;</span><span class="p">,</span> <span class="n">reduct</span><span class="o">=</span><span class="s2">&quot;pca&quot;</span><span class="p">)</span>
<span class="go">   0    1   2</span>
<span class="go">0  64   40  49</span>
<span class="go">1  48   54  40</span>
<span class="go">2  64   40  49</span>
<span class="go">3  48   54  40</span>
<span class="go">4  37   40  31</span>
<span class="go">5  37   40  31</span>
<span class="go">6  37   40  31</span>
<span class="go">7  100  44  26</span>
<span class="go">8  48   54  40</span>
<span class="go">9  64   40  49</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">advanced_magg</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">aggr</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">clust</span><span class="o">=</span><span class="s2">&quot;kmeans&quot;</span><span class="p">,</span> <span class="n">clust_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;n_clusters&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">},</span>
<span class="go">                  scale=&quot;robust&quot;, scale_kwargs={&quot;learning_rate&quot;: 0.05},</span>
<span class="go">                  reduct=&quot;fica&quot;, reduct_kwargs={&quot;max_iter&quot;: 300})</span>
<span class="go">   0   1   2</span>
<span class="go">0  65  47  42</span>
<span class="go">1  72  31  27</span>
<span class="go">2  72  31  27</span>
<span class="go">3  23  39  28</span>
<span class="go">4  23  39  28</span>
<span class="go">5  23  39  28</span>
<span class="go">6  72  31  27</span>
<span class="go">7  65  47  42</span>
<span class="go">8  72  98  94</span>
<span class="go">9  65  47  42</span>
</pre></div>
</div>
<p class="rubric">References</p>
<p>[1] <a class="reference external" href="https://scikit-learn.org/stable/modules/clustering.html">https://scikit-learn.org/stable/modules/clustering.html</a>
[2] <a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.scale.html">https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.scale.html</a>
[3] <a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.covariance.MinCovDet.html">https://scikit-learn.org/stable/modules/generated/sklearn.covariance.MinCovDet.html</a>
[4] <a class="reference external" href="http://tensorly.org/stable/modules/generated/tensorly.decomposition.robust_pca.html">http://tensorly.org/stable/modules/generated/tensorly.decomposition.robust_pca.html</a>
[5] <a class="reference external" href="https://scikit-learn.org/stable/modules/classes.html#module-sklearn.decomposition">https://scikit-learn.org/stable/modules/classes.html#module-sklearn.decomposition</a>
[6] <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.core.groupby.DataFrameGroupBy.aggregate.html">https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.core.groupby.DataFrameGroupBy.aggregate.html</a></p>
</dd></dl>

<dl class="py function">
<dt id="pymasq.mitigations.bot_recoding">
<code class="sig-prename descclassname">pymasq.mitigations.</code><code class="sig-name descname">bot_recoding</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">, </span>pandas.core.series.Series<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">cutoff</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>int<span class="p">, </span>float<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">to_val</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>int<span class="p">, </span>float<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>List<span class="p">, </span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">keep_dtypes</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#pymasq.mitigations.bot_recoding" title="Permalink to this definition"></a></dt>
<dd><p>Recode all values below a minimum threshold to a specific value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em><em>, </em><em>Series</em><em>, or </em><em>array_like</em>) – The data to be modified.</p></li>
<li><p><strong>cutoff</strong> (<em>int</em><em> or </em><em>float</em>) – Mininum threshold. All values below this threshold will be replaced with <cite>to_val</cite>.</p></li>
<li><p><strong>to_val</strong> (<em>int</em><em> or </em><em>float</em><em>, </em><em>Optional</em>) – Replacement value to use for elements in <cite>data</cite> below <cite>cutoff</cite>.
If None, then <cite>to_val</cite> will be set to <cite>cutoff</cite>.</p></li>
<li><p><strong>cols</strong> (<em>listr</em><em>, </em><em>str</em><em>, or </em><em>int</em><em>, </em><em>Optional</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
<li><p><strong>keep_dtypes</strong> (<em>bool</em><em> (</em><em>Default: True</em><em>)</em>) – Determine whether the data types of the output values should be the same as the
data types of the input values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The DataFrame with recoded values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random_integers</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">)))</span>
<span class="go">    0   1    2</span>
<span class="go">0  182  529  949</span>
<span class="go">1  783  375  59</span>
<span class="go">2  253  349  631</span>
<span class="go">3  889  683  996</span>
<span class="go">4  523  554  803</span>
<span class="go">5  279  379  242</span>
<span class="go">6  639  26   833</span>
<span class="go">7  30   307  551</span>
<span class="go">8  681  885  822</span>
<span class="go">9  659  180  823</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bot_recoding</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">cutoff</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">to_val</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">    0   1    2</span>
<span class="go">0  0    529  949</span>
<span class="go">1  783  375  0</span>
<span class="go">2  0    349  631</span>
<span class="go">3  889  683  996</span>
<span class="go">4  523  554  803</span>
<span class="go">5  0    379  0</span>
<span class="go">6  639  0    833</span>
<span class="go">7  0    307  551</span>
<span class="go">8  681  885  822</span>
<span class="go">9  659  0    823</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="pymasq.mitigations.geom_transform">
<code class="sig-prename descclassname">pymasq.mitigations.</code><code class="sig-name descname">geom_transform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">perturb_cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>List<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">sensitive_col</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">magnitude</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>int<span class="p">, </span>float<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">0.3</span></em>, <em class="sig-param"><span class="n">shuffle</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>List<span class="p">, </span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">keep_dtypes</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pymasq.mitigations.geom_transform" title="Permalink to this definition"></a></dt>
<dd><p>Perform geometric transformations on data via PABIDOT algorithm.</p>
<p>The Privacy preservation Algorithm for Big Data Using Optimal geometric Transformations (PABIDOT) algorithm
is an irreversible input perturbation mechanism with a new privacy model (Φ − separation) which facilitates full data release.
Φ − separation provides an empirical privacy guarantee against data reconstruction attacks.
PABIDOT is substantially faster than comparable methods; it sequentially applies random axis reflection,
noise translation, and multidimensional concatenated subplane rotation followed by randomized expansion and random tuple shuffling
for further randomization. Randomized expansion is a novel method to increase the positiveness or the
negativeness of a particular data instance. PABIDOT’s memory overhead is comparatively close to other solutions,
and it provides better attack resistance, classification accuracy, and excellent efficiency towards big data. [1]</p>
<p>Code was adapted from the author’s official github repo [2].</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em>) – The data to be modified.</p></li>
<li><p><strong>perturb_cols</strong> (<em>List of str</em><em> or </em><em>ints</em><em>, </em><em>, </em><em>Optional</em><em> (</em><em>Default: None</em><em>)</em>) – The subset of columns that will be manipulated from <cite>data</cite>. The values of <cite>data[perturb_cols]</cite>
must be numeric and there can be no overlapping columns with <cite>sensitive_col</cite>. If omitted,
all columns of <cite>data</cite> will be perturbed.</p></li>
<li><p><strong>sensitive_col</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>Optional</em><em> (</em><em>Default: None</em><em>)</em>) – The subset of columns that should not be perturbed and instead used as a reference when shuffling records (rows).
If defined, then only the columns specified in <cite>perturb_cols</cite> will be modified.
There can be no overlapping columns with <cite>perturb_cols</cite>.</p></li>
<li><p><strong>magnitude</strong> (<em>int</em><em> or </em><em>float</em><em> (</em><em>Default: 0.3</em><em>)</em>) – Amount of perturbative noise (in percentages) to add.</p></li>
<li><p><strong>shuffle</strong> (<em>bool</em><em> (</em><em>Default: True</em><em>)</em>) – Perform random record shuffling for further randomization. If set to True, then
records (rows) will be shuffled at random. Columns not specified in <cite>perturb_cols</cite> or
<cite>sensitve_cols</cite> will not be shuffled.</p></li>
<li><p><strong>cols</strong> (<em>str</em><em> or </em><em>list</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
<li><p><strong>keep_dtypes</strong> (<em>bool</em><em> (</em><em>Default: True</em><em>)</em>) – Determine whether the data types of the output values should be the same as the
data types of the input values.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random_integers</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">)))</span>
<span class="go">    0   1   2   3</span>
<span class="go">0  72  13  92  91</span>
<span class="go">1  55  63  65  76</span>
<span class="go">2  36  61  10  63</span>
<span class="go">3  60  55  58  22</span>
<span class="go">4  33   7  42  73</span>
<span class="go">5  70  62  70  71</span>
<span class="go">6  59  71  61  92</span>
<span class="go">7  16   2  87  36</span>
<span class="go">8   3  40  83  40</span>
<span class="go">9  98  19   1  81</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">geom_transform</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">perturb_cols</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="go">           0          1   2   3</span>
<span class="go">0  71.648190  51.070171  42  73</span>
<span class="go">1  -9.134024  23.795086  92  91</span>
<span class="go">2   6.611443  97.804900  87  36</span>
<span class="go">3  -2.610105  69.084472  65  76</span>
<span class="go">4  23.181531  -6.396323  61  92</span>
<span class="go">5 -19.614609   4.535011  10  63</span>
<span class="go">6  43.362837  55.888641  83  40</span>
<span class="go">7  58.018783  61.896669   1  81</span>
<span class="go">8  60.973738  49.287759  58  22</span>
<span class="go">9  62.473920  20.604887  70  71</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">geom_transform</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">perturb_cols</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">sensitive_col</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="go">           0           1   2   3</span>
<span class="go">0 -11.316355   50.629356  92  73</span>
<span class="go">1  28.481677   17.091661  65  40</span>
<span class="go">2  -4.765645   93.733731  10  91</span>
<span class="go">3  72.519084   80.838710  58  92</span>
<span class="go">4  64.041619   89.521283  42  71</span>
<span class="go">5  56.931659   55.653460  70  63</span>
<span class="go">6   2.980840  119.995536  61  81</span>
<span class="go">7 -15.246824   28.281672  87  36</span>
<span class="go">8  53.494104   82.965545  83  22</span>
<span class="go">9  67.496956   70.102160   1  76</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">geom_transform</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">perturb_cols</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">sensitive_col</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">           0           1   2   3</span>
<span class="go">0  16.245920   82.742434  92  91</span>
<span class="go">1  76.375344   68.423197  65  76</span>
<span class="go">2  74.066167   50.099138  10  63</span>
<span class="go">3  66.465686   67.654576  58  22</span>
<span class="go">4   6.436980   49.678812  42  73</span>
<span class="go">5  74.770801   77.528999  70  71</span>
<span class="go">6  85.229085   69.590935  61  92</span>
<span class="go">7   1.085223   20.477899  87  36</span>
<span class="go">8  41.831609    6.293705  83  40</span>
<span class="go">9  24.960647  108.288109   1  81</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">geom_transform</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">perturb_cols</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">sensitive_col</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">keep_dtypes</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">    0    1   3</span>
<span class="go">0   1   82  91</span>
<span class="go">1  72   56  76</span>
<span class="go">2  68   35  63</span>
<span class="go">3  64   65  22</span>
<span class="go">4   1   31  73</span>
<span class="go">5  69   79  71</span>
<span class="go">6  82   61  92</span>
<span class="go">7  -6   14  36</span>
<span class="go">8  30    6  40</span>
<span class="go">9   9  102  81</span>
</pre></div>
</div>
<p class="rubric">References</p>
<p>[1] Chamikara, M. A. P., Bertók, P., Liu, D., Camtepe, S., &amp; Khalil, I. (2020). Efficient privacy preservation of big data for accurate data mining. Information Sciences, 527, 420-443. <a class="reference external" href="https://arxiv.org/pdf/1906.08149.pdf">https://arxiv.org/pdf/1906.08149.pdf</a>
[2] <a class="reference external" href="https://github.com/chamikara1986/PABIDOT/blob/master/PABIDOT.m">https://github.com/chamikara1986/PABIDOT/blob/master/PABIDOT.m</a></p>
</dd></dl>

<dl class="py function">
<dt id="pymasq.mitigations.global_recode">
<code class="sig-prename descclassname">pymasq.mitigations.</code><code class="sig-name descname">global_recode</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">, </span>pandas.core.series.Series<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">bins</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>int<span class="p">, </span>List<span class="p">, </span>numpy.ndarray<span class="p">, </span>pandas.core.indexes.interval.IntervalIndex<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">2</span></em>, <em class="sig-param"><span class="n">bin_method</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">labels</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>List<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ordered</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">ret_ints</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#pymasq.mitigations.global_recode" title="Permalink to this definition"></a></dt>
<dd><p>Recode numeric values as categorical variables.</p>
<p>This function modifies a continuous numeric column and recodes it as a categorical variable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em><em>, </em><em>Series</em><em>, or </em><em>array_like</em>) – The data to be modified.</p></li>
<li><p><strong>labels</strong> (<em>list of str</em><em>, </em><em>optional</em><em> (</em><em>Default: None</em><em>)</em>) – The labels given to the new categories created. Labels must be the
same length as number of <cite>bins</cite>. If <cite>None</cite> the labels will default to “(a, b]” with a and b
being the endpoints of the category. Note: if <cite>ordered</cite> is False labels must be provided.</p></li>
<li><p><strong>bins</strong> (<em>int</em><em>, </em><em>list of floats</em><em>, or </em><em>IntervalIndex</em>) – <dl class="simple">
<dt>The criteria number of bins to split the data by.</dt><dd><ul>
<li><p>int : Defines the number of equal-width bins in the range of <cite>data</cite>. The
range of <cite>data</cite> is extended by .1% on each side to include the minimum.
and maximum values of <cite>data</cite>.</p></li>
<li><p>list of floats : Defines the bin edges allowing for non-uniform
width. No extension of the range of <cite>data</cite> is done.</p></li>
<li><p>IntervalIndex : Defines the exact bins to be used. Note that
IntervalIndex for <cite>bins</cite> must be non-overlapping.</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>bin_method</strong> (<em>{&quot;equidistant&quot;</em><em>, </em><em>&quot;log_equidistant&quot;</em><em>, </em><em>&quot;equal&quot;</em><em>, </em><em>&quot;magnitude&quot;}</em><em>, </em><em>Optional</em><em> (</em><em>Default: &quot;equidistant&quot;</em><em>)</em>) – The method for creating breaking up the bins.
* equidistant : bins have the same width
* log_equidistant : bins have same width on a natural log scale
* equal : bins each contain the same amount of items
* magnitude : bins have the same width on log-10 scale</p></li>
<li><p><strong>ordered</strong> (<em>bool</em><em>, </em><em>optional</em><em> (</em><em>Default: True</em><em>)</em>) – Whether labels are ordered or not</p></li>
<li><p><strong>ret_ints</strong> (<em>bool</em><em>, </em><em>optional</em><em> (</em><em>Default: False</em><em>)</em>) – Whether to return data as categoritcal or integer, must be interger to use utility scores</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A DataFrame with recoded values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pymasq.mitigations</span> <span class="kn">import</span> <span class="n">global_recode</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">)),</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">])</span>
<span class="go">    a  b   c</span>
<span class="go">0  27  18  61</span>
<span class="go">1  25  44  61</span>
<span class="go">2  82  23  19</span>
<span class="go">3  62  40  30</span>
<span class="go">4  37  11  95</span>
<span class="go">5  46  1   38</span>
<span class="go">6  20  59  96</span>
<span class="go">7  46  96  82</span>
<span class="go">8  72  9   20</span>
<span class="go">9  12  63  4</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">global_recode</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="go">    a                b                  c</span>
<span class="go">0  (11.929, 35.333]  (0.904, 32.667]   (34.667, 65.333]</span>
<span class="go">1  (11.929, 35.333]  (32.667, 64.333]  (34.667, 65.333]</span>
<span class="go">2  (58.667, 82.0]    (0.904, 32.667]   (3.907, 34.667]</span>
<span class="go">3  (58.667, 82.0]    (32.667, 64.333]  (3.907, 34.667]</span>
<span class="go">4  (35.333, 58.667]  (0.904, 32.667]   (65.333, 96.0]</span>
<span class="go">5  (35.333, 58.667]  (0.904, 32.667]   (34.667, 65.333]</span>
<span class="go">6  (11.929, 35.333]  (32.667, 64.333]  (65.333, 96.0]</span>
<span class="go">7  (35.333, 58.667]  (64.333, 96.0]    (65.333, 96.0]</span>
<span class="go">8  (58.667, 82.0]    (0.904, 32.667]   (3.907, 34.667]</span>
<span class="go">9  (11.929, 35.333]  (32.667, 64.333]  (3.907, 34.667]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">global_recode</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;lo&#39;</span><span class="p">,</span> <span class="s1">&#39;med&#39;</span><span class="p">,</span> <span class="s1">&#39;hi&#39;</span><span class="p">])</span>
<span class="go">    a   b    c</span>
<span class="go">0  lo   lo   med</span>
<span class="go">1  lo   med  med</span>
<span class="go">2  hi   lo   lo</span>
<span class="go">3  hi   med  lo</span>
<span class="go">4  med  lo   hi</span>
<span class="go">5  med  lo   med</span>
<span class="go">6  lo   med  hi</span>
<span class="go">7  med  hi   hi</span>
<span class="go">8  hi   lo   lo</span>
<span class="go">9  lo   med  lo</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">global_recode</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">bin_method</span><span class="o">=</span><span class="s1">&#39;equal&#39;</span><span class="p">)</span>
<span class="go">    a              b              c</span>
<span class="go">0  (27.0, 46.0]    (18.0, 44.0]   (30.0, 61.0]</span>
<span class="go">1  (11.999, 27.0]  (44.0, 96.0]   (30.0, 61.0]</span>
<span class="go">2  (46.0, 82.0]    (18.0, 44.0]   (3.999, 30.0]</span>
<span class="go">3  (46.0, 82.0]    (18.0, 44.0]   (30.0, 61.0]</span>
<span class="go">4  (27.0, 46.0]    (0.999, 18.0]  (61.0, 96.0]</span>
<span class="go">5  (27.0, 46.0]    (0.999, 18.0]  (30.0, 61.0]</span>
<span class="go">6  (11.999, 27.0]  (44.0, 96.0]   (61.0, 96.0]</span>
<span class="go">7  (27.0, 46.0]    (44.0, 96.0]   (61.0, 96.0]</span>
<span class="go">8  (46.0, 82.0]    (0.999, 18.0]  (3.999, 30.0]</span>
<span class="go">9  (11.999, 27.0]  (44.0, 96.0]   (3.999, 30.0]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">global_recode</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">ret_ints</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">   a  b  c</span>
<span class="go">0  0  0  0</span>
<span class="go">1  0  2  0</span>
<span class="go">2  2  2  0</span>
<span class="go">3  2  1  0</span>
<span class="go">4  0  2  2</span>
<span class="go">5  1  2  1</span>
<span class="go">6  2  1  1</span>
<span class="go">7  2  2  0</span>
<span class="go">8  1  0  0</span>
<span class="go">9  0  1  2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="pymasq.mitigations.hashing">
<code class="sig-prename descclassname">pymasq.mitigations.</code><code class="sig-name descname">hashing</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>pandas.core.series.Series<span class="p">, </span>pandas.core.frame.DataFrame<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">hash_func</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>Callable<span class="p">, </span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">'sha256'</span></em>, <em class="sig-param"><span class="n">salt</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>List<span class="p">, </span>numpy.ndarray<span class="p">, </span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">append_salt</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">store_salt</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>List<span class="p">, </span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#pymasq.mitigations.hashing" title="Permalink to this definition"></a></dt>
<dd><p>Map all input values onto a set of output values using a hashing function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em><em>, </em><em>Series</em><em>, or </em><em>array_like</em>) – The data to be modified.</p></li>
<li><p><strong>hash_func</strong> (<em>function</em><em> or </em><em>str</em><em> (</em><em>Default: &quot;sha256&quot;</em><em>)</em>) – The hashing function to use. If <cite>hash_func</cite> is a string, then it should correspond to
a function name in the <cite>hashlib</cite> Python library <a href="#id112"><span class="problematic" id="id46">[1]_</span></a>. Else, it will apply the user-defined function.
Algorithms listed in <cite>hashlib.algorithms_guaranteed</cite> are prefererd.</p></li>
<li><p><strong>salt</strong> (<em>list</em><em>, </em><em>str</em><em>, or </em><em>int</em><em>, </em><em>Optional</em>) – The salt, or random data, to add to <cite>data</cite> to perturb it before hashing occurs.
If left as <cite>None</cite>, then no salt will be added to <cite>data</cite>. If <cite>salt</cite> is a list,
then it must be of the same length as <cite>data</cite>. If <cite>salt</cite> is a string, then the same salt value
will be added to each value in <cite>data</cite>. If <cite>salt</cite> is an integer, then a random salt of that bit size
will automatically be generated (note that 16 and 32 are typical salt bit sizes).
Generated salts can be stored by specifying the <cite>store_salts</cite> parameter.
Please refer to <a href="#id113"><span class="problematic" id="id47">[2]_</span></a> for additional information on the importance of salts.</p></li>
<li><p><strong>append_salt</strong> (<em>bool</em><em> (</em><em>Default: True</em><em>)</em>) – If True, the salt will be appended at the end of <cite>data</cite>. Otherwise, the salt will be prepended to the front of <cite>data</cite>.</p></li>
<li><p><strong>store_salt</strong> (<em>str</em><em>, </em><em>Optional</em>) – The filename or complete file path where salts will be stored to. The <cite>salt</cite> will automatically
be saved as a CSV file. Note that if <cite>salt</cite> is an integer, salt values will be generated dynamically, therefore,
storing the salt values will become the only method of recovering the original value of <cite>data</cite>.
Any file of the same name as <cite>store_salt</cite> will be overwritten.</p></li>
<li><p><strong>cols</strong> (<em>str</em><em> or </em><em>list</em><em>, </em><em>Optional</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A DataFrame with hashed values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Use <cite>hashlib.algorithms_available</cite> to see available hashing functions.</p>
<p class="rubric">References</p>
<p><a class="reference external" href="https://docs.python.org/3/library/hashlib.html">https://docs.python.org/3/library/hashlib.html</a></p>
<p><a class="reference external" href="https://nvlpubs.nist.gov/nistpubs/Legacy/SP/nistspecialpublication800-132.pdf">https://nvlpubs.nist.gov/nistpubs/Legacy/SP/nistspecialpublication800-132.pdf</a></p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pymasq.datasets</span> <span class="kn">import</span> <span class="n">load_census</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">load_census</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:</span><span class="mi">10</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;marital_status&quot;</span><span class="p">,</span> <span class="s2">&quot;occupation&quot;</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">    marital_status         occupation</span>
<span class="go">0   Never-married          Adm-clerical</span>
<span class="go">1   Married-civ-spouse     Exec-managerial</span>
<span class="go">2   Divorced               Handlers-cleaners</span>
<span class="go">3   Married-civ-spouse     Handlers-cleaners</span>
<span class="go">4   Married-civ-spouse     Prof-specialty</span>
<span class="go">5   Married-civ-spouse     Exec-managerial</span>
<span class="go">6   Married-spouse-absent  Other-service</span>
<span class="go">7   Married-civ-spouse     Exec-managerial</span>
<span class="go">8   Never-married          Prof-specialty</span>
<span class="go">9   Married-civ-spouse     Exec-managerial</span>
<span class="go">10  Married-civ-spouse     Exec-managerial</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hashing</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">hash_func</span><span class="o">=</span><span class="s2">&quot;md5&quot;</span><span class="p">)</span>
<span class="go">    marital_status                    occupation</span>
<span class="go">0   73cf421158c109aa4db6861489471f81  4c4e21b293a987859a0d20bcba98157f</span>
<span class="go">1   cbd21dd3a341657f6d347dfed4717deb  8f2cf8dfc926906b968e7f5e0588f55a</span>
<span class="go">2   f2e4016d0c9314f9cf4b36489da5b0dd  379f2522eec3badf2b0c23ee58a60a72</span>
<span class="go">3   cbd21dd3a341657f6d347dfed4717deb  379f2522eec3badf2b0c23ee58a60a72</span>
<span class="go">4   cbd21dd3a341657f6d347dfed4717deb  e382d0ae524f4f8dbb7f3e320e05b600</span>
<span class="go">5   cbd21dd3a341657f6d347dfed4717deb  8f2cf8dfc926906b968e7f5e0588f55a</span>
<span class="go">6   538a9356eea33950d99104606fbe09ad  c730c4fd37611c3afc670d4c524ec180</span>
<span class="go">7   cbd21dd3a341657f6d347dfed4717deb  8f2cf8dfc926906b968e7f5e0588f55a</span>
<span class="go">8   73cf421158c109aa4db6861489471f81  e382d0ae524f4f8dbb7f3e320e05b600</span>
<span class="go">9   cbd21dd3a341657f6d347dfed4717deb  8f2cf8dfc926906b968e7f5e0588f55a</span>
<span class="go">10  cbd21dd3a341657f6d347dfed4717deb  8f2cf8dfc926906b968e7f5e0588f55a</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hashing</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">hash_func</span><span class="o">=</span><span class="s2">&quot;md5&quot;</span><span class="p">,</span> <span class="n">salt</span><span class="o">=</span><span class="s2">&quot;random-string&quot;</span><span class="p">)</span>
<span class="go">    marital_status                      occupation</span>
<span class="go">0   7a14ab6033c824ac361a1794febd2e19        21c32d969ed3c02e4608f90262f3884c</span>
<span class="go">1   386dda8775ed53032c7e5a84d2f18399        91a3639f58d9711bd15436a09af4fa73</span>
<span class="go">2   38aec33b4b1518f1949f4e8e98b8cf89        adb1a3c463d9a7a1525efe6aee49413f</span>
<span class="go">3   386dda8775ed53032c7e5a84d2f18399        adb1a3c463d9a7a1525efe6aee49413f</span>
<span class="go">4   386dda8775ed53032c7e5a84d2f18399        4538d56cfcbd690a2d2eea3e557bb48f</span>
<span class="go">5   386dda8775ed53032c7e5a84d2f18399        91a3639f58d9711bd15436a09af4fa73</span>
<span class="go">6   8e378f2aaa2a37999eb51aded134048f        87653015c652de3cefec557b5497b00f</span>
<span class="go">7   386dda8775ed53032c7e5a84d2f18399        91a3639f58d9711bd15436a09af4fa73</span>
<span class="go">8   7a14ab6033c824ac361a1794febd2e19        4538d56cfcbd690a2d2eea3e557bb48f</span>
<span class="go">9   386dda8775ed53032c7e5a84d2f18399        91a3639f58d9711bd15436a09af4fa73</span>
<span class="go">10  386dda8775ed53032c7e5a84d2f18399        91a3639f58d9711bd15436a09af4fa73</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hashing</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">hash_func</span><span class="o">=</span><span class="s2">&quot;md5&quot;</span><span class="p">,</span> <span class="n">salt</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="go">    marital_status                      occupation</span>
<span class="go">0   c9d3a62a96acd378954cc8928f716259        b989a09703027029b83c8b0f5ccb73dd</span>
<span class="go">1   625903e06f5cce02129e7e2b6cbb6b27        9fb4f8f0f4c98da85e328b0d52fc5bdf</span>
<span class="go">2   e0b2e2202d92e0b409be4a3fea83ef95        9b2b47e32d239641442089ce1af41342</span>
<span class="go">3   3e13c0bce44e7615a964ff531e207ccd        b3df77e0c7cade94afdd6d67fee5dddf</span>
<span class="go">4   8820d08088724128c99a2b3aaee308a1        4208add69e4bfdb506912a5ad2c7be48</span>
<span class="go">5   588cdaef14ecbf2e4423f2c61f0ebc08        49af370931c3ee27a38a74b6b6587fa8</span>
<span class="go">6   60a94bd6425d2746a1fee6a4bc79314b        9ef0a203e97dc1ae6c19497ccabfcbc2</span>
<span class="go">7   9c34c01b6f20e319340be9a04024a00b        01635612db0afbcf86b97b4744c16610</span>
<span class="go">8   157acb7a5bf8cb2a5f8acb49f3f726c4        41c50586e58d07257c23ab605842fe14</span>
<span class="go">9   a8a4bcf40ed192185455e17473105f8d        70ddd4700872cc81f0d58f0039762794</span>
<span class="go">10  0806d9fbcd3a12c2503a8dda7622a765        e3fc14fc7f8e5ecd6c1e220b0fd8b686</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hashing</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">hash_func</span><span class="o">=</span><span class="s2">&quot;md5&quot;</span><span class="p">,</span> <span class="n">salt</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="s2">&quot;b&quot;</span><span class="p">,</span><span class="s2">&quot;c&quot;</span><span class="p">],</span> <span class="n">size</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>
<span class="go">    marital_status                      occupation</span>
<span class="go">0   d3c2c07328c004257d78078efc18a2e7        dfd8c82cf825bb141364719be36577e1</span>
<span class="go">1   34f4e90dd6cd3c8e0c9be987bcb890a2        b63bd8fdcbdff01408a6f037e1816e69</span>
<span class="go">2   bb96b852df8daef0c978f8191b7ab353        50f7a90fc49880975fdc3f598deeb064</span>
<span class="go">3   34f4e90dd6cd3c8e0c9be987bcb890a2        3c3b7950a48c64e0123042f791e5abc6</span>
<span class="go">4   b3c70e439b5c9ec15c91e2624dbe5c71        a3157d1201d17d2da30f224f99e56730</span>
<span class="go">5   b3c70e439b5c9ec15c91e2624dbe5c71        94798b137db818bf2213fcabb99add4d</span>
<span class="go">6   5c9747c0f0d0b7029a572acf617ba46a        0bd722b7a84b3426ff022939035be2c0</span>
<span class="go">7   4222ef367e33c9d84a585024c56e5622        49ec30c27fbea6bb4ab691e51e598c76</span>
<span class="go">8   d3c2c07328c004257d78078efc18a2e7        0c95c9bcba4f3483df0fe58da41c1624</span>
<span class="go">9   34f4e90dd6cd3c8e0c9be987bcb890a2        94798b137db818bf2213fcabb99add4d</span>
<span class="go">10  34f4e90dd6cd3c8e0c9be987bcb890a2        49ec30c27fbea6bb4ab691e51e598c76</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hashing</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">salt</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">store_salt</span><span class="o">=</span><span class="s2">&quot;my_salt.csv&quot;</span><span class="p">)</span>
<span class="go">    marital_status                                      occupation</span>
<span class="go">0   f99438d80007788849824e3cff625cd43a653028ee029e...       327f8dc400dba2d4c0aa3b78d2c274efd7060e8d1e084e...</span>
<span class="go">1   79c8e76b8c0240a4dba439e436f4325a9d56bdc4b8ccfa...       7a3501b7a9d7833c05efd1b691d08361e6a4225e9ec87e...</span>
<span class="go">2   39b069e5943d6f5fdd9775b1fb7ab52173a83e9ad58bcc...       89f5df3961bb6650fef80549933eb0d43dca5218d35d3a...</span>
<span class="go">3   9d74acf0c0d4627b07643156f36d217e6e65cf57ed650c...       4eb952b7fc89afb7c0e4771986a2a6ec437675f2356077...</span>
<span class="go">4   c2d922e99744ab86e22babd8ec9275c3222d6aee699179...       2ffe7708a15b0ade8788172d52e793b570b6ca4a420393...</span>
<span class="go">5   b9c5f6a5300e2985f231e04136b30d91d3d02a89e7b580...       b7d5b50b8ade16b62515cbbe65e8e1a28ced946238fc74...</span>
<span class="go">6   4ac1a2f5bb91cafee4f078ac45e52d811a3ab26b248eb0...       7b6ec0e5b1f1ea59abc9493b15cb585b1e5037d12a5c13...</span>
<span class="go">7   24d88b2478f1a78df470304a1433f9ee5052c0085aeed8...       40f638562b4b37b250973cd09759d95473d63aeadf75f9...</span>
<span class="go">8   9856ef4eaefd2f6316c7e53df803f84373adaba477dc88...       f04851e03e9ab298d5103a03bbe959de2501538df585e0...</span>
<span class="go">9   4a84196a0a0ae0aca9611d612ce1e2153c03644449c44e...       8a394ba22d4eaaf9ff6a2ca8260b024c7e06ebdc1e839c...</span>
<span class="go">10  89f3b96a56971718c5db877bdafcb83c0747bab4e7a682...       9ba3f0fb9d6d363f98b47875451954f4d41853281327dd...</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="pymasq.mitigations.individual_ranking_magg">
<code class="sig-prename descclassname">pymasq.mitigations.</code><code class="sig-name descname">individual_ranking_magg</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">aggr</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">2</span></em>, <em class="sig-param"><span class="n">rank_method</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'first'</span></em>, <em class="sig-param"><span class="n">measure</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>str<span class="p">, </span>Callable<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">'mean'</span></em>, <em class="sig-param"><span class="n">measure_kwargs</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">[</span>Any<span class="p">, </span>Any<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>List<span class="p">, </span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">keep_dtypes</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">, </span>pandas.core.series.Series<span class="p">]</span><a class="headerlink" href="#pymasq.mitigations.individual_ranking_magg" title="Permalink to this definition"></a></dt>
<dd><p>Perform microaggregation based on individual ranking of the data.</p>
<p>This method preserves univariate statistics best, but significantly alters multivariate statistics.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em>) – The data to be modified.</p></li>
<li><p><strong>aggr</strong> (<em>int</em><em> (</em><em>Default: 2</em><em>)</em>) – Aggregation level. Must be an integer greater than 0.</p></li>
<li><p><strong>rank_method</strong> (<em>{'average'</em><em>, </em><em>'min'</em><em>, </em><em>'max'</em><em>, </em><em>'first'</em><em>, </em><em>'dense'}</em><em>, </em><em>Optional</em>) – <p>How to rank the group of records that have the same value (i.e. ties):</p>
<blockquote>
<div><ul>
<li><p>average: average rank of the group</p></li>
<li><p>min: lowest rank in the group</p></li>
<li><p>max: highest rank in the group</p></li>
<li><p>first: ranks assigned in order they appear in the array</p></li>
<li><p>dense: like ‘min’, but rank always increases by 1 between groups.</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>measure</strong> (<em>{&quot;min&quot;</em><em>, </em><em>&quot;mean&quot;</em><em>, </em><em>&quot;max&quot;</em><em>, </em><em>&quot;median&quot;}</em><em> or </em><em>Callable</em><em> (</em><em>Default: &quot;mean&quot;</em><em>)</em>) – Aggregation statistic. A Callable, such as <cite>scipy.stats.trim_mean</cite> or <cite>np.mean</cite>,
can be passed for additional functionality. Refer to <a href="#id114"><span class="problematic" id="id48">[1]_</span></a> for a complete list of allowed values.</p></li>
<li><p><strong>measure_kwargs</strong> (<em>dict</em>) – Keyword arguments to be passed into the <cite>measure</cite> function.</p></li>
<li><p><strong>cols</strong> (<em>str</em><em> or </em><em>list</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
<li><p><strong>keep_dtypes</strong> (<em>bool</em><em> (</em><em>Default: True</em><em>)</em>) – Determine whether the data types of the output values should be the same as the
data types of the input values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A DataFrame with microaggregated values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random_integers</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">)))</span>
<span class="go">   0    1   2</span>
<span class="go">0  8    57  50</span>
<span class="go">1  56   44  27</span>
<span class="go">2  99   25  47</span>
<span class="go">3  18   21  1</span>
<span class="go">4  9    28  71</span>
<span class="go">5  42   69  14</span>
<span class="go">6  62   24  8</span>
<span class="go">7  100  44  26</span>
<span class="go">8  72   98  94</span>
<span class="go">9  87   40  51</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">individual_ranking_magg</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">aggr</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">rank_method</span><span class="o">=</span><span class="s2">&quot;first&quot;</span><span class="p">,</span> <span class="n">measure</span><span class="o">=</span><span class="s2">&quot;mean&quot;</span><span class="p">,</span> <span class="n">keep_dtypes</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">   0     1     2</span>
<span class="go">0  8.5   50.5  50.5</span>
<span class="go">1  59.0  42.0  37.0</span>
<span class="go">2  99.5  26.5  37.0</span>
<span class="go">3  30.0  22.5  4.5</span>
<span class="go">4  8.5   26.5  82.5</span>
<span class="go">5  30.0  83.5  20.0</span>
<span class="go">6  59.0  22.5  4.5</span>
<span class="go">7  99.5  50.5  20.0</span>
<span class="go">8  79.5  83.5  82.5</span>
<span class="go">9  79.5  42.0  50.5</span>
</pre></div>
</div>
<p class="rubric">References</p>
<p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.core.groupby.DataFrameGroupBy.aggregate.html">https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.core.groupby.DataFrameGroupBy.aggregate.html</a></p>
</dd></dl>

<dl class="py function">
<dt id="pymasq.mitigations.local_supp">
<code class="sig-prename descclassname">pymasq.mitigations.</code><code class="sig-name descname">local_supp</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">, </span>pandas.core.series.Series<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">suppress_col</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>str<span class="p">, </span>int<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">sensitive_col</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>str<span class="p">, </span>int<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">to_val</span><span class="p">:</span> <span class="n">Any</span></em>, <em class="sig-param"><span class="n">method</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'approx'</span></em>, <em class="sig-param"><span class="n">risk_threshold</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.15</span></em>, <em class="sig-param"><span class="n">max_unique</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">20</span></em>, <em class="sig-param"><span class="n">weights</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>List<span class="p">[</span>Union<span class="p">[</span>int<span class="p">, </span>float<span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">qual</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>int<span class="p">, </span>float<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">1</span></em>, <em class="sig-param"><span class="n">keep_dtypes</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pymasq.mitigations.local_supp" title="Permalink to this definition"></a></dt>
<dd><p>Suppress values to achieve k-anonymity.</p>
<p>This function suppresses values in the given column where the record or row
poses a risk over the threshold.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em><em>, </em><em>Series</em><em>, or </em><em>array_like</em>) – The data to be modified.</p></li>
<li><p><strong>suppress_col</strong> (<em>str</em><em> or </em><em>int</em>) – Column that will be modified to obfuscate it relationship with <cite>sensitive_col</cite>.</p></li>
<li><p><strong>sensitive_col</strong> (<em>str</em><em> or </em><em>int</em>) – Column whose relationship to other columns needs to be obfuscated.</p></li>
<li><p><strong>to_val</strong> (<em>Any</em>) – Value with which to replace suppressed values.</p></li>
<li><p><strong>method</strong> (<em>{'approx'</em><em>, </em><em>'exact'}</em><em> (</em><em>Default: 'approx'</em><em>)</em>) – Precision for calculating the individual risk of each value.</p></li>
<li><p><strong>risk_threshold</strong> (<em>float</em><em> [</em><em>0</em><em>, </em><em>1</em><em>]</em><em>, </em><em>optional</em><em> (</em><em>Default: 0.15</em><em>)</em>) – Threshold for to determine which values of <cite>suppress_col</cite> will be suppressed.</p></li>
<li><p><strong>max_unique</strong> (<em>int</em><em>, </em><em>optional</em><em> (</em><em>Default: 20</em><em>)</em>) – Maximum number of unique values allowed per column. Large number of unique values
may become computationally expensive for calculating individual risk.</p></li>
<li><p><strong>weights</strong> (<em>list</em><em>, </em><em>optional</em><em> (</em><em>Default: None</em><em>)</em>) – Proportion of rows with the same combination of values in <cite>data</cite> for
each row in <cite>data</cite>, only to be used if <cite>data</cite> is a sample/subset of a larger dataset.
If None, <cite>weights</cite> will be a unit vector indicating that <cite>data</cite> is the full population.</p></li>
<li><p><strong>qual</strong> (<em>float</em><em> (</em><em>0</em><em>, </em><em>1</em><em>]</em><em>, </em><em>optional</em><em> (</em><em>Default: 1</em><em>)</em>) – Perceived quality of frequency counts to act as a final correction factor.</p></li>
<li><p><strong>keep_dtypes</strong> (<em>bool</em><em> (</em><em>Default: True</em><em>)</em>) – Determine whether the data types of the output values should be the same as the
data types of the input values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A DataFrame with suppressed values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>InputError:</strong> – Raised when invalid arguments are passed.</p></li>
<li><p><a class="reference internal" href="pymasq.errors.html#pymasq.errors.NotInRangeError" title="pymasq.errors.NotInRangeError"><strong>NotInRangeError</strong></a> – Raised if <cite>risk_threshold</cite> is outside the interval [0, 1].</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pymasq</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">load_census</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;relationship&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   workclass         education  race   sex</span>
<span class="go">0  State-gov         Bachelors  White  Male</span>
<span class="go">1  Self-emp-not-inc  Bachelors  White  Male</span>
<span class="go">2  Private           HS-grad    White  Male</span>
<span class="go">3  Private           11th       Black  Male</span>
<span class="go">4  Private           Bachelors  Black  Female</span>
<span class="go">5  Private           Masters    White  Female</span>
<span class="go">6  Private           9th        Black  Female</span>
<span class="go">7  Self-emp-not-inc  HS-grad    White  Male</span>
<span class="go">8  Private           Masters    White  Female</span>
<span class="go">9  Private           Bachelors  White  Male</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">local_supp</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">suppress_col</span><span class="o">=</span><span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="n">sensitive_col</span><span class="o">=</span><span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="n">to_val</span><span class="o">=</span><span class="s1">&#39;NA&#39;</span><span class="p">,</span> <span class="n">risk_threshold</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">])</span>
<span class="go">   workclass         education  race</span>
<span class="go">0  State-gov         NA         White</span>
<span class="go">1  Self-emp-not-inc  NA         White</span>
<span class="go">2  Private           NA         White</span>
<span class="go">3  Private           NA         Black</span>
<span class="go">4  Private           Bachelors  Black</span>
<span class="go">5  Private           Masters    White</span>
<span class="go">6  Private           NA         Black</span>
<span class="go">7  Self-emp-not-inc  NA         White</span>
<span class="go">8  Private           Masters    White</span>
<span class="go">9  Private           Bachelors  White</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">local_supp</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">suppress_col</span><span class="o">=</span><span class="s2">&quot;education&quot;</span><span class="p">,</span> <span class="n">sensitive_col</span><span class="o">=</span><span class="s2">&quot;race&quot;</span><span class="p">,</span> <span class="n">to_val</span><span class="o">=</span><span class="s1">&#39;NA&#39;</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;exact&#39;</span><span class="p">,</span> <span class="n">risk_threshold</span><span class="o">=</span><span class="mf">0.6</span><span class="p">)</span>
<span class="go">   workclass         education  race   sex</span>
<span class="go">0  State-gov         NA         White  Male</span>
<span class="go">1  Self-emp-not-inc  NA         White  Male</span>
<span class="go">2  Private           NA         White  Male</span>
<span class="go">3  Private           NA         Black  Male</span>
<span class="go">4  Private           NA         Black  Female</span>
<span class="go">5  Private           Masters    White  Female</span>
<span class="go">6  Private           NA         Black  Female</span>
<span class="go">7  Self-emp-not-inc  NA         White  Male</span>
<span class="go">8  Private           Masters    White  Female</span>
<span class="go">9  Private           NA         White  Male</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="pymasq.mitigations.microaggregation">
<code class="sig-prename descclassname">pymasq.mitigations.</code><code class="sig-name descname">microaggregation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">, </span>pandas.core.series.Series<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">method</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#pymasq.mitigations.microaggregation" title="Permalink to this definition"></a></dt>
<dd><p>Perform data microaggregation.</p>
<p>Wrapper function for <cite>quantile_magg</cite>, <cite>sequential_magg</cite>, <cite>ranking_magg</cite>, and <cite>robust_magg</cite>.</p>
<p>Records are grouped based on a proximity measure of variables of interest, and the same small
groups of records are used in calculating aggregates for those variables. The aggregates are
released instead of the individual record values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em><em>, </em><em>Series</em><em>, or </em><em>array_like</em>) – The data to be modified.</p></li>
<li><p><strong>method</strong> (<em>{'quantile'</em><em>, </em><em>'sequential'</em><em>, </em><em>'ranking'</em><em>, </em><em>'robust'}</em>) – The microaggregation method to perform.</p></li>
<li><p><strong>cols</strong> (<em>str</em><em> or </em><em>list</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
<li><p><strong>**kwargs</strong> – <p>Additional keyword arguments to be passed to <cite>quantile_magg</cite>, <cite>sequential_magg</cite>, <cite>ranking_magg</cite>, <cite>robust_magg</cite>, or <cite>advanced_magg</cite>.</p>
<ul>
<li><dl class="simple">
<dt>aggr<span class="classifier">int (Default: 2)</span></dt><dd><p>Aggregation level.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>keep_dtypes<span class="classifier">bool (Default: True)</span></dt><dd><p>Determine whether the data types of the output values should be the same as the
data types of the input values.</p>
</dd>
</dl>
</li>
</ul>
<dl>
<dt>if <cite>method</cite> is <cite>quantile</cite>:</dt><dd><ul>
<li><dl class="simple">
<dt>drop_duplicates<span class="classifier">bool (Default: True)</span></dt><dd><p>Drop duplicates when creating quantile bins. This may result in a fewer number of
bins, however, not dropping duplicates will result in a <cite>ValueError</cite> since the
bin edges will not be unique.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>measure<span class="classifier">{“min”, “mean”, “max”, “median”} or Callable (Default: “mean”)</span></dt><dd><p>Aggregation statistic. A Callable, such as <cite>scipy.stats.trim_mean</cite> or <cite>np.mean</cite>,
can be passed for additional functionality.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>measure_kwargs<span class="classifier">dict</span></dt><dd><p>Keyword arguments to be passed into the <cite>measure</cite> function.</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt>if <cite>method</cite> is <cite>sequential</cite>:</dt><dd><ul>
<li><dl class="simple">
<dt>sort_all<span class="classifier">bool (Default: False)</span></dt><dd><p>Aggregate after sorting each column. Cannot be used with <cite>sort_by</cite>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>sort_by<span class="classifier">string, Optional</span></dt><dd><p>Aggregate after sorting by a single column. Cannot be used with <cite>sort_all</cite>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>measure<span class="classifier">{“min”, “mean”, “max”, “median”} or Callable (Default: “mean”)</span></dt><dd><p>Aggregation statistic. A Callable, such as <cite>scipy.stats.trim_mean</cite> or <cite>np.mean</cite>,
can be passed for additional functionality.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>measure_kwargs<span class="classifier">dict</span></dt><dd><p>Keyword arguments to be passed into the <cite>measure</cite> function.</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt>if “method” is “ranking”:</dt><dd><ul>
<li><dl>
<dt>rank_method<span class="classifier">{‘average’, ‘min’, ‘max’, ‘first’, ‘dense’}, Optional</span></dt><dd><p>How to rank the group of records that have the same value (i.e. ties):</p>
<blockquote>
<div><ul class="simple">
<li><p>average: average rank of the group</p></li>
<li><p>min: lowest rank in the group</p></li>
<li><p>max: highest rank in the group</p></li>
<li><p>first: ranks assigned in order they appear in the array</p></li>
<li><p>dense: like ‘min’, but rank always increases by 1 between groups.</p></li>
</ul>
</div></blockquote>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>measure<span class="classifier">{“min”, “mean”, “max”, “median”} or Callable (Default: “mean”)</span></dt><dd><p>Aggregation statistic. A Callable, such as <cite>scipy.stats.trim_mean</cite> or <cite>np.mean</cite>,
can be passed for additional functionality.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>measure_kwargs<span class="classifier">dict</span></dt><dd><p>Keyword arguments to be passed into the <cite>measure</cite> function.</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt>if <cite>method</cite> is “robust”:</dt><dd><ul>
<li><dl class="simple">
<dt>seed<span class="classifier">int (Default: 1)</span></dt><dd><p>Random seed to use to fit a Minimum Covariance Determinant (MCD) estimator model.</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt>if <cite>method</cite> is “advanced”:</dt><dd><ul>
<li><dl class="simple">
<dt>clust<span class="classifier">{“birch, “dbscan”, “kmeans”, “optics”} or Callable, Optional (Default: None)</span></dt><dd><p>Clustering method to use. The allowed options will use the <cite>sklearn.clustering</cite> methods of the same name.
Any other <cite>Callable</cite> that adheres to the <cite>sklearn.clustering</cite> API, such as <cite>sklearn.cluster.SpectralClustering</cite>,
can also be passed for additional functionality. Note that <cite>clust</cite> must be specified if <cite>reduct</cite> is not.
Refer to <a href="#id115"><span class="problematic" id="id49">[1]_</span></a> for more information on the clustering methods being used.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>clust_kwargs<span class="classifier">dict, Optional</span></dt><dd><p>Keyword arguments to past into the <cite>clust</cite> function.
Refer to <a href="#id116"><span class="problematic" id="id50">[1]_</span></a> for arguments that can be passed.</p>
</dd>
</dl>
</li>
<li><dl>
<dt>scale<span class="classifier">{“standard”, “mcd”, “robust”} or Callable, Optional (Default: None)</span></dt><dd><dl class="simple">
<dt>Scaling method to use. Scaling aims to standarize, or transform, the data by centering to a specfic location (e.g., a cluster or 0).</dt><dd><ul class="simple">
<li><dl class="simple">
<dt>if <cite>scale</cite> is “standard”:</dt><dd><p>The data will be centered to the mean and scaled to unit variance. Refer to <a href="#id117"><span class="problematic" id="id51">[2]_</span></a> for more information.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>if <cite>scale</cite> is “mcd”:</dt><dd><p>The data will be centered around the location of the robust MCD estimator. Refer to <a href="#id118"><span class="problematic" id="id52">[3]_</span></a> for more information.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>if <cite>scale</cite> is “robust”:</dt><dd><p>The data will be centered around decomposition of the input data. Refer to <a href="#id119"><span class="problematic" id="id53">[4]_</span></a> for more information.
Note that this method required the <cite>tensorly</cite> Python library to be installed, which is not installed by default when installing <cite>pymasq</cite>.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
<p>Note that scaling will only occur if <cite>reduct</cite> is passed.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>scale_kwargs<span class="classifier">dict, Optional</span></dt><dd><p>Keyword arguments to past into the <cite>scale</cite> function.
Refer to <a href="#id120"><span class="problematic" id="id54">[2]_</span></a>, <a href="#id121"><span class="problematic" id="id55">[3]_</span></a>, and <a href="#id122"><span class="problematic" id="id56">[4]_</span></a> for allowed arguments that can be passed to “standard”, “mcd”, and “robust” methods, repsectively.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>reduct<span class="classifier">{“pca”, “ipca”, “kpca”, “fica”} or Callable, Optional (Default: None)</span></dt><dd><p>Dimensionality reduction (<cite>reduct</cite>) method to use. The allowed options are references to the
<cite>sklearn.decomposiition</cite> methods of dimensionality reduction methods of similar name: <cite>PCA</cite> (“pca”),
<cite>IncrementalPCA</cite> (“ipca”), KernelPCA (“kpca”), and FastICA (“fica”). Any other <cite>Callabl</cite> that adheres to the
<cite>sklearn.decopmosition</cite> API, such as <cite>sklearn.decomposition.SparsePCA</cite>, can be passed for additional functionality.
Note that <cite>reduct</cite> must be specified if <cite>clust</cite> is not.
Refer to <a href="#id123"><span class="problematic" id="id57">[5]_</span></a> for more information on the dimensionality reduction methods being used.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>reduct_kwargs<span class="classifier">dict, Optional</span></dt><dd><p>Keyword arguments to pass into the <cite>reduct</cite> function.
Refer to <a href="#id124"><span class="problematic" id="id58">[5]_</span></a> for arguments that can be passed.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>measure<span class="classifier">{“min”, “mean”, “max”, “median”} or Callable (Default: “mean”)</span></dt><dd><p>Aggregation statistic. A Callable, such as <cite>scipy.stats.trim_mean</cite> or <cite>np.mean</cite>,
can be passed for additional functionality. Refer to <a href="#id125"><span class="problematic" id="id59">[6]_</span></a> for a complete list of allowed values.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>measure_kwargs<span class="classifier">dict, Optional</span></dt><dd><p>Keyword arguments to be passed into the <cite>measure</cite> function.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A DataFrame with microaggregated values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random_integers</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">)))</span>
<span class="go">   0    1   2</span>
<span class="go">0  8    57  50</span>
<span class="go">1  56   44  27</span>
<span class="go">2  99   25  47</span>
<span class="go">3  18   21  1</span>
<span class="go">4  9    28  71</span>
<span class="go">5  42   69  14</span>
<span class="go">6  62   24  8</span>
<span class="go">7  100  44  26</span>
<span class="go">8  72   98  94</span>
<span class="go">9  87   40  51</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">microaggregation</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;quantile&quot;</span><span class="p">,</span> <span class="n">aggr</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">measure</span><span class="o">=</span><span class="s2">&quot;mean&quot;</span><span class="p">)</span>
<span class="go">   0   1   2</span>
<span class="go">0  8   57  50</span>
<span class="go">1  59  42  37</span>
<span class="go">2  99  26  37</span>
<span class="go">3  30  22  4</span>
<span class="go">4  8   26  82</span>
<span class="go">5  30  83  20</span>
<span class="go">6  59  22  4</span>
<span class="go">7  99  42  20</span>
<span class="go">8  79  83  82</span>
<span class="go">9  79  42  50</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">microaggregation</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;sequential&quot;</span><span class="p">,</span> <span class="n">aggr</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">measure</span><span class="o">=</span><span class="s2">&quot;min&quot;</span><span class="p">,</span> <span class="n">sort_all</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">   0    1   2</span>
<span class="go">0  8    44  50</span>
<span class="go">1  42   28  26</span>
<span class="go">2  72   21  26</span>
<span class="go">3  8    21  1</span>
<span class="go">4  8    28  50</span>
<span class="go">5  42   44  1</span>
<span class="go">6  42   21  1</span>
<span class="go">7  100  44  26</span>
<span class="go">8  72   98  94</span>
<span class="go">9  72   28  50</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">microaggregation</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;ranking&quot;</span><span class="p">,</span> <span class="n">aggr</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">rank_method</span><span class="o">=</span><span class="s2">&quot;first&quot;</span><span class="p">,</span> <span class="n">measure</span><span class="o">=</span><span class="s2">&quot;mean&quot;</span><span class="p">,</span> <span class="n">keep_dtypes</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">   0     1     2</span>
<span class="go">0  8.5   50.5  50.5</span>
<span class="go">1  59.0  42.0  37.0</span>
<span class="go">2  99.5  26.5  37.0</span>
<span class="go">3  30.0  22.5  4.5</span>
<span class="go">4  8.5   26.5  82.5</span>
<span class="go">5  30.0  83.5  20.0</span>
<span class="go">6  59.0  22.5  4.5</span>
<span class="go">7  99.5  50.5  20.0</span>
<span class="go">8  79.5  83.5  82.5</span>
<span class="go">9  79.5  42.0  50.5</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">microaggregation</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;robust&quot;</span><span class="p">,</span> <span class="n">aggr</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="go">   0   1   2</span>
<span class="go">0  55  65  65</span>
<span class="go">1  45  29  11</span>
<span class="go">2  62  41  39</span>
<span class="go">3  45  29  11</span>
<span class="go">4  62  41  39</span>
<span class="go">5  62  41  39</span>
<span class="go">6  45  29  11</span>
<span class="go">7  62  41  39</span>
<span class="go">8  55  65  65</span>
<span class="go">9  55  65  65</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">microaggregation</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;advanced&quot;</span><span class="p">,</span> <span class="n">aggr</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">clust</span><span class="o">=</span><span class="s2">&quot;optics&quot;</span><span class="p">)</span>
<span class="go">   0   1    2</span>
<span class="go">0  54  42  41</span>
<span class="go">1  54  42  41</span>
<span class="go">2  54  42  41</span>
<span class="go">3  23  39  28</span>
<span class="go">4  23  39  28</span>
<span class="go">5  23  39  28</span>
<span class="go">6  78  55  42</span>
<span class="go">7  78  55  42</span>
<span class="go">8  78  55  42</span>
<span class="go">9  87  40  51</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#pymasq.mitigations.quantile_magg" title="pymasq.mitigations.quantile_magg"><code class="xref py py-func docutils literal notranslate"><span class="pre">pymasq.mitigations.quantile_magg()</span></code></a></dt><dd><p>Perform microaggregation based on quantiled binning of the data.</p>
</dd>
<dt><a class="reference internal" href="#pymasq.mitigations.sequential_magg" title="pymasq.mitigations.sequential_magg"><code class="xref py py-func docutils literal notranslate"><span class="pre">pymasq.mitigations.sequential_magg()</span></code></a></dt><dd><p>Perform microaggregation based on sequential binning of the data.</p>
</dd>
<dt><code class="xref py py-func docutils literal notranslate"><span class="pre">pymasq.mitigations.ranking_magg()</span></code></dt><dd><p>Perform microaggregation based on individual ranking of the data.</p>
</dd>
<dt><a class="reference internal" href="#pymasq.mitigations.robust_magg" title="pymasq.mitigations.robust_magg"><code class="xref py py-func docutils literal notranslate"><span class="pre">pymasq.mitigations.robust_magg()</span></code></a></dt><dd><p>Perform microaggregation based on multivariate distances of the data.</p>
</dd>
<dt><a class="reference internal" href="#pymasq.mitigations.advanced_magg" title="pymasq.mitigations.advanced_magg"><code class="xref py py-func docutils literal notranslate"><span class="pre">pymasq.mitigations.advanced_magg()</span></code></a></dt><dd><p>Perform microaggregation based on clustering and/or dimensionality reduction of the data.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt id="pymasq.mitigations.pram">
<code class="sig-prename descclassname">pymasq.mitigations.</code><code class="sig-name descname">pram</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">, </span>pandas.core.series.Series<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">perturb_cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>List<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">sensitive_col</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">probs</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>float<span class="p">, </span>int<span class="p">, </span>Dict<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">0.8</span></em>, <em class="sig-param"><span class="n">alpha</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>float<span class="p">, </span>int<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">0.5</span></em>, <em class="sig-param"><span class="n">cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>List<span class="p">, </span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">keep_dtypes</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pymasq.mitigations.pram" title="Permalink to this definition"></a></dt>
<dd><p>The algorithm randomly changes the values of variables in selected records (usually the risky ones) according
to an invariant probability transition matrix or a custom-defined transition matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pandas.DataFrame</em>) – The data to be modified.</p></li>
<li><p><strong>perturb_cols</strong> (<em>List</em><em>, </em><em>Optional</em><em> (</em><em>Default: None</em><em>)</em>) – The subset of columns that will be manipulated from <cite>data</cite>. The values of <cite>data[perturb_cols]</cite>
must be categorical, or able to be cast as categorical, and there can be no overlapping columns
with <cite>sensitive_col</cite>. If omitted, all columns of <cite>data</cite> will be perturbed.</p></li>
<li><p><strong>sensitive_col</strong> (<em>str</em><em> (</em><em>Default: None</em><em>)</em>) – Column whos relationship to other columns needs to be obfuscated.
If defined, then only the columns specified in <cite>perturb_cols</cite> will be modified.
There can be no overlapping columns with <cite>perturb_cols</cite>.</p></li>
<li><p><strong>probs</strong> (<em>float</em><em>, </em><em>int</em><em>, </em><em>dict</em><em> (</em><em>Default: 0.8</em><em>)</em>) – Probabilities to use when calculating the transition matrix. If <cite>probs</cite> is a float or int,
then it must be between the interval [0,1] and it will be used as a lower bound probability
that a categorical value will <em>not</em> change. Thus, if <cite>probs</cite> is 1, then there will <em>not</em> be
any change in the categorical values, and if <cite>probs</cite> is 0, then there is a high probability
that a categorical value will change. If <cite>probs</cite> is a dict, then it should contain the
transition probabilities for each column in <cite>perturb_cols</cite>, where the keys specify the
column name and the value will be the transition probabilities specified as a pandas DataFrame
of size (N, N), where N is the number of categories in the column as returned by a single
column or <cite>pandas.Series.cat.categories</cite>. The index and column names of the transition probabilities
must be set to the available categorical values. Note that the horizontal sum of each of the
transition probabilities should be equal to 1.</p></li>
<li><p><strong>alpha</strong> (<em>float</em><em> or </em><em>int</em><em> (</em><em>Default: 0.5</em><em>)</em>) – Perturbation magnitude. This parameter scales the randomly generated transition probabilities.
Must be between the interval [0,1], where 0 indicates <em>no</em> categorical values of <cite>data</cite> will be changed
and 1 indicates a high probability of change in categorical values since the computed transition probabilities not be scaled down.
<cite>alpha</cite> is disregarded if the transition probabilities, <cite>probs</cite>, is provided as a Dict.</p></li>
<li><p><strong>cols</strong> (<em>str</em><em> or </em><em>list</em><em> (</em><em>Default: None</em><em>)</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
<li><p><strong>keep_dtypes</strong> (<em>bool</em><em> (</em><em>Default: True</em><em>)</em>) – Determine whether the data types of the output values should be the same as the
data types of the input values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The DataFrame with PRAMed values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>InputError:</strong> – Raised when invalid arguments are passed.</p></li>
<li><p><a class="reference internal" href="pymasq.errors.html#pymasq.errors.NotInRangeError" title="pymasq.errors.NotInRangeError"><strong>NotInRangeError</strong></a> – Raised if <cite>alpha</cite> or <cite>probs</cite> (if <cite>probs</cite> is passed as an integer or float) are outside the interval [0, 1].</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pymasq</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">load_census</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;relationship&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">          workclass  education   relationship   race     sex</span>
<span class="go">0         State-gov  Bachelors  Not-in-family  White    Male</span>
<span class="go">1  Self-emp-not-inc  Bachelors        Husband  White    Male</span>
<span class="go">2           Private    HS-grad  Not-in-family  White    Male</span>
<span class="go">3           Private       11th        Husband  Black    Male</span>
<span class="go">4           Private  Bachelors           Wife  Black  Female</span>
<span class="go">5           Private    Masters           Wife  White  Female</span>
<span class="go">6           Private        9th  Not-in-family  Black  Female</span>
<span class="go">7  Self-emp-not-inc    HS-grad        Husband  White    Male</span>
<span class="go">8           Private    Masters  Not-in-family  White  Female</span>
<span class="go">9           Private  Bachelors        Husband  White    Male</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pram</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="go">          workclass  education   relationship   race     sex</span>
<span class="go">0         State-gov  Bachelors  Not-in-family  White    Male</span>
<span class="go">1  Self-emp-not-inc  Bachelors        Husband  White  Female</span>
<span class="go">2           Private    HS-grad  Not-in-family  White    Male</span>
<span class="go">3           Private        9th        Husband  Black    Male</span>
<span class="go">4           Private  Bachelors  Not-in-family  White  Female</span>
<span class="go">5           Private    Masters           Wife  White  Female</span>
<span class="go">6           Private        9th  Not-in-family  Black  Female</span>
<span class="go">7  Self-emp-not-inc       11th        Husband  White    Male</span>
<span class="go">8           Private    Masters  Not-in-family  White  Female</span>
<span class="go">9           Private  Bachelors        Husband  Black    Male</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pram</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">perturb_cols</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;workclass&quot;</span><span class="p">])</span>
<span class="go">          workclass  education   relationship   race     sex</span>
<span class="go">0         State-gov  Bachelors  Not-in-family  White    Male</span>
<span class="go">1  Self-emp-not-inc  Bachelors        Husband  White    Male</span>
<span class="go">2  Self-emp-not-inc    HS-grad  Not-in-family  White    Male</span>
<span class="go">3           Private       11th        Husband  Black    Male</span>
<span class="go">4           Private  Bachelors           Wife  Black  Female</span>
<span class="go">5           Private    Masters           Wife  White  Female</span>
<span class="go">6           Private        9th  Not-in-family  Black  Female</span>
<span class="go">7  Self-emp-not-inc    HS-grad        Husband  White    Male</span>
<span class="go">8           Private    Masters  Not-in-family  White  Female</span>
<span class="go">9  Self-emp-not-inc  Bachelors        Husband  White    Male</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pram</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">perturb_cols</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;workclass&quot;</span><span class="p">],</span> <span class="n">sensitive_col</span><span class="o">=</span><span class="s2">&quot;sex&quot;</span><span class="p">)</span>
<span class="go">          workclass  education   relationship   race     sex</span>
<span class="go">0           Private  Bachelors  Not-in-family  White    Male</span>
<span class="go">1  Self-emp-not-inc  Bachelors        Husband  White    Male</span>
<span class="go">2           Private    HS-grad  Not-in-family  White    Male</span>
<span class="go">3           Private       11th        Husband  Black    Male</span>
<span class="go">4           Private  Bachelors           Wife  Black  Female</span>
<span class="go">5           Private    Masters           Wife  White  Female</span>
<span class="go">6           Private        9th  Not-in-family  Black  Female</span>
<span class="go">7  Self-emp-not-inc    HS-grad        Husband  White    Male</span>
<span class="go">8           Private    Masters  Not-in-family  White  Female</span>
<span class="go">9           Private  Bachelors        Husband  White    Male</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pram</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">perturb_cols</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;workclass&quot;</span><span class="p">,</span> <span class="s2">&quot;education&quot;</span><span class="p">,</span><span class="s2">&quot;relationship&quot;</span><span class="p">],</span> <span class="n">sensitive_col</span><span class="o">=</span><span class="s2">&quot;sex&quot;</span><span class="p">,</span> <span class="n">probs</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="go">          workclass  education   relationship   race     sex</span>
<span class="go">0           Private  Bachelors        Husband  White    Male</span>
<span class="go">1           Private       11th        Husband  White    Male</span>
<span class="go">2           Private    HS-grad  Not-in-family  White    Male</span>
<span class="go">3           Private       11th        Husband  Black    Male</span>
<span class="go">4  Self-emp-not-inc    HS-grad           Wife  Black  Female</span>
<span class="go">5           Private    Masters           Wife  White  Female</span>
<span class="go">6           Private    Masters  Not-in-family  Black  Female</span>
<span class="go">7  Self-emp-not-inc  Bachelors        Husband  White    Male</span>
<span class="go">8           Private        9th  Not-in-family  White  Female</span>
<span class="go">9           Private  Bachelors        Husband  White    Male</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pram</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">sensitive_col</span><span class="o">=</span><span class="s2">&quot;sex&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>
<span class="go">          workclass  education   relationship   race     sex</span>
<span class="go">0         State-gov       11th  Not-in-family  White    Male</span>
<span class="go">1  Self-emp-not-inc  Bachelors           Wife  White    Male</span>
<span class="go">2           Private    HS-grad  Not-in-family  White    Male</span>
<span class="go">3           Private       11th        Husband  Black    Male</span>
<span class="go">4           Private  Bachelors        Husband  Black  Female</span>
<span class="go">5           Private        9th           Wife  White  Female</span>
<span class="go">6           Private        9th  Not-in-family  Black  Female</span>
<span class="go">7  Self-emp-not-inc    HS-grad        Husband  Black    Male</span>
<span class="go">8           Private    Masters  Not-in-family  White  Female</span>
<span class="go">9  Self-emp-not-inc  Bachelors        Husband  White    Male</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># define transition probabilities for changing categories in the race column</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">probs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">race</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;White&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s2">&quot;Black&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">},</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;White&quot;</span><span class="p">,</span> <span class="s2">&quot;Black&quot;</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">probs</span>
<span class="go">       White  Black</span>
<span class="go">White    0.5    0.5</span>
<span class="go">Black    0.5    0.5</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pram</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">perturb_cols</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;race&quot;</span><span class="p">],</span> <span class="n">probs</span><span class="o">=</span><span class="n">probs</span><span class="p">,</span> <span class="n">sensitive_col</span><span class="o">=</span><span class="s2">&quot;sex&quot;</span><span class="p">)</span>
<span class="go">          workclass  education   relationship   race     sex</span>
<span class="go">0         State-gov  Bachelors  Not-in-family  Black    Male</span>
<span class="go">1  Self-emp-not-inc  Bachelors        Husband  White    Male</span>
<span class="go">2           Private    HS-grad  Not-in-family  White    Male</span>
<span class="go">3           Private       11th        Husband  Black    Male</span>
<span class="go">4           Private  Bachelors           Wife  Black  Female</span>
<span class="go">5           Private    Masters           Wife  White  Female</span>
<span class="go">6           Private        9th  Not-in-family  White  Female</span>
<span class="go">7  Self-emp-not-inc    HS-grad        Husband  Black    Male</span>
<span class="go">8           Private    Masters  Not-in-family  Black  Female</span>
<span class="go">9           Private  Bachelors        Husband  Black    Male</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="pymasq.mitigations.quantile_magg">
<code class="sig-prename descclassname">pymasq.mitigations.</code><code class="sig-name descname">quantile_magg</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">aggr</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">2</span></em>, <em class="sig-param"><span class="n">drop_duplicates</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">measure</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>str<span class="p">, </span>Callable<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">'mean'</span></em>, <em class="sig-param"><span class="n">measure_kwargs</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">[</span>Any<span class="p">, </span>Any<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>List<span class="p">, </span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">keep_dtypes</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#pymasq.mitigations.quantile_magg" title="Permalink to this definition"></a></dt>
<dd><p>Perform microaggregation based on quantiled binning of the data.</p>
<p>This is a fast and simple (primitive) method of microaggregation, recommended for large datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em>) – The data to be modified.</p></li>
<li><p><strong>aggr</strong> (<em>int</em><em> (</em><em>Default: 2</em><em>)</em>) – Aggregation level. Must be an integer greater than 0.</p></li>
<li><p><strong>drop_duplicates</strong> (<em>bool</em><em> (</em><em>Default: True</em><em>)</em>) – Drop duplicates when creating quantile bins. This may result in a fewer number of
bins, however, not dropping duplicates will result in a <cite>ValueError</cite> since the
bin edges will not be unique.</p></li>
<li><p><strong>measure</strong> (<em>{&quot;min&quot;</em><em>, </em><em>&quot;mean&quot;</em><em>, </em><em>&quot;max&quot;</em><em>, </em><em>&quot;median&quot;}</em><em> or </em><em>Callable</em><em> (</em><em>Default: &quot;mean&quot;</em><em>)</em>) – Aggregation statistic. A Callable, such as <cite>scipy.stats.trim_mean</cite> or <cite>np.mean</cite>,
can be passed for additional functionality. Refer to <a href="#id126"><span class="problematic" id="id60">[1]_</span></a> for a complete list of allowed values.</p></li>
<li><p><strong>measure_kwargs</strong> (<em>dict</em>) – Keyword arguments to be passed into the <cite>measure</cite> function.</p></li>
<li><p><strong>cols</strong> (<em>str</em><em> or </em><em>list</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
<li><p><strong>keep_dtypes</strong> (<em>bool</em><em> (</em><em>Default: True</em><em>)</em>) – Determine whether the data types of the output values should be the same as the
data types of the input values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A DataFrame with microaggregated values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random_integers</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">)))</span>
<span class="go">   0    1   2</span>
<span class="go">0  8    57  50</span>
<span class="go">1  56   44  27</span>
<span class="go">2  99   25  47</span>
<span class="go">3  18   21  1</span>
<span class="go">4  9    28  71</span>
<span class="go">5  42   69  14</span>
<span class="go">6  62   24  8</span>
<span class="go">7  100  44  26</span>
<span class="go">8  72   98  94</span>
<span class="go">9  87   40  51</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">quantile_magg</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">aggr</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">measure</span><span class="o">=</span><span class="s2">&quot;mean&quot;</span><span class="p">)</span>
<span class="go">   0   1   2</span>
<span class="go">0  8   57  50</span>
<span class="go">1  59  42  37</span>
<span class="go">2  99  26  37</span>
<span class="go">3  30  22  4</span>
<span class="go">4  8   26  82</span>
<span class="go">5  30  83  20</span>
<span class="go">6  59  22  4</span>
<span class="go">7  99  42  20</span>
<span class="go">8  79  83  82</span>
<span class="go">9  79  42  50</span>
</pre></div>
</div>
<p class="rubric">References</p>
<p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.core.groupby.DataFrameGroupBy.aggregate.html">https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.core.groupby.DataFrameGroupBy.aggregate.html</a></p>
</dd></dl>

<dl class="py function">
<dt id="pymasq.mitigations.rank_swap">
<code class="sig-prename descclassname">pymasq.mitigations.</code><code class="sig-name descname">rank_swap</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">, </span>pandas.core.series.Series<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">cols</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>str<span class="p">, </span>List<span class="p">[</span>str<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.series.Series<a class="headerlink" href="#pymasq.mitigations.rank_swap" title="Permalink to this definition"></a></dt>
<dd><p>TODO</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em><em>, </em><em>Series</em><em>, or </em><em>array_like</em>) – The data to be modified.</p></li>
<li><p><strong>cols</strong> (<em>str</em><em> or </em><em>list</em><em>, </em><em>Optional</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pymasq.mitigations.robust_magg">
<code class="sig-prename descclassname">pymasq.mitigations.</code><code class="sig-name descname">robust_magg</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">aggr</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">2</span></em>, <em class="sig-param"><span class="n">seed</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">123</span></em>, <em class="sig-param"><span class="n">cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>List<span class="p">, </span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">keep_dtypes</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">, </span>pandas.core.series.Series<span class="p">]</span><a class="headerlink" href="#pymasq.mitigations.robust_magg" title="Permalink to this definition"></a></dt>
<dd><p>Perform microaggregation based on multivariate distances of the data.</p>
<p>Note that this method uses a Minimum Covariance Determinant (MCD) estimator model that
is best suited for normally distributed data. Refer to <a href="#id127"><span class="problematic" id="id61">[1]_</span></a> for more information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em><em> or </em><em>Series</em>) – The data to be modified.</p></li>
<li><p><strong>aggr</strong> (<em>int</em><em> (</em><em>Default: 2</em><em>)</em>) – Aggregation level. Must be an integer greater than 0.</p></li>
<li><p><strong>seed</strong> (<em>int</em><em> (</em><em>Default: 123</em><em>)</em>) – Random seed to use to fit a Minimum Covariance Determinant (MCD) estimator model.</p></li>
<li><p><strong>cols</strong> (<em>str</em><em> or </em><em>list</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
<li><p><strong>keep_dtypes</strong> (<em>bool</em><em> (</em><em>Default: True</em><em>)</em>) – Determine whether the data types of the output values should be the same as the
data types of the input values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A DataFrame with microaggregated values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random_integers</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">)))</span>
<span class="go">   0    1   2</span>
<span class="go">0  8    57  50</span>
<span class="go">1  56   44  27</span>
<span class="go">2  99   25  47</span>
<span class="go">3  18   21  1</span>
<span class="go">4  9    28  71</span>
<span class="go">5  42   69  14</span>
<span class="go">6  62   24  8</span>
<span class="go">7  100  44  26</span>
<span class="go">8  72   98  94</span>
<span class="go">9  87   40  51</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">robust_magg</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">aggr</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="go">   0   1   2</span>
<span class="go">0  55  65  65</span>
<span class="go">1  45  29  11</span>
<span class="go">2  62  41  39</span>
<span class="go">3  45  29  11</span>
<span class="go">4  62  41  39</span>
<span class="go">5  62  41  39</span>
<span class="go">6  45  29  11</span>
<span class="go">7  62  41  39</span>
<span class="go">8  55  65  65</span>
<span class="go">9  55  65  65</span>
</pre></div>
</div>
<p class="rubric">References</p>
<p>[1] <a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.covariance.MinCovDet.html">https://scikit-learn.org/stable/modules/generated/sklearn.covariance.MinCovDet.html</a></p>
</dd></dl>

<dl class="py function">
<dt id="pymasq.mitigations.rounding">
<code class="sig-prename descclassname">pymasq.mitigations.</code><code class="sig-name descname">rounding</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">, </span>pandas.core.series.Series<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">magnitude</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">0</span></em>, <em class="sig-param"><span class="n">round_decimal</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>List<span class="p">, </span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">keep_dtypes</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#pymasq.mitigations.rounding" title="Permalink to this definition"></a></dt>
<dd><p>Round numerical values to the nearest place value.</p>
<p>Round to the nearest whole number or decimal. Values are always rounded up.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em><em>, </em><em>Series</em><em>, or </em><em>array_like</em>) – The data to be modified.</p></li>
<li><p><strong>magnitude</strong> (<em>int</em><em> (</em><em>Default: 0</em><em>)</em>) – The place value to round to.</p></li>
<li><p><strong>round_decimal</strong> (<em>bool</em><em> (</em><em>Default: False</em><em>)</em>) – If <cite>True</cite>, round to the nearest decimal place value. Else, round to nearest whole number.</p></li>
<li><p><strong>cols</strong> (<em>listr</em><em>, </em><em>str</em><em>, or </em><em>int</em><em>, </em><em>Optional</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
<li><p><strong>keep_dtypes</strong> (<em>bool</em><em> (</em><em>Default: True</em><em>)</em>) – Determine whether the data types of the output values should be the same as the
data types of the input values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A DataFrame with rounded values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">)))</span>
<span class="go">   0           1           2</span>
<span class="go">0  790.885012  378.955986  598.524492</span>
<span class="go">1  396.506198  416.688230  801.133469</span>
<span class="go">2  68.949521   487.262995  767.432916</span>
<span class="go">3  708.297028  414.632973  957.846657</span>
<span class="go">4  815.998951  539.653967  144.731417</span>
<span class="go">5  533.075232  281.206489  126.433357</span>
<span class="go">6  38.475080   41.117392   187.707412</span>
<span class="go">7  563.563829  545.063224  170.020492</span>
<span class="go">8  193.475847  216.862268  767.035219</span>
<span class="go">9  327.110469  903.003675  240.985534</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rounding</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">magnitude</span><span class="o">=-</span><span class="mi">2</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="go">   1       2</span>
<span class="go">0  378.96  598.52</span>
<span class="go">1  416.69  801.13</span>
<span class="go">2  487.26  767.43</span>
<span class="go">3  414.63  957.85</span>
<span class="go">4  539.65  144.73</span>
<span class="go">5  281.21  126.43</span>
<span class="go">6  41.12   187.71</span>
<span class="go">7  545.06  170.02</span>
<span class="go">8  216.86  767.04</span>
<span class="go">9  903.00  240.99</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="pymasq.mitigations.sequential_magg">
<code class="sig-prename descclassname">pymasq.mitigations.</code><code class="sig-name descname">sequential_magg</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">aggr</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">2</span></em>, <em class="sig-param"><span class="n">sort_all</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">sort_by</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">measure</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>str<span class="p">, </span>Callable<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">'mean'</span></em>, <em class="sig-param"><span class="n">measure_kwargs</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">[</span>Any<span class="p">, </span>Any<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>List<span class="p">, </span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">keep_dtypes</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">, </span>pandas.core.series.Series<span class="p">]</span><a class="headerlink" href="#pymasq.mitigations.sequential_magg" title="Permalink to this definition"></a></dt>
<dd><p>Perform microaggregation based on sequential binning of the data.</p>
<p>Sorting on a specific variable by specifying <cite>sort_by</cite> is recommended.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em>) – The data to be modified.</p></li>
<li><p><strong>aggr</strong> (<em>int</em><em> (</em><em>Default: 2</em><em>)</em>) – Aggregation level. Must be an integer greater than 0.</p></li>
<li><p><strong>sort_all</strong> (<em>bool</em><em> (</em><em>Default: False</em><em>)</em>) – Aggregate after sorting each column. Cannot be used with <cite>sort_by</cite>.</p></li>
<li><p><strong>sort_by</strong> (<em>string</em><em>, </em><em>Optional</em>) – Aggregate after sorting by a single column. Cannot be used with <cite>sort_all</cite>.</p></li>
<li><p><strong>measure</strong> (<em>{&quot;min&quot;</em><em>, </em><em>&quot;mean&quot;</em><em>, </em><em>&quot;max&quot;</em><em>, </em><em>&quot;median&quot;}</em><em> or </em><em>Callable</em><em> (</em><em>Default: &quot;mean&quot;</em><em>)</em>) – Aggregation statistic. A Callable, such as <cite>scipy.stats.trim_mean</cite> or <cite>np.mean</cite>,
can be passed for additional functionality. Refer to <a href="#id128"><span class="problematic" id="id62">[1]_</span></a> for a complete list of allowed values.</p></li>
<li><p><strong>measure_kwargs</strong> (<em>dict</em>) – Keyword arguments to be passed into the <cite>measure</cite> function.</p></li>
<li><p><strong>cols</strong> (<em>str</em><em> or </em><em>list</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
<li><p><strong>keep_dtypes</strong> (<em>bool</em><em> (</em><em>Default: True</em><em>)</em>) – Determine whether the data types of the output values should be the same as the
data types of the input values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A DataFrame with microaggregated values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random_integers</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">)))</span>
<span class="go">   0    1   2</span>
<span class="go">0  8    57  50</span>
<span class="go">1  56   44  27</span>
<span class="go">2  99   25  47</span>
<span class="go">3  18   21  1</span>
<span class="go">4  9    28  71</span>
<span class="go">5  42   69  14</span>
<span class="go">6  62   24  8</span>
<span class="go">7  100  44  26</span>
<span class="go">8  72   98  94</span>
<span class="go">9  87   40  51</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sequential_magg</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">aggr</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">measure</span><span class="o">=</span><span class="s2">&quot;min&quot;</span><span class="p">,</span> <span class="n">sort_all</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">   0    1   2</span>
<span class="go">0  8    44  50</span>
<span class="go">1  42   28  26</span>
<span class="go">2  72   21  26</span>
<span class="go">3  8    21  1</span>
<span class="go">4  8    28  50</span>
<span class="go">5  42   44  1</span>
<span class="go">6  42   21  1</span>
<span class="go">7  100  44  26</span>
<span class="go">8  72   98  94</span>
<span class="go">9  72   28  50</span>
</pre></div>
</div>
<p class="rubric">References</p>
<p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.core.groupby.DataFrameGroupBy.aggregate.html">https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.core.groupby.DataFrameGroupBy.aggregate.html</a></p>
</dd></dl>

<dl class="py function">
<dt id="pymasq.mitigations.shuffle">
<code class="sig-prename descclassname">pymasq.mitigations.</code><code class="sig-name descname">shuffle</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">shuffle_cols</span><span class="p">:</span> <span class="n">List<span class="p">[</span>Union<span class="p">[</span>int<span class="p">, </span>str<span class="p">]</span><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">cor_cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>List<span class="p">[</span>Union<span class="p">[</span>int<span class="p">, </span>str<span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cor_method</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'spearman'</span></em>, <em class="sig-param"><span class="n">cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>List<span class="p">, </span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">keep_dtypes</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pymasq.mitigations.shuffle" title="Permalink to this definition"></a></dt>
<dd><p>Shuffle numeric columns based on correlation to other columns.</p>
<p>The shuffe technique aim to mix up data and can optionally retain
logical relationships between columns. It randomly shuffles data from
a dataset within an attribute (e.g. a column in a pure flat format) or
a set of attributes (e.g. a set of columns). You can shuffle sensitive
information to replace it with other values for the same attribute from
a different record.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em><em> or </em><em>array_like</em>) – The dataframe of numeric columns to be modified.</p></li>
<li><p><strong>shuffle_cols</strong> (<em>List of str</em><em> or </em><em>ints</em>) – The subset of columns that will be shuffled from <cite>data</cite>. The values of <cite>data[shuffle_cols]</cite>
must be numeric and there can be no overlapping columns with <cite>cor_cols</cite>.</p></li>
<li><p><strong>cor_cols</strong> (<em>List of str</em><em> or </em><em>ints</em><em>, </em><em>Optional</em><em> (</em><em>Default: None</em><em>)</em>) – The subset of columns used to calculate correlation with <cite>shuffle_cols</cite>. If not set, then all columns
of <cite>data</cite> not specified in <cite>shuffle_cols</cite> will be used. There can be no overlapping columns with <cite>shuffle_cols</cite>.</p></li>
<li><p><strong>cor_method</strong> (<em>{'spearman'</em><em>, </em><em>'pearson'</em><em>, </em><em>'kendall'}</em><em>, </em><em>Optional</em><em> (</em><em>Default: 'spearman'</em><em>)</em>) – Method used to generate covariance</p></li>
<li><p><strong>cols</strong> (<em>str</em><em> or </em><em>list</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
<li><p><strong>keep_dtypes</strong> (<em>bool</em><em> (</em><em>Default: True</em><em>)</em>) – Determine whether the data types of the output values should be the same as the
data types of the input values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The shuffled DataFrame for the specified column(s).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pymasq</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">load_loan</span><span class="p">()</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;ApplicantIncome&#39;</span><span class="p">,</span> <span class="s1">&#39;LoanAmount&#39;</span><span class="p">,</span> <span class="s1">&#39;Married&#39;</span><span class="p">,</span> <span class="s1">&#39;Education&#39;</span><span class="p">,</span> <span class="s1">&#39;Loan_Status&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">    ApplicantIncome  LoanAmount  Married  Education     Loan_Status</span>
<span class="go">0   4583             128.0       Yes      Graduate      N</span>
<span class="go">1   3000             66.0        Yes      Graduate      Y</span>
<span class="go">2   2583             120.0       Yes      Not Graduate  Y</span>
<span class="go">3   6000             141.0       No       Graduate      Y</span>
<span class="go">4   5417             267.0       Yes      Graduate      Y</span>
<span class="go">5   2333             95.0        Yes      Not Graduate  Y</span>
<span class="go">6   3036             158.0       Yes      Graduate      N</span>
<span class="go">7   4006             168.0       Yes      Graduate      Y</span>
<span class="go">8   12841            349.0       Yes      Graduate      N</span>
<span class="go">9   3200             70.0        Yes      Graduate      Y</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">shuffle</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">shuffle_cols</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;ApplicantIncome&quot;</span><span class="p">])</span>
<span class="go">    ApplicantIncome  LoanAmount  Married  Education     Loan_Status</span>
<span class="go">0   4583             128.0       Yes      Graduate      N</span>
<span class="go">1   3000             66.0        Yes      Graduate      Y</span>
<span class="go">2   2583             120.0       Yes      Not Graduate  Y</span>
<span class="go">3   4006             141.0       No       Graduate      Y</span>
<span class="go">4   5417             267.0       Yes      Graduate      Y</span>
<span class="go">5   2333             95.0        Yes      Not Graduate  Y</span>
<span class="go">6   6000             158.0       Yes      Graduate      N</span>
<span class="go">7   3200             168.0       Yes      Graduate      Y</span>
<span class="go">8   12841            349.0       Yes      Graduate      N</span>
<span class="go">9   3036             70.0        Yes      Graduate      Y</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">shuffle</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">shuffle_cols</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;ApplicantIncome&quot;</span><span class="p">,</span> <span class="s2">&quot;LoanAmount&quot;</span><span class="p">],</span> <span class="n">cor_cols</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Education&quot;</span><span class="p">,</span> <span class="s2">&quot;Loan_Status&quot;</span><span class="p">])</span>
<span class="go">    ApplicantIncome  LoanAmount  Married  Education     Loan_Status</span>
<span class="go">0   4006             70.0        Yes      Graduate      N</span>
<span class="go">1   5417             158.0       Yes      Graduate      Y</span>
<span class="go">2   2333             66.0        Yes      Not Graduate  Y</span>
<span class="go">3   6000             128.0       No       Graduate      Y</span>
<span class="go">4   3200             141.0       Yes      Graduate      Y</span>
<span class="go">5   2583             349.0       Yes      Not Graduate  Y</span>
<span class="go">6   3000             120.0       Yes      Graduate      N</span>
<span class="go">7   3036             95.0        Yes      Graduate      Y</span>
<span class="go">8   12841            267.0       Yes      Graduate      N</span>
<span class="go">9   4583             168.0       Yes      Graduate      Y</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="pymasq.mitigations.substitute">
<code class="sig-prename descclassname">pymasq.mitigations.</code><code class="sig-name descname">substitute</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">, </span>pandas.core.series.Series<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">from_val</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>str<span class="p">, </span>float<span class="p">, </span>int<span class="p">, </span>List<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">to_val</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>str<span class="p">, </span>float<span class="p">, </span>int<span class="p">, </span>List<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">check_substr</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">replace_all</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">ignore_case</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>str<span class="p">, </span>List<span class="p">[</span>str<span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#pymasq.mitigations.substitute" title="Permalink to this definition"></a></dt>
<dd><p>Substitute, or replace, a specific value with another.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em><em>, </em><em>Series</em><em>, or </em><em>array_like</em>) – The data to be modified.</p></li>
<li><p><strong>from_val</strong> (<em>str</em><em>, </em><em>numeric</em><em>, or </em><em>list</em>) – <p>The value to search for and replace.</p>
<ul>
<li><dl class="simple">
<dt>str, numeric:</dt><dd><p>If <cite>from_val</cite> is a string or numeric value, then <cite>to_val</cite> must be a single string or numeric value, or a list of unit length.
If “*” passed, then all values will be replaced.
If a regular expression string is passed, refer to <a href="#id129"><span class="problematic" id="id63">[1]_</span></a>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>list:</dt><dd><p>If <cite>from_val</cite> is a list, then <cite>to_val</cite> must be a single string or numeric value, or a list of unit or equal length.</p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>to_val</strong> (<em>str</em><em>, </em><em>numeric</em><em>, or </em><em>list</em>) – <p>The value to replace <cite>from_val</cite> with.</p>
<ul>
<li><dl class="simple">
<dt>str, numeric:</dt><dd><p>If <cite>to_val</cite> is a string or numeric value, then <cite>from_val</cite> must be a single string or numeric value, or a list of unit length.
If a regular expression string is passed, refer to <a href="#id130"><span class="problematic" id="id64">[1]_</span></a>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>list:</dt><dd><p>if <cite>to_val</cite> is a list, then <cite>from_val</cite> must be a single string or numeric value, or a list of unit or equal length.</p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>check_substr</strong> (<em>bool</em><em>, </em><em>optional</em><em> (</em><em>Default: False</em><em>)</em>) – Check if a string value contains <cite>from_val</cite> as a substring.
This will be ignored if <cite>from_val</cite> and/or <cite>to_val</cite> are lists.</p></li>
<li><p><strong>replace_all</strong> (<em>bool</em><em>, </em><em>optional</em><em> (</em><em>Default: False</em><em>)</em>) – Replace an entire string value with <cite>to_val</cite>. Note that this will always be
True for exact matches (e.g., <cite>check_substr</cite> is False).</p></li>
<li><p><strong>ignore_case</strong> (<em>bool</em><em>, </em><em>optional</em><em> (</em><em>Default: False</em><em>)</em>) – Ignore the case of the string being substituted.</p></li>
<li><p><strong>cols</strong> (<em>str</em><em> or </em><em>list</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
<li><p><strong>**kwargs</strong> (<em>dict</em>) – Additional arguments to pass to <a href="#id131"><span class="problematic" id="id65">[1]_</span></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A DataFrame with substituted values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Regular expressions can be passed as <cite>from_val</cite> and <cite>to_val</cite>, in which case the functionality
of <cite>pymasq.mitigations.substitute</cite> will be defered in favor of <cite>pandas.Series.str.replace</cite> <a href="#id132"><span class="problematic" id="id66">[1]_</span></a>.</p>
</div>
<p class="rubric">References</p>
<p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.str.replace.html">https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.str.replace.html</a></p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pymasq</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">load_census</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">    workclass        sex</span>
<span class="go">0  State-gov         Male</span>
<span class="go">1  Self-emp-not-inc  Male</span>
<span class="go">2  Private           Male</span>
<span class="go">3  Private           Male</span>
<span class="go">4  Private           Female</span>
<span class="go">5  Private           Female</span>
<span class="go">6  Private           Female</span>
<span class="go">7  Self-emp-not-inc  Male</span>
<span class="go">8  Private           Female</span>
<span class="go">9  Private           Male</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">substitute</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">from_val</span><span class="o">=</span><span class="s2">&quot;em&quot;</span><span class="p">,</span> <span class="n">to_val</span><span class="o">=</span><span class="s2">&quot;EM&quot;</span><span class="p">)</span> <span class="c1"># no match</span>
<span class="go">    workclass        sex</span>
<span class="go">0  State-gov         Male</span>
<span class="go">1  Self-emp-not-inc  Male</span>
<span class="go">2  Private           Male</span>
<span class="go">3  Private           Male</span>
<span class="go">4  Private           Female</span>
<span class="go">5  Private           Female</span>
<span class="go">6  Private           Female</span>
<span class="go">7  Self-emp-not-inc  Male</span>
<span class="go">8  Private           Female</span>
<span class="go">9  Private           Male</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">substitute</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">from_val</span><span class="o">=</span><span class="s2">&quot;em&quot;</span><span class="p">,</span> <span class="n">to_val</span><span class="o">=</span><span class="s2">&quot;M&quot;</span><span class="p">,</span> <span class="n">check_substr</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">    workclass        sex</span>
<span class="go">0  State-gov         Male</span>
<span class="go">1  Self-EMp-not-inc  Male</span>
<span class="go">2  Private           Male</span>
<span class="go">3  Private           Male</span>
<span class="go">4  Private           FEMale</span>
<span class="go">5  Private           FEMale</span>
<span class="go">6  Private           FEMale</span>
<span class="go">7  Self-EMp-not-inc  Male</span>
<span class="go">8  Private           FEMale</span>
<span class="go">9  Private           Male</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">substitute</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">from_val</span><span class="o">=</span><span class="s2">&quot;em&quot;</span><span class="p">,</span> <span class="n">to_val</span><span class="o">=</span><span class="s2">&quot;EM&quot;</span><span class="p">,</span> <span class="n">check_substr</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">replace_all</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">    workclass  sex</span>
<span class="go">0  State-gov   Male</span>
<span class="go">1  EM          Male</span>
<span class="go">2  Private     Male</span>
<span class="go">3  Private     Male</span>
<span class="go">4  Private     EM</span>
<span class="go">5  Private     EM</span>
<span class="go">6  Private     EM</span>
<span class="go">7  EM          Male</span>
<span class="go">8  Private     EM</span>
<span class="go">9  Private     Male</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">substitute</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">from_val</span><span class="o">=</span><span class="s2">&quot;ma&quot;</span><span class="p">,</span> <span class="n">to_val</span><span class="o">=</span><span class="s2">&quot;MA&quot;</span><span class="p">,</span> <span class="n">check_substr</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">replace_all</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ignore_case</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">    workclass        sex</span>
<span class="go">0  State-gov         MA</span>
<span class="go">1  Self-emp-not-inc  MA</span>
<span class="go">2  Private           MA</span>
<span class="go">3  Private           MA</span>
<span class="go">4  Private           MA</span>
<span class="go">5  Private           MA</span>
<span class="go">6  Private           MA</span>
<span class="go">7  Self-emp-not-inc  MA</span>
<span class="go">8  Private           MA</span>
<span class="go">9  Private           MA</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="pymasq.mitigations.top_recoding">
<code class="sig-prename descclassname">pymasq.mitigations.</code><code class="sig-name descname">top_recoding</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">, </span>pandas.core.series.Series<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">cutoff</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>int<span class="p">, </span>float<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">to_val</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>int<span class="p">, </span>float<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>List<span class="p">, </span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">keep_dtypes</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#pymasq.mitigations.top_recoding" title="Permalink to this definition"></a></dt>
<dd><p>Recode all values above a maximum threshold to a specific value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em><em>, </em><em>Series</em><em>, or </em><em>array_like</em>) – The data to be modified.</p></li>
<li><p><strong>cols</strong> (<em>listr</em><em>, </em><em>str</em><em>, or </em><em>int</em><em>, </em><em>Optional</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
<li><p><strong>cutoff</strong> (<em>int</em><em> or </em><em>float</em>) – Maximum threshold. All values above this threshold will be replaced with <cite>to_val</cite>.</p></li>
<li><p><strong>to_val</strong> (<em>int</em><em> or </em><em>float</em><em>, </em><em>Optional</em>) – Replacement value to use for elements in <cite>data</cite> above <cite>cutoff</cite>.
If None, then <cite>to_val</cite> will be set to <cite>cutoff</cite>.</p></li>
<li><p><strong>keep_dtypes</strong> (<em>bool</em><em> (</em><em>Default: True</em><em>)</em>) – Determine whether the data types of the output values should be the same as the
data types of the input values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The DataFrame with recoded values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random_integers</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">)))</span>
<span class="go">    0   1    2</span>
<span class="go">0  182  529  949</span>
<span class="go">1  783  375  59</span>
<span class="go">2  253  349  631</span>
<span class="go">3  889  683  996</span>
<span class="go">4  523  554  803</span>
<span class="go">5  279  379  242</span>
<span class="go">6  639  26   833</span>
<span class="go">7  30   307  551</span>
<span class="go">8  681  885  822</span>
<span class="go">9  659  180  823</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">top_recoding</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">cutoff</span><span class="o">=</span><span class="mi">800</span><span class="p">,</span> <span class="n">to_val</span><span class="o">=</span><span class="mi">999</span><span class="p">)</span>
<span class="go">    0   1    2</span>
<span class="go">0  182  529  999</span>
<span class="go">1  783  375  59</span>
<span class="go">2  253  349  631</span>
<span class="go">3  999  683  999</span>
<span class="go">4  523  554  999</span>
<span class="go">5  279  379  242</span>
<span class="go">6  639  26   999</span>
<span class="go">7  30   307  551</span>
<span class="go">8  681  999  999</span>
<span class="go">9  659  180  999</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="pymasq.mitigations.topbot_recoding">
<code class="sig-prename descclassname">pymasq.mitigations.</code><code class="sig-name descname">topbot_recoding</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>pandas.core.series.Series<span class="p">, </span>pandas.core.frame.DataFrame<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">method</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#pymasq.mitigations.topbot_recoding" title="Permalink to this definition"></a></dt>
<dd><p>Recode all values above and/or below a cutoff value to specific values.</p>
<p>Wrapper function for <cite>top_recoding</cite> and <cite>bot_recoding</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em><em>, </em><em>Series</em><em>, or </em><em>array_like</em>) – The data to be modified.</p></li>
<li><p><strong>method</strong> (<em>str {&quot;top&quot;</em><em>,</em><em>&quot;bottom&quot;</em><em>,</em><em>&quot;both&quot;}</em><em> (</em><em>Default: &quot;top&quot;</em><em>)</em>) – The recoding method to perform.</p></li>
<li><p><strong>cols</strong> (<em>str</em><em> or </em><em>list</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
<li><p><strong>**kwargs</strong> – <p>Additional arguments to be passed to <cite>top_recoding</cite> and <cite>bot_recoding</cite>.</p>
<dl class="simple">
<dt>if <cite>method</cite> is “top” or “both”:</dt><dd><ul>
<li><dl class="simple">
<dt>top_cutoff<span class="classifier">int or float</span></dt><dd><p>Maximum threshold. All values above this threshold will be replaced with <cite>top_to</cite>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>top_to<span class="classifier">int or float, Optional</span></dt><dd><p>Replacement value to use for elements in <cite>series</cite> above <cite>top_cutoff</cite>.
If None, then <cite>top_to</cite> will be set to <cite>top_cutoff</cite>.</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt>if <cite>method</cite> is “bottom” or “both”:</dt><dd><ul>
<li><dl class="simple">
<dt>bot_cutoff<span class="classifier">int or float</span></dt><dd><p>Mininum threshold. All values below this threshold will be replaced with <cite>bot_to</cite>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>bot_to<span class="classifier">int or float, Optional</span></dt><dd><p>Replacement value to use for elements in <cite>series</cite> below <cite>bot_cutoff</cite>.
If None, then <cite>bot_to</cite> will be set to <cite>bot_cutoff</cite>.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A DataFrame with recoded values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#pymasq.mitigations.top_recoding" title="pymasq.mitigations.top_recoding"><code class="xref py py-func docutils literal notranslate"><span class="pre">pymasq.mitigations.top_recoding()</span></code></a></dt><dd><p>Recode all values above a maximum threshold to a specific value.</p>
</dd>
<dt><a class="reference internal" href="#pymasq.mitigations.bot_recoding" title="pymasq.mitigations.bot_recoding"><code class="xref py py-func docutils literal notranslate"><span class="pre">pymasq.mitigations.bot_recoding()</span></code></a></dt><dd><p>Recode all values below a minimum threshold to a specific value.</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random_integers</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">)))</span>
<span class="go">    0   1    2</span>
<span class="go">0  182  529  949</span>
<span class="go">1  783  375  59</span>
<span class="go">2  253  349  631</span>
<span class="go">3  889  683  996</span>
<span class="go">4  523  554  803</span>
<span class="go">5  279  379  242</span>
<span class="go">6  639  26   833</span>
<span class="go">7  30   307  551</span>
<span class="go">8  681  885  822</span>
<span class="go">9  659  180  823</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">topbot_recoding</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span> <span class="n">top_cutoff</span><span class="o">=</span><span class="mi">800</span><span class="p">,</span> <span class="n">top_to</span><span class="o">=</span><span class="mi">999</span><span class="p">,</span> <span class="n">bot_cutoff</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">bot_to</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">    0   1    2</span>
<span class="go">0  0    529  999</span>
<span class="go">1  783  375  0</span>
<span class="go">2  0    349  631</span>
<span class="go">3  999  683  999</span>
<span class="go">4  523  554  999</span>
<span class="go">5  0    379  0</span>
<span class="go">6  639  0    999</span>
<span class="go">7  0    307  551</span>
<span class="go">8  681  999  999</span>
<span class="go">9  659  0    999</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="pymasq.mitigations.truncate">
<code class="sig-prename descclassname">pymasq.mitigations.</code><code class="sig-name descname">truncate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">, </span>pandas.core.series.Series<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">method</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'index'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#pymasq.mitigations.truncate" title="Permalink to this definition"></a></dt>
<dd><p>Truncate strings by index or after matching a speficic substring.</p>
<p>Wrapper function for <cite>truncate_by_index</cite> and <cite>truncate_by_match</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em><em>, </em><em>Series</em><em>, or </em><em>array_like</em>) – The data to be modified.</p></li>
<li><p><strong>method</strong> (<em>{'index'</em><em>, </em><em>'match'}</em><em>, </em><em>optional</em><em> (</em><em>Default: 'index'</em><em>)</em>) – The truncation method to perform.</p></li>
<li><p><strong>cols</strong> (<em>str</em><em> or </em><em>list</em><em>, </em><em>Optional</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
<li><p><strong>**kwargs</strong> – <p>Additional arguments to be passed to <cite>truncate_by_index</cite> and <cite>truncate_by_match</cite>.</p>
<p>If <cite>method</cite> is ‘index’:</p>
<blockquote>
<div><ul>
<li><dl class="simple">
<dt>idx<span class="classifier">int</span></dt><dd><p>The start index to truncate from. If <cite>end</cite> is None, then <cite>idx</cite> will be set to 0.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>end<span class="classifier">int, Optional</span></dt><dd><p>The end index to truncate to. If None, <cite>end</cite> will be set to <cite>idx</cite>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>trim_from<span class="classifier">{“start”, “end”, “both”}, Optional</span></dt><dd><p>The end of the string that should have character trimming applied</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>If <cite>method</cite> is ‘match’:</p>
<blockquote>
<div><ul>
<li><dl class="simple">
<dt>match<span class="classifier">str</span></dt><dd><p>The string to search for.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>keep<span class="classifier">{“before”, “after”}, optional (Default: “before”)</span></dt><dd><p>Truncate all characters before or after <cite>match</cite>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ignore_case<span class="classifier">boolean, optional (Default: False)</span></dt><dd><p>Should the supplied <cite>match</cite> pattern be case sensitive or not</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A DataFrame with truncated values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="pymasq.errors.html#pymasq.errors.InputError" title="pymasq.errors.InputError"><strong>InputError</strong></a> – This error is raised when a <cite>method</cite> is provided either without the required parameters for
    that <cite>method</cite>.</p></li>
<li><p><a class="reference internal" href="pymasq.errors.html#pymasq.errors.DataTypeError" title="pymasq.errors.DataTypeError"><strong>DataTypeError</strong></a> – This error is raised when the parameters supplied for a given method do not match the
    appropriate type of the expected parameters of that method.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#pymasq.mitigations.truncate_by_index" title="pymasq.mitigations.truncate_by_index"><code class="xref py py-func docutils literal notranslate"><span class="pre">pymasq.mitigations.truncate_by_index()</span></code></a></dt><dd><p>Truncates all characters within an index range.</p>
</dd>
<dt><a class="reference internal" href="#pymasq.mitigations.truncate_by_match" title="pymasq.mitigations.truncate_by_match"><code class="xref py py-func docutils literal notranslate"><span class="pre">pymasq.mitigations.truncate_by_match()</span></code></a></dt><dd><p>Truncates all characters before or after the first instance of a matching.</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pymasq</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">load_census</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;relationship&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">    workclass        education  relationship</span>
<span class="go">0  State-gov         Bachelors  Not-in-family</span>
<span class="go">1  Self-emp-not-inc  Bachelors  Husband</span>
<span class="go">2  Private           HS-grad    Not-in-family</span>
<span class="go">3  Private           11th       Husband</span>
<span class="go">4  Private           Bachelors  Wife</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">truncate</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;relationship&#39;</span><span class="p">],</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="n">idx</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">trim_from</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">)</span>
<span class="go">    workclass      education  relationship</span>
<span class="go">0  tate-go         achelor    ot-in-famil</span>
<span class="go">1  elf-emp-not-in  achelor    usban</span>
<span class="go">2  rivat           S-gra      ot-in-famil</span>
<span class="go">3  rivat           1t         usban</span>
<span class="go">4  rivat           achelor    if</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">truncate</span><span class="p">(</span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;relationship&#39;</span><span class="p">]],</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;match&#39;</span><span class="p">,</span> <span class="n">match</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="go">    workclass        education  relationship</span>
<span class="go">0  St                B          Not-in-f</span>
<span class="go">1  Self-emp-not-inc  B          Husb</span>
<span class="go">2  Priv              HS-gr      Not-in-f</span>
<span class="go">3  Priv              11th       Husb</span>
<span class="go">4  Priv              B          Wife</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="pymasq.mitigations.truncate_by_index">
<code class="sig-prename descclassname">pymasq.mitigations.</code><code class="sig-name descname">truncate_by_index</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">, </span>pandas.core.series.Series<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">idx</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">0</span></em>, <em class="sig-param"><span class="n">end</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>int<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">trim_from</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>List<span class="p">, </span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#pymasq.mitigations.truncate_by_index" title="Permalink to this definition"></a></dt>
<dd><p>Truncates all characters within an index range or by specific match.</p>
<p>Truncate all characters within an index range from the start of a string, the back of
a string, or both sides of a string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em><em> or </em><em>Series</em>) – The data to be modified.</p></li>
<li><p><strong>cols</strong> (<em>str</em><em> or </em><em>list</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
<li><p><strong>idx</strong> (<em>int</em><em> (</em><em>Default: 0</em><em>)</em>) – The start index to truncate from. If <cite>end</cite> is None, then <cite>idx</cite> will be set to 0.</p></li>
<li><p><strong>end</strong> (<em>int</em><em>, </em><em>Optional</em>) – The end index to truncate to. If None, <cite>end</cite> will be set to <cite>idx</cite>. If <cite>trim_from</cite> is
set, <cite>end</cite> will be ignored.</p></li>
<li><p><strong>trim_from</strong> (<em>{&quot;start&quot;</em><em>, </em><em>&quot;end&quot;</em><em>, </em><em>&quot;both&quot;}</em><em>, </em><em>Optional</em>) – The end of the string that should have character trimming applied</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The DataFrame with truncated values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pymasq</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">load_census</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;relationship&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">    workclass        education  relationship</span>
<span class="go">0  State-gov         Bachelors  Not-in-family</span>
<span class="go">1  Self-emp-not-inc  Bachelors  Husband</span>
<span class="go">2  Private           HS-grad    Not-in-family</span>
<span class="go">3  Private           11th       Husband</span>
<span class="go">4  Private           Bachelors  Wife</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">truncate_by_index</span><span class="p">(</span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;relationship&#39;</span><span class="p">]],</span> <span class="n">idx</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">trim_from</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">)</span>
<span class="go">    workclass      education  relationship</span>
<span class="go">0  tate-go         achelor    ot-in-famil</span>
<span class="go">1  elf-emp-not-in  achelor    usban</span>
<span class="go">2  rivat           S-gra      ot-in-famil</span>
<span class="go">3  rivat           1t         usban</span>
<span class="go">4  rivat           achelor    if</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="pymasq.mitigations.truncate_by_match">
<code class="sig-prename descclassname">pymasq.mitigations.</code><code class="sig-name descname">truncate_by_match</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">, </span>pandas.core.series.Series<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">match</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">keep_before</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">ignore_case</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">cols</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>List<span class="p">, </span>str<span class="p">, </span>int<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#pymasq.mitigations.truncate_by_match" title="Permalink to this definition"></a></dt>
<dd><p>Truncates all characters before or after the first instance of a matching.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em><em> or </em><em>Series</em>) – The data to be modified.</p></li>
<li><p><strong>match</strong> (<em>str</em>) – The string to search for.</p></li>
<li><p><strong>keep_before</strong> (<em>bool</em><em>, </em><em>optional</em><em> (</em><em>Default: True</em><em>)</em>) – Truncate all characters before or after <cite>match</cite>.</p></li>
<li><p><strong>ignore_case</strong> (<em>bool</em><em>, </em><em>optional</em><em> (</em><em>Default: False</em><em>)</em>) – Should the <cite>match</cite> pattern be searched for with exact casing (False) or with casing
ignored (True)</p></li>
<li><p><strong>cols</strong> (<em>str</em><em> or </em><em>list</em>) – The name of the column or columns to subset from <cite>data</cite> if <cite>data</cite> is a dataframe.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The DataFrame with truncated values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pymasq</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">load_census</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;relationship&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">    workclass        education  relationship</span>
<span class="go">0  State-gov         Bachelors  Not-in-family</span>
<span class="go">1  Self-emp-not-inc  Bachelors  Husband</span>
<span class="go">2  Private           HS-grad    Not-in-family</span>
<span class="go">3  Private           11th       Husband</span>
<span class="go">4  Private           Bachelors  Wife</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">truncate_by_match</span><span class="p">(</span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;relationship&#39;</span><span class="p">]],</span> <span class="n">match</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="go">    workclass        education  relationship</span>
<span class="go">0  St                B          Not-in-f</span>
<span class="go">1  Self-emp-not-inc  B          Husb</span>
<span class="go">2  Priv              HS-gr      Not-in-f</span>
<span class="go">3  Priv              11th       Husb</span>
<span class="go">4  Priv              B          Wife</span>
</pre></div>
</div>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, MITLL.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>